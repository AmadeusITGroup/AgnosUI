function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as i}from"./preload-helper.BQ24v_F8.js";const $=500,V=20,N=300,k="https://stackblitz.com",T=["angular-cli","create-react-app","html","javascript","node","polymer","typescript","vue"],C=["project","search","ports","settings"],F=["light","dark"],M=["editor","preview"],b={clickToLoad:t=>p("ctl",t),devToolsHeight:t=>j("devtoolsheight",t),forceEmbedLayout:t=>p("embed",t),hideDevTools:t=>p("hidedevtools",t),hideExplorer:t=>p("hideExplorer",t),hideNavigation:t=>p("hideNavigation",t),openFile:t=>O("file",t),showSidebar:t=>U("showSidebar",t),sidebarView:t=>E("sidebarView",t,C),startScript:t=>O("startScript",t),terminalHeight:t=>j("terminalHeight",t),theme:t=>E("theme",t,F),view:t=>E("view",t,M),zenMode:t=>p("zenMode",t)};function A(t={}){const e=Object.entries(t).map(([n,r])=>r!=null&&b.hasOwnProperty(n)?b[n](r):"").filter(Boolean);return e.length?`?${e.join("&")}`:""}function p(t,e){return e===!0?`${t}=1`:""}function U(t,e){return typeof e=="boolean"?`${t}=${e?"1":"0"}`:""}function j(t,e){if(typeof e=="number"&&!Number.isNaN(e)){const n=Math.min(100,Math.max(0,e));return`${t}=${encodeURIComponent(Math.round(n))}`}return""}function E(t,e="",n=[]){return n.includes(e)?`${t}=${encodeURIComponent(e)}`:""}function O(t,e){return(Array.isArray(e)?e:[e]).filter(r=>typeof r=="string"&&r.trim()!=="").map(r=>`${t}=${encodeURIComponent(r)}`).join("&")}function D(){return Math.random().toString(36).slice(2,6)+Math.random().toString(36).slice(2,6)}function v(t,e){return`${S(e)}${t}${A(e)}`}function y(t,e){const n={forceEmbedLayout:!0};return e&&typeof e=="object"&&Object.assign(n,e),`${S(n)}${t}${A(n)}`}function S(t={}){return(typeof t.origin=="string"?t.origin:k).replace(/\/$/,"")}function w(t,e,n){if(!e||!t||!t.parentNode)throw new Error("Invalid Element");t.id&&(e.id=t.id),t.className&&(e.className=t.className),q(e,n),t.replaceWith(e)}function P(t){if(typeof t=="string"){const e=document.getElementById(t);if(!e)throw new Error(`Could not find element with id '${t}'`);return e}else if(t instanceof HTMLElement)return t;throw new Error(`Invalid element: ${t}`)}function I(t){return t&&t.newWindow===!1?"_self":"_blank"}function q(t,e={}){const n=Object.hasOwnProperty.call(e,"height")?`${e.height}`:`${N}`,r=Object.hasOwnProperty.call(e,"width")?`${e.width}`:void 0;t.setAttribute("height",n),r?t.setAttribute("width",r):t.setAttribute("style","width:100%;")}class H{constructor(e){this.pending={},this.port=e,this.port.onmessage=this.messageListener.bind(this)}request({type:e,payload:n}){return new Promise((r,o)=>{const s=D();this.pending[s]={resolve:r,reject:o},this.port.postMessage({type:e,payload:{...n,__reqid:s}})})}messageListener(e){if(typeof e.data.payload?.__reqid!="string")return;const{type:n,payload:r}=e.data,{__reqid:o,__success:s,__error:a}=r;this.pending[o]&&(s?this.pending[o].resolve(this.cleanResult(r)):this.pending[o].reject(a?`${n}: ${a}`:n),delete this.pending[o])}cleanResult(e){const n={...e};return delete n.__reqid,delete n.__success,delete n.__error,Object.keys(n).length?n:null}}class K{constructor(e,n){this.editor={openFile:r=>this._rdc.request({type:"SDK_OPEN_FILE",payload:{path:r}}),setCurrentFile:r=>this._rdc.request({type:"SDK_SET_CURRENT_FILE",payload:{path:r}}),setTheme:r=>this._rdc.request({type:"SDK_SET_UI_THEME",payload:{theme:r}}),setView:r=>this._rdc.request({type:"SDK_SET_UI_VIEW",payload:{view:r}}),showSidebar:(r=!0)=>this._rdc.request({type:"SDK_TOGGLE_SIDEBAR",payload:{visible:r}})},this.preview={origin:"",getUrl:()=>this._rdc.request({type:"SDK_GET_PREVIEW_URL",payload:{}}).then(r=>r?.url??null),setUrl:(r="/")=>{if(typeof r!="string"||!r.startsWith("/"))throw new Error(`Invalid argument: expected a path starting with '/', got '${r}'`);return this._rdc.request({type:"SDK_SET_PREVIEW_URL",payload:{path:r}})}},this._rdc=new H(e),Object.defineProperty(this.preview,"origin",{value:typeof n.previewOrigin=="string"?n.previewOrigin:null,writable:!1})}applyFsDiff(e){const n=r=>r!==null&&typeof r=="object";if(!n(e)||!n(e.create))throw new Error("Invalid diff object: expected diff.create to be an object.");if(!Array.isArray(e.destroy))throw new Error("Invalid diff object: expected diff.destroy to be an array.");return this._rdc.request({type:"SDK_APPLY_FS_DIFF",payload:e})}getDependencies(){return this._rdc.request({type:"SDK_GET_DEPS_SNAPSHOT",payload:{}})}getFsSnapshot(){return this._rdc.request({type:"SDK_GET_FS_SNAPSHOT",payload:{}})}}const _=[];class x{constructor(e){this.id=D(),this.element=e,this.pending=new Promise((n,r)=>{const o=({data:d,ports:u})=>{d?.action==="SDK_INIT_SUCCESS"&&d.id===this.id&&(this.vm=new K(u[0],d.payload),n(this.vm),a())},s=()=>{this.element.contentWindow?.postMessage({action:"SDK_INIT",id:this.id},"*")};function a(){window.clearInterval(l),window.removeEventListener("message",o)}window.addEventListener("message",o),s();let c=0;const l=window.setInterval(()=>{if(this.vm){a();return}if(c>=V){a(),r("Timeout: Unable to establish a connection with the StackBlitz VM"),_.forEach((d,u)=>{d.id===this.id&&_.splice(u,1)});return}c++,s()},$)}),_.push(this)}}const W=t=>{const e=t instanceof Element?"element":"id";return _.find(n=>n[e]===t)??null};function B(t,e){const n=document.createElement("input");return n.type="hidden",n.name=t,n.value=e,n}function G(t){return t.replace(/\[/g,"%5B").replace(/\]/g,"%5D")}function L({template:t,title:e,description:n,dependencies:r,files:o,settings:s}){if(!T.includes(t)){const d=T.map(u=>`'${u}'`).join(", ");console.warn(`Unsupported project.template: must be one of ${d}`)}const a=[],c=(d,u,R="")=>{a.push(B(d,typeof u=="string"?u:R))};c("project[title]",e),typeof n=="string"&&n.length>0&&c("project[description]",n),c("project[template]",t,"javascript"),r&&(t==="node"?console.warn("Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template."):c("project[dependencies]",JSON.stringify(r))),s&&c("project[settings]",JSON.stringify(s)),Object.entries(o).forEach(([d,u])=>{c(`project[files][${G(d)}]`,u)});const l=document.createElement("form");return l.method="POST",l.setAttribute("style","display:none!important;"),l.append(...a),l}function J(t,e){const n=L(t);return n.action=y("/run",e),n.id="sb_run",`<!doctype html>
<html>
<head><title></title></head>
<body>
  ${n.outerHTML}
  <script>document.getElementById('${n.id}').submit();<\/script>
</body>
</html>`}function z(t,e){const n=L(t);n.action=v("/run",e),n.target=I(e),document.body.appendChild(n),n.submit(),document.body.removeChild(n)}function f(t){return t?.contentWindow?(W(t)??new x(t)).pending:Promise.reject("Provided element is not an iframe.")}function X(t,e){z(t,e)}function Y(t,e){const n=v(`/edit/${t}`,e),r=I(e);window.open(n,r)}function Q(t,e){const n=v(`/github/${t}`,e),r=I(e);window.open(n,r)}function Z(t,e,n){const r=P(t),o=J(e,n),s=document.createElement("iframe");return w(r,s,n),s.contentDocument?.write(o),f(s)}function tt(t,e,n){const r=P(t),o=document.createElement("iframe");return o.src=y(`/edit/${e}`,n),w(r,o,n),f(o)}function et(t,e,n){const r=P(t),o=document.createElement("iframe");return o.src=y(`/github/${e}`,n),w(r,o,n),f(o)}const nt={connect:f,embedGithubProject:et,embedProject:Z,embedProjectId:tt,openGithubProject:Q,openProject:X,openProjectId:Y},g=t=>t.style==="bootstrap",m=(t,e="",n,r=()=>!0)=>async(o,s)=>{r(s)&&await Promise.all(Object.keys(t).map(async a=>{const c=e+(n&&a.startsWith(n)?a.substring(n.length):a);o.files[c]=await t[a]()}))},h={angular:[m(Object.assign({"./angular/angular.json":()=>i(()=>import("./angular.DCJnSRFU.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./angular/index.html":()=>i(()=>import("./index.CcxmJVOD.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./angular/package-lock.json":()=>i(()=>import("./package-lock.CAF_QCWw.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./angular/package.json":()=>i(()=>import("./package.tOqKHKmg.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./angular/src/main.css":()=>i(()=>import("./main.qqcLrRi3.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./angular/src/polyfills.ts":()=>i(()=>import("./polyfills.cvO7zebP.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./angular/src/raw-loader.d.ts":()=>i(()=>import("./raw-loader.d.C5Bwl_T2.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./angular/tsconfig.json":()=>i(()=>import("./tsconfig.Bu5yzqH-.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default)}),"","./angular/"),async(t,e)=>{t.files["src/main.ts"]=`import {bootstrapApplication} from '@angular/platform-browser';
import MainComponent from './${e.files.angular.entryPoint.replace(/\.ts$/,"")}';
bootstrapApplication(MainComponent).catch((err) => console.error(err));`}],react:[m(Object.assign({"./react/index.html":()=>i(()=>import("./index.wkvL4Lmo.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./react/package-lock.json":()=>i(()=>import("./package-lock.BwwUii0D.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./react/package.json":()=>i(()=>import("./package.D74xFM0l.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./react/src/main.css":()=>i(()=>import("./main.CJFHMFTq.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./react/src/vite-env.d.ts":()=>i(()=>import("./vite-env.d.DWSAnUdW.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./react/tsconfig.json":()=>i(()=>import("./tsconfig.DZMgzP6e.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./react/vite.config.ts":()=>i(()=>import("./vite.config.Dnv89lCz.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default)}),"","./react/"),async(t,e)=>{t.files["src/main.tsx"]=`import {createRoot} from "react-dom/client";
import "./main.css";
import App from ${JSON.stringify(`./${e.files.react.entryPoint.replace(/\.tsx?$/,"")}`)};
const rootElement = document.getElementById('root');
const root = createRoot(rootElement);
root.render(<App />)`}],svelte:[m(Object.assign({"./svelte/index.html":()=>i(()=>import("./index.Brn_HoJF.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte/package-lock.json":()=>i(()=>import("./package-lock.DofWcf1S.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte/package.json":()=>i(()=>import("./package.Btvg24DN.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte/src/main.css":()=>i(()=>import("./main.CVBKD8TP.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte/src/vite-env.d.ts":()=>i(()=>import("./vite-env.d.BDc_3yBB.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte/svelte.config.js":()=>i(()=>import("./svelte.config.Bq_07HQ8.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte/tsconfig.json":()=>i(()=>import("./tsconfig.CLiwry4h.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte/vite.config.ts":()=>i(()=>import("./vite.config.CdjHn5n5.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default)}),"","./svelte/",g),m(Object.assign({"./svelte-tailwind/index.html":()=>i(()=>import("./index.Br5LSNMw.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte-tailwind/package-lock.json":()=>i(()=>import("./package-lock.DSNzfvQl.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte-tailwind/package.json":()=>i(()=>import("./package.BR_Vfy9I.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte-tailwind/postcss.config.js":()=>i(()=>import("./postcss.config.CzuMRqzA.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte-tailwind/src/main.css":()=>i(()=>import("./main.DONGGsAw.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte-tailwind/src/vite-env.d.ts":()=>i(()=>import("./vite-env.d.CDC67F1K.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte-tailwind/svelte.config.js":()=>i(()=>import("./svelte.config.DOFttJV5.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte-tailwind/tailwind.config.js":()=>i(()=>import("./tailwind.config.xTi4kQwo.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte-tailwind/tsconfig.json":()=>i(()=>import("./tsconfig.CFQwn63q.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default),"./svelte-tailwind/vite.config.ts":()=>i(()=>import("./vite.config.BAv7YOyr.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.default)}),"","./svelte-tailwind/",t=>!g(t)),async(t,e)=>{t.files["src/main.ts"]=`import "./main.css";
import App from ${JSON.stringify(`./${e.files.svelte.entryPoint}`)};
const app = new App({target: document.getElementById('root')});
export default app;`,t.template="node"}]};{const t=async({files:e},n,r)=>{const o=JSON.parse(e["package.json"]);g(n)?o.devDependencies[`@agnos-ui/${r}`]="0.2.0":o.devDependencies[`@agnos-ui/${r}-headless`]="0.2.0",e["package.json"]=JSON.stringify(o,null,"	")};h.angular.push(t),h.svelte.push(t),h.react.push(t)}const it=async(t,e)=>{const n={title:`AgnosUI ${e} demo - ${t.componentName} - ${t.sampleName}`,files:{},template:"node"},r=t.files[e],{entryPoint:o,files:s}=r,a=[m(s,"src/"),...h[e]];for(const l of a)await l(n,t,e);const c=[o,...Object.keys(s).filter(l=>l!=o)].map(l=>`src/${l}`).join(",");nt.openProject(n,{newWindow:!0,openFile:c})};export{it as openInStackblitz};
