import{n as p,c as b,d as v,r as f,e as d,w as c,b as n,f as a}from"./stores.j33DFbR_.js";const S={status:"pending"},y=e=>{const t=typeof e;return t==="object"&&e!==null||t==="function"?typeof e.then=="function":!1},g=e=>{const t=c(S);return Promise.resolve(e).then(r=>t.set({status:"fulfilled",value:r}),r=>t.set({status:"rejected",reason:r})),n(t)},l=new WeakMap,h=e=>{if(!y(e))return f({status:"fulfilled",value:e});let t=l.get(e);return t||(t=g(e),l.set(e,t)),t},T=(e,t)=>Object.is(e,t)||e.status===t.status&&(e.status!=="fulfilled"||d(e.value,t.value))&&(e.status!=="rejected"||d(e.reason,t.reason)),w=e=>b(()=>h(e())(),{equal:T}),P=(e,t,r)=>v(e,{derive:(s,o)=>{s.status==="fulfilled"&&o(s.value)},equal:r},t),$=(e,t,r)=>P(w(e),t,r),O=(e,t)=>{let r;const s=new Promise(u=>r=u);let o=()=>{e.removeEventListener(t,i),o=p};const i=u=>{u.target===e&&(r(u),o())};return e.addEventListener(t,i),{promise:s,unsubscribe(){o()}}},x=e=>{let t;return{promise:new Promise(r=>{t=setTimeout(()=>{t=void 0,r()},e)}),unsubscribe(){t&&(clearTimeout(t),t=void 0)}}},D=()=>{let e;return{promise:new Promise(r=>{e=r}),resolve:e}};f(void 0);const L=(e,t=!0)=>()=>{const r=e.subscribe(p);return{destroy:async()=>{t&&await 0,r()}}},W=e=>(t,r)=>(e(r),{update:e}),m={equal:Object.is},j=()=>{const e=c([],m);return n(e,{register:t=>{let r=!1;return e.update(s=>[...s,t]),()=>{r||(r=!0,e.update(s=>{const o=s.indexOf(t);if(o>-1){const i=[...s];return i.splice(o,1),i}return s}))}}})},k=()=>{const e=j();return{elements$:n(e),directive:t=>({destroy:e.register(t)})}},A=()=>{const e=c(null,m);return{element$:n(e),directive:t=>{let r=!1;return e.update(s=>s?(console.error("The directive cannot be used on multiple elements.",s,t),s):(r=!0,t)),r?{destroy(){e.update(s=>t===s?null:s)}}:void 0}}},F=(...e)=>(t,r)=>{const s=a(()=>e.map(o=>o(t,r)));return{update(o){a(()=>s.forEach(i=>{var u;return(u=i==null?void 0:i.update)==null?void 0:u.call(i,o)}))},destroy(){a(()=>s.reverse().forEach(o=>{var i;return(i=o==null?void 0:o.destroy)==null?void 0:i.call(o)}))}}};export{x as a,$ as b,A as c,L as d,D as e,W as f,k as g,F as m,O as p,j as r};
