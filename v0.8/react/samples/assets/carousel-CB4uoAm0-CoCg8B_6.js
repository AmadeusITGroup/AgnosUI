import{j as e,r as C}from"./App-CsOkU7k8.js";import{c as f}from"./index-B3sgZO52.js";import{t as m}from"./stores-CNc_rSPE.js";import{a as l,m as p,r as j,b as N}from"./dom-gfxqXJpK-DnwY-KAj.js";import{e as b}from"./extendWidget-CRSgS6m7.js";import{t as d,a as g}from"./writables-CgpOQ4hA-Cd7Z63K9.js";import{u as h}from"./config-C-QG9XGU.js";import{S as u}from"./slot-BtkEMpNN.js";import{u as i}from"./directive-CEErjM5c-BVE02Lyt.js";const S={className:"",containerClass:"",slideClass:"",slidesData:[],structure:void 0,navigation:void 0,slide:void 0,ariaLive:"polite"},$={className:d,containerClass:d,slideClass:void 0,slidesData:g,structure:void 0,navigation:void 0,slide:void 0,ariaLive:d},D={container:".au-carousel-container"};function P(r){const s=b(f,S,$,D)(r);return{...s,directives:{...s.directives,root:p(s.directives.root,l(()=>({classNames:{carousel:m},attributes:{class:s.stores.className$}}))),slide:p(s.directives.slide,l(t=>({attributes:{class:N(()=>{const a=s.stores.slideClass$();if(typeof a=="function"){const o=t();return a({id:o.id,index:o.index,active:o.index===s.stores.selectedScrollSnap$()})}else return a})}}))),container:l(()=>({classNames:{"au-carousel-container":m},attributes:{class:s.stores.containerClass$,"aria-atomic":j("false"),"aria-live":s.stores.ariaLive$}}))}}}const L=P,I=({direction:r,scrollPrev:s})=>{const t=r==="rtl"?"carousel-control-next":"carousel-control-prev";return e.jsx("button",{className:t,...i(s),children:e.jsx("span",{className:`${t}-icon`})})},y=({direction:r,scrollNext:s})=>{const t=r==="ltr"?"carousel-control-next":"carousel-control-prev";return e.jsx("button",{className:t,...i(s),children:e.jsx("span",{className:`${t}-icon`})})},B=({index:r,id:s,tabIndicator:t,active:a})=>e.jsx("button",{"data-bs-target":!0,className:a?"active":void 0,...i(t,{index:r,id:s})}),A=({slideData:r,widget:s,index:t})=>e.jsx("div",{...i(s.directives.slide,{id:r.id,index:t}),children:e.jsx(u,{slotContent:s.state.slide,props:{...r,...s}})}),E=({slidesData:r,tabList:s,tabIndicator:t,selectedScrollSnap:a})=>e.jsx("div",{className:"carousel-indicators",...i(s),children:r.map(({id:o},c)=>e.jsx(B,{index:c,tabIndicator:t,id:o,active:a===c},o))}),F=r=>{const{state:{showNavigationArrows:s,showNavigationIndicators:t,canScrollNext:a,canScrollPrev:o,slidesData:c,direction:v,selectedScrollSnap:x},directives:n}=r;return e.jsxs(e.Fragment,{children:[s&&e.jsxs(e.Fragment,{children:[o&&e.jsx(I,{scrollPrev:n.scrollPrev,direction:v}),a&&e.jsx(y,{scrollNext:n.scrollNext,direction:v})]}),t&&e.jsx(E,{slidesData:c,tabList:n.tabList,tabIndicator:n.tabIndicator,selectedScrollSnap:x})]})},W=r=>e.jsxs(e.Fragment,{children:[e.jsx(u,{slotContent:r.state.navigation,props:r}),e.jsx("div",{...i(r.directives.container),children:r.state.slidesData.map((s,t)=>e.jsx(A,{slideData:s,widget:r,index:t},s.id))})]});function G({ref:r,...s}){const t=h(L,s,"carousel",{structure:W,navigation:F});return C.useImperativeHandle(r,()=>t.api,[t.api]),e.jsx("div",{...i(t.directives.root),children:e.jsx(u,{slotContent:t.state.structure,props:t})})}export{G as C};
