import{f as m,q as b}from"./dom-BB9jLllr-Cs0LnZpg.js";import{a as h,b as x,s as P}from"./stores-BWu8V2zY.js";const S=(f,l,d,r)=>t=>{const a=h(l,t,d),s=t==null?void 0:t.config,p=x(s)?m(()=>({...r,...s()})):{...r,...s??{}},o=f({props:t==null?void 0:t.props,config:p});return{...o,...P({...o.stores,...a}),patch:u=>b(()=>{let e;for(const[n,c]of Object.entries(u??{})){const i=a[`${n}$`];i?i.set(c):(e||(e={}),e[n]=c)}e&&o.patch(e)})}};export{S as e};
