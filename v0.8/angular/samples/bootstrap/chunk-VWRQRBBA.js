import{a as se,b as le}from"./chunk-OKOHCKDB.js";import{c as ne}from"./chunk-YPEVY6YP.js";import{U as oe,V as ae,W as re}from"./chunk-JT3ZZOMZ.js";import{da as ie}from"./chunk-O7GLZ75W.js";import"./chunk-LO63LCNI.js";import{Ab as v,Bb as E,Gb as X,Hb as Y,Ja as j,Jb as Z,Ka as R,La as y,Lb as ee,Ta as Q,Tb as L,V as $,Za as x,ca as m,cb as W,da as d,fc as te,jb as B,kb as f,lb as G,mb as V,na as q,oa as S,qa as D,tb as J,ub as K,vb as l,wb as g,xb as P,zb as T}from"./chunk-SSC4ISQO.js";var Te=["progressbar"],Ee=(n,t)=>({index:n,id:t}),Ne=(n,t)=>[n,t],Ae=(n,t)=>t.id;function Oe(n,t){if(n&1&&(l(0,"div",6)(1,"button",11),Z(2),g()()),n&2){let e=t.$implicit,i=t.$index,o=E();y(),V("active",o.state().selectedScrollSnap()===i),f("auUse",L(7,Ne,o.directives().tabIndicator,L(4,Ee,i,e.id))),y(),ee(" ",i+1," ")}}var N=class n{constructor(){this.state=S.required();this.api=S.required();this.directives=S.required();this.playingChange=q();this.sanitizer=$(ne);this.playSvg=this.sanitizer.bypassSecurityTrustHtml(se);this.pauseSvg=this.sanitizer.bypassSecurityTrustHtml(le);this.progressbar=Q.required("progressbar");this.isPlaying=D(!0);te(()=>{this.state().initialized()&&(this.api().emblaApi().on("autoplay:play",()=>{this.isPlaying.set(!0),this.playingChange.emit(!0)}).on("autoplay:stop",()=>{this.isPlaying.set(!1),this.playingChange.emit(!1)}).on("autoplay:timerset",()=>{this.launchProgressbar()}).on("autoplay:timerstopped",()=>{this.progressbar().nativeElement.style.transition="none",this.progressbar().nativeElement.style.width="0%"}),this.launchProgressbar())})}onClick(){this.isPlaying()?this.api().plugins().autoplay.stop():this.api().plugins().autoplay.play()}launchProgressbar(){this.progressbar().nativeElement.style.transition="none",this.progressbar().nativeElement.style.width="0%",window.requestAnimationFrame(()=>{window.setTimeout(()=>{this.progressbar().nativeElement.style.transition=`width ${this.api().plugins().autoplay.timeUntilNext()}ms linear`,this.progressbar().nativeElement.style.width="100%"})})}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=x({type:n,selectors:[["app-autoplay-navigation"]],viewQuery:function(e,i){e&1&&X(i.progressbar,Te,5),e&2&&Y()},inputs:{state:[1,"state"],api:[1,"api"],directives:[1,"directives"]},outputs:{playingChange:"playingChange"},decls:12,vars:5,consts:[["progressbar",""],[1,"navigation"],[1,"d-flex","bg-light","rounded-4","py-1","px-2",3,"pointerdown","touchstart"],["type","button",1,"btn","btn-sm","btn-outline-primary","rounded-5","d-flex","align-items-center",3,"click","innerHTML"],[1,"d-flex","bg-light","rounded-4","py-1","px-3","align-items-center",3,"pointerdown","touchstart"],[1,"pagination","pagination-sm","align-items-center",3,"auUse"],[1,"page-item"],["aria-hidden","true",1,"progress-container","d-none","d-sm-flex"],[1,"bg-light","rounded-4","py-1","px-3","w-100","d-flex","align-items-center"],[1,"progress","w-100"],[1,"autoplay-progress-bar","progress-bar"],["type","button",1,"page-link",3,"auUse"]],template:function(e,i){if(e&1){let o=T();l(0,"div",1)(1,"div",2),v("pointerdown",function(r){return m(o),d(r.preventDefault())})("touchstart",function(r){return m(o),d(r.stopPropagation())}),l(2,"button",3),v("click",function(){return m(o),d(i.onClick())}),g()(),l(3,"div",4),v("pointerdown",function(r){return m(o),d(r.preventDefault())})("touchstart",function(r){return m(o),d(r.stopPropagation())}),l(4,"div",5),J(5,Oe,3,10,"div",6,Ae),g()()(),l(7,"div",7)(8,"div",8)(9,"div",9),P(10,"div",10,0),g()()()}e&2&&(y(2),f("innerHTML",i.isPlaying()?i.pauseSvg:i.playSvg,j),B("aria-label",i.isPlaying()?"Pause rotation of slides":"Play rotation of slides"),y(2),f("auUse",i.directives().tabList),y(),K(i.state().slidesData()),y(2),V("opacity-0",!i.isPlaying()))},dependencies:[ie],encapsulation:2,changeDetection:0})}};var Ie={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Ve(n,t){let e=n.scrollSnapList();return typeof t=="number"?e.map(()=>t):t(e,n)}function Le(n,t){let e=n.rootNode();return t&&t(e)||e}function A(n={}){let t,e,i,o,s=null,r=0,p=!1,_=!1,O=!1,C=!1;function pe(a,h){e=a;let{mergeOptions:b,optionsAtMedia:I}=h,we=b(Ie,A.globalOptions),Se=b(we,n);if(t=I(Se),e.scrollSnapList().length<=1)return;C=t.jump,i=!1,o=Ve(e,t.delay);let{eventStore:w,ownerDocument:De}=e.internalEngine(),k=!!e.internalEngine().options.watchDrag,H=Le(e,t.rootNode);w.add(De,"visibilitychange",de),k&&e.on("pointerDown",U),k&&!t.stopOnInteraction&&e.on("pointerUp",z),t.stopOnMouseEnter&&w.add(H,"mouseenter",fe),t.stopOnMouseEnter&&!t.stopOnInteraction&&w.add(H,"mouseleave",ge),t.stopOnFocusIn&&e.on("slideFocusStart",c),t.stopOnFocusIn&&!t.stopOnInteraction&&w.add(e.containerNode(),"focusout",u),t.playOnInit&&u()}function ue(){e.off("pointerDown",U).off("pointerUp",z).off("slideFocusStart",c),c(),i=!0,p=!1}function ce(){let{ownerWindow:a}=e.internalEngine();a.clearTimeout(r),r=a.setTimeout(Ce,o[e.selectedScrollSnap()]),s=new Date().getTime(),e.emit("autoplay:timerset")}function me(){let{ownerWindow:a}=e.internalEngine();a.clearTimeout(r),r=0,s=null,e.emit("autoplay:timerstopped")}function u(){if(!i){if(M()){O=!0;return}p||e.emit("autoplay:play"),ce(),p=!0}}function c(){i||(p&&e.emit("autoplay:stop"),me(),p=!1)}function de(){if(M())return O=p,c();O&&u()}function M(){let{ownerDocument:a}=e.internalEngine();return a.visibilityState==="hidden"}function U(){_||c()}function z(){_||u()}function fe(){_=!0,c()}function ge(){_=!1,u()}function ye(a){typeof a<"u"&&(C=a),u()}function ve(){p&&c()}function he(){p&&u()}function _e(){return p}function Ce(){let{index:a}=e.internalEngine(),h=a.clone().add(1).get(),b=e.scrollSnapList().length-1,I=t.stopOnLastSnap&&h===b;if(e.canScrollNext()?e.scrollNext(C):e.scrollTo(0,C),e.emit("autoplay:select"),I)return c();u()}function be(){if(!s)return null;let a=o[e.selectedScrollSnap()],h=new Date().getTime()-s;return a-h}return{name:"autoplay",options:n,init:pe,destroy:ue,play:ye,stop:ve,reset:he,isPlaying:_e,timeUntilNext:be}}A.globalOptions=void 0;function Fe(n,t){if(n&1){let e=T();l(0,"app-autoplay-navigation",3),v("playingChange",function(o){m(e);let s=E();return d(s.isPlaying.set(o))}),g()}if(n&2){let e=t.directives,i=t.state,o=t.api;f("state",i)("api",o)("directives",e)}}function Me(n,t){if(n&1&&P(0,"img",4),n&2){let e=t.src;G("aspect-ratio",1.8/1),f("src",e,R)}}var F=class n{constructor(){this.photos=[944,1011,984].map(t=>({id:`carousel-autoplay-${t}`,src:`https://picsum.photos/id/${t}/900/500`}));this.plugins=[A({playOnInit:!0,stopOnFocusIn:!0,delay:4e3})];this.isPlaying=D(!0)}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=x({type:n,selectors:[["ng-component"]],decls:3,vars:3,consts:[["auCarousel","","auLoop","",1,"autoplay-carousel",3,"auSlidesData","auPlugins","auAriaLive"],["auCarouselNavigation",""],["auCarouselSlide",""],[3,"playingChange","state","api","directives"],["alt","random picsum",1,"w-100","rounded-5",3,"src"]],template:function(e,i){e&1&&(l(0,"div",0),W(1,Fe,1,3,"ng-template",1)(2,Me,1,3,"ng-template",2),g()),e&2&&f("auSlidesData",i.photos)("auPlugins",i.plugins)("auAriaLive",i.isPlaying()?"off":"polite")},dependencies:[re,ae,oe,N],styles:[`.autoplay-carousel .au-carousel-slide{flex-basis:85%;margin-right:.5rem}.autoplay-carousel .navigation{position:absolute;top:1rem;left:10%;right:10%;z-index:1;display:flex;justify-content:space-between}.autoplay-carousel .progress-container{position:absolute;bottom:1rem;left:35%;right:35%;z-index:1}.autoplay-carousel .progress-container .progress{height:.75rem}@media (max-width: 576px){.au-carousel-slide{flex-basis:100%;margin-right:0}}@media (max-width: 576px){.navigation{top:.5rem;left:1rem;right:1rem}}
`],encapsulation:2})}};export{F as default};
