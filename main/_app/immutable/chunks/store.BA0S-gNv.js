import{ap as f,af as _,aq as y,M as w,ar as E,q as T,A as L,as as q,a8 as M,am as I,v as g,i as N,a3 as V}from"./runtime.B_vnUFRy.js";import{s as x}from"./utils.DtXCzCaV.js";function B(e){var r=y,o=w;f(null),_(null);try{return e()}finally{f(r),_(o)}}const D=new Set,O=new Set;function U(e){if(!L)return;e.onload&&e.removeAttribute("onload"),e.onerror&&e.removeAttribute("onerror");const r=e.__e;r!==void 0&&(e.__e=void 0,queueMicrotask(()=>{e.isConnected&&e.dispatchEvent(r)}))}function W(e,r,o,n){function a(t){if(n.capture||C.call(r,t),!t.cancelBubble)return B(()=>o.call(this,t))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?T(()=>{r.addEventListener(e,a,n)}):r.addEventListener(e,a,n),a}function F(e,r,o,n,a){var t={capture:n,passive:a},i=W(e,r,o,t);(r===document.body||r===window||r===document)&&E(()=>{r.removeEventListener(e,i,t)})}function H(e){for(var r=0;r<e.length;r++)D.add(e[r]);for(var o of O)o(e)}function C(e){var r=this,o=r.ownerDocument,n=e.type,a=e.composedPath?.()||[],t=a[0]||e.target,i=0,v=e.__root;if(v){var p=a.indexOf(v);if(p!==-1&&(r===document||r===window)){e.__root=r;return}var b=a.indexOf(r);if(b===-1)return;p<=b&&(i=p)}if(t=a[i]||e.target,t!==r){q(e,"currentTarget",{configurable:!0,get(){return t||o}});var S=y,k=w;f(null),_(null);try{for(var s,h=[];t!==null;){var d=t.assignedSlot||t.parentNode||t.host||null;try{var u=t["__"+n];if(u!==void 0&&!t.disabled)if(M(u)){var[m,...A]=u;m.apply(t,[e,...A])}else u.call(t,e)}catch(c){s?h.push(c):s=c}if(e.cancelBubble||d===r||d===null)break;t=d}if(s){for(let c of h)queueMicrotask(()=>{throw c});throw s}}finally{e.__root=r,delete e.currentTarget,f(S),_(k)}}}function J(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const P=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function K(e){return P.includes(e)}const j={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"};function Q(e){return e=e.toLowerCase(),j[e]??e}const z=["touchstart","touchmove"];function X(e){return z.includes(e)}let l=!1;function Y(e,r,o){const n=o[r]??={store:null,source:I(void 0),unsubscribe:g};if(n.store!==e)if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=g;else{var a=!0;n.unsubscribe=x(e,t=>{a?n.source.v=t:V(n.source,t)}),a=!1}return N(n.source)}function Z(){const e={};return E(()=>{for(var r in e)e[r].unsubscribe()}),e}function $(e){var r=l;try{return l=!1,[e(),l]}finally{l=r}}export{Y as a,D as b,$ as c,H as d,J as e,W as f,K as g,C as h,X as i,U as j,F as k,Q as n,O as r,Z as s};
