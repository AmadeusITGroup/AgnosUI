import{a as O,t as E}from"./index.BbxhXv5b.js";import{J as F,z as U}from"./scheduler.-4Rzn4Bj.js";import{n as q,e as W,h as z,r as R,i as P,g as T,j as h,d as _,k as V}from"./stores.Cje9VAZH.js";function oe(e){return e?.length!==void 0?e:Array.from(e)}function ie(e,t){O(e,1,1,()=>{t.delete(e.key)})}function ae(e,t,s,n,r,a,o,p,x,L,g,M){let l=e.length,f=a.length,d=l;const b={};for(;d--;)b[e[d].key]=d;const m=[],y=new Map,w=new Map,j=[];for(d=f;d--;){const i=M(r,a,d),c=s(i);let u=o.get(c);u?n&&j.push(()=>u.p(i,t)):(u=L(c,i),u.c()),y.set(c,m[d]=u),c in b&&w.set(c,Math.abs(d-b[c]))}const k=new Set,A=new Set;function S(i){E(i,1),i.m(p,g),o.set(i.key,i),g=i.first,f--}for(;l&&f;){const i=m[f-1],c=e[l-1],u=i.key,v=c.key;i===c?(g=i.first,l--,f--):y.has(v)?!o.has(u)||k.has(u)?S(i):A.has(v)?l--:w.get(u)>w.get(v)?(A.add(u),S(i)):(k.add(v),l--):(x(c,o),l--)}for(;l--;){const i=e[l];y.has(i.key)||x(i,o)}for(;f;)S(m[f-1]);return F(j),m}const C={status:"pending"},I=e=>{const t=typeof e;return t==="object"&&e!==null||t==="function"?typeof e.then=="function":!1},J=e=>{const t=T(C);return Promise.resolve(e).then(s=>t.set({status:"fulfilled",value:s}),s=>t.set({status:"rejected",reason:s})),h(t)},$=new WeakMap,B=e=>{if(!I(e))return R({status:"fulfilled",value:e});let t=$.get(e);return t||(t=J(e),$.set(e,t)),t},G=(e,t)=>Object.is(e,t)||e.status===t.status&&(e.status!=="fulfilled"||P(e.value,t.value))&&(e.status!=="rejected"||P(e.reason,t.reason)),H=e=>W(()=>B(e())(),{equal:G}),K=(e,t,s)=>z(e,{derive:(n,r)=>{n.status==="fulfilled"&&r(n.value)},equal:s},t),ce=(e,t,s)=>K(H(e),t,s),ue=(e,t)=>{let s;const n=new Promise(o=>s=o);let r=()=>{e.removeEventListener(t,a),r=q};const a=o=>{o.target===e&&(s(o),r())};return e.addEventListener(t,a),{promise:n,unsubscribe(){r()}}},le=e=>{let t;return{promise:new Promise(s=>{t=setTimeout(()=>{t=void 0,s()},e)}),unsubscribe(){t&&(clearTimeout(t),t=void 0)}}},de=()=>{let e;return{promise:new Promise(s=>{e=s}),resolve:e}},N=(e,t)=>s=>{let n=!0,r;const a=t.subscribe(o=>{var p;n?(n=!1,r=e(s,o)):(p=r?.update)==null||p.call(r,o)});return{destroy(){var o;(o=r?.destroy)==null||o.call(r),a()}}},Q=R(void 0),fe=e=>N(e,Q),pe=(e,t=!0)=>()=>{const s=e.subscribe(q);return{destroy:async()=>{t&&await 0,s()}}},me=e=>(t,s)=>(e(s),{update:e}),D={equal:Object.is},X=()=>{const e=T([],D);return h(e,{register:t=>{let s=!1;return e.update(n=>[...n,t]),()=>{s||(s=!0,e.update(n=>{const r=n.indexOf(t);if(r>-1){const a=[...n];return a.splice(r,1),a}return n}))}}})},ve=()=>{const e=X();return{elements$:h(e),directive:t=>({destroy:e.register(t)})}},he=()=>{const e=T(null,D);return{element$:h(e),directive:t=>{let s=!1;return e.update(n=>n?(console.error("The directive cannot be used on multiple elements.",n,t),n):(s=!0,t)),s?{destroy(){e.update(n=>t===n?null:n)}}:void 0}}},ge=(...e)=>(t,s)=>{const n=_(()=>e.map(r=>r(t,s)));return{update(r){_(()=>n.forEach(a=>{var o;return(o=a?.update)==null?void 0:o.call(a,r)}))},destroy(){_(()=>n.reverse().forEach(r=>{var a;return(a=r?.destroy)==null?void 0:a.call(r)}))}}},Y=/\r/g;function be(e,t=""){return`AgnosUI - ${e}`+(t?` for ${t}`:"")}function ye(e){return e.replace(Y,"").split(`

`)}const Z=/^\([^(]*\)[^=]*=>/,ee=/^function/,te=/^Slot/;function we(e){return Z.test(e)||ee.test(e)?"function":te.test(e)?"slot":e}function Se(e){let t;function s(n){t=n}return U(()=>{V.patch({elements:t?e(t):[]})}),s}export{me as a,fe as b,he as c,pe as d,ue as e,le as f,be as g,oe as h,ce as i,Se as j,ve as k,ge as m,we as n,ie as o,de as p,X as r,ye as t,ae as u};
