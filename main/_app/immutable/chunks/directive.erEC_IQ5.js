import{n as p,c as b,d as v,r as f,e as d,w as c,b as a,f as u}from"./stores.68Dngktc.js";const S={status:"pending"},y=e=>{const t=typeof e;return t==="object"&&e!==null||t==="function"?typeof e.then=="function":!1},g=e=>{const t=c(S);return Promise.resolve(e).then(s=>t.set({status:"fulfilled",value:s}),s=>t.set({status:"rejected",reason:s})),a(t)},l=new WeakMap,h=e=>{if(!y(e))return f({status:"fulfilled",value:e});let t=l.get(e);return t||(t=g(e),l.set(e,t)),t},T=(e,t)=>Object.is(e,t)||e.status===t.status&&(e.status!=="fulfilled"||d(e.value,t.value))&&(e.status!=="rejected"||d(e.reason,t.reason)),w=e=>b(()=>h(e())(),{equal:T}),P=(e,t,s)=>v(e,{derive:(r,o)=>{r.status==="fulfilled"&&o(r.value)},equal:s},t),$=(e,t,s)=>P(w(e),t,s),O=(e,t)=>{let s;const r=new Promise(i=>s=i);let o=()=>{e.removeEventListener(t,n),o=p};const n=i=>{i.target===e&&(s(i),o())};return e.addEventListener(t,n),{promise:r,unsubscribe(){o()}}},x=e=>{let t;return{promise:new Promise(s=>{t=setTimeout(()=>{t=void 0,s()},e)}),unsubscribe(){t&&(clearTimeout(t),t=void 0)}}},D=()=>{let e;return{promise:new Promise(s=>{e=s}),resolve:e}};f(void 0);const L=(e,t=!0)=>()=>{const s=e.subscribe(p);return{destroy:async()=>{t&&await 0,s()}}},W=e=>(t,s)=>(e(s),{update:e}),m={equal:Object.is},j=()=>{const e=c([],m);return a(e,{register:t=>{let s=!1;return e.update(r=>[...r,t]),()=>{s||(s=!0,e.update(r=>{const o=r.indexOf(t);if(o>-1){const n=[...r];return n.splice(o,1),n}return r}))}}})},k=()=>{const e=j();return{elements$:a(e),directive:t=>({destroy:e.register(t)})}},A=()=>{const e=c(null,m);return{element$:a(e),directive:t=>{let s=!1;return e.update(r=>r?(console.error("The directive cannot be used on multiple elements.",r,t),r):(s=!0,t)),s?{destroy(){e.update(r=>t===r?null:r)}}:void 0}}},F=(...e)=>(t,s)=>{const r=u(()=>e.map(o=>o(t,s)));return{update(o){u(()=>r.forEach(n=>n?.update?.(o)))},destroy(){u(()=>r.reverse().forEach(o=>o?.destroy?.()))}}};export{x as a,$ as b,A as c,L as d,D as e,W as f,k as g,F as m,O as p,j as r};
