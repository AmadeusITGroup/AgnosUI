import{a as B,t as C}from"./index.BK_xdHAZ.js";import{J as W,A as F}from"./scheduler.DHbooxev.js";import{n as k,c as U,f as V,r as q,j as $,e as T,k as w,g as _,l as H}from"./stores.Dp-2zJGm.js";function ue(e){return e?.length!==void 0?e:Array.from(e)}function le(e,t){B(e,1,1,()=>{t.delete(e.key)})}function de(e,t,s,n,r,a,o,v,x,E,g,O){let l=e.length,f=a.length,d=l;const h={};for(;d--;)h[e[d].key]=d;const p=[],b=new Map,y=new Map,A=[];for(d=f;d--;){const i=O(r,a,d),c=s(i);let u=o.get(c);u?n&&A.push(()=>u.p(i,t)):(u=E(c,i),u.c()),b.set(c,p[d]=u),c in h&&y.set(c,Math.abs(d-h[c]))}const D=new Set,L=new Set;function S(i){C(i,1),i.m(v,g),o.set(i.key,i),g=i.first,f--}for(;l&&f;){const i=p[f-1],c=e[l-1],u=i.key,m=c.key;i===c?(g=i.first,l--,f--):b.has(m)?!o.has(u)||D.has(u)?S(i):L.has(m)?l--:y.get(u)>y.get(m)?(L.add(u),S(i)):(D.add(m),l--):(x(c,o),l--)}for(;l--;){const i=e[l];b.has(i.key)||x(i,o)}for(;f;)S(p[f-1]);return W(A),p}const z={status:"pending"},I=e=>{const t=typeof e;return t==="object"&&e!==null||t==="function"?typeof e.then=="function":!1},J=e=>{const t=T(z);return Promise.resolve(e).then(s=>t.set({status:"fulfilled",value:s}),s=>t.set({status:"rejected",reason:s})),w(t)},j=new WeakMap,G=e=>{if(!I(e))return q({status:"fulfilled",value:e});let t=j.get(e);return t||(t=J(e),j.set(e,t)),t},K=(e,t)=>Object.is(e,t)||e.status===t.status&&(e.status!=="fulfilled"||$(e.value,t.value))&&(e.status!=="rejected"||$(e.reason,t.reason)),N=e=>U(()=>G(e())(),{equal:K}),Q=(e,t,s)=>V(e,{derive:(n,r)=>{n.status==="fulfilled"&&r(n.value)},equal:s},t),fe=(e,t,s)=>Q(N(e),t,s),ve=(e,t)=>{let s;const n=new Promise(o=>s=o);let r=()=>{e.removeEventListener(t,a),r=k};const a=o=>{o.target===e&&(s(o),r())};return e.addEventListener(t,a),{promise:n,unsubscribe(){r()}}},pe=e=>{let t;return{promise:new Promise(s=>{t=setTimeout(()=>{t=void 0,s()},e)}),unsubscribe(){t&&(clearTimeout(t),t=void 0)}}},me=()=>{let e;return{promise:new Promise(s=>{e=s}),resolve:e}},we=(e=document.body)=>{M(e)&&e.getBoundingClientRect()},ge=(e,t)=>{t&&t.length>0&&e.classList.add(...t)},he=(e,t)=>{t&&t.length>0&&e.classList.remove(...t)},M=e=>{var t;const s=((t=e?.ownerDocument)==null?void 0:t.defaultView)??window;return e instanceof s.HTMLElement},P=e=>(t,s)=>{if(M(t))return e(t,s)},X=(e,t)=>s=>{let n=!0,r;const a=t.subscribe(o=>{var v;n?(n=!1,r=e(s,o)):(v=r?.update)==null||v.call(r,o)});return{destroy(){var o;(o=r?.destroy)==null||o.call(r),a()}}},Y=q(void 0),be=e=>X(e,Y),ye=(e,t=!0)=>()=>{const s=e.subscribe(k);return{destroy:async()=>{t&&await 0,s()}}},Se=e=>(t,s)=>(e(s),{update:e}),R={equal:Object.is},Z=()=>{const e=T([],R);return w(e,{register:t=>{let s=!1;return e.update(n=>[...n,t]),()=>{s||(s=!0,e.update(n=>{const r=n.indexOf(t);if(r>-1){const a=[...n];return a.splice(r,1),a}return n}))}}})},ee=()=>{const e=Z();return{elements$:w(e),directive:t=>({destroy:e.register(t)})}},_e=()=>{const{directive:e,elements$:t}=ee();return{directive:P(e),elements$:t}},te=()=>{const e=T(null,R);return{element$:w(e),directive:t=>{let s=!1;return e.update(n=>n?(console.error("The directive cannot be used on multiple elements.",n,t),n):(s=!0,t)),s?{destroy(){e.update(n=>t===n?null:n)}}:void 0}}},Te=()=>{const{directive:e,element$:t}=te();return{directive:P(e),element$:t}},xe=(...e)=>(t,s)=>{const n=_(()=>e.map(r=>r(t,s)));return{update(r){_(()=>n.forEach(a=>{var o;return(o=a?.update)==null?void 0:o.call(a,r)}))},destroy(){_(()=>n.reverse().forEach(r=>{var a;return(a=r?.destroy)==null?void 0:a.call(r)}))}}},se=/\r/g;function Ae(e,t=""){return`AgnosUI - ${e}`+(t?` for ${t}`:"")}function De(e){return e.replace(se,"").split(`

`)}const ne=/^\([^(]*\)[^=]*=>/,re=/^function/,oe=/^Slot/;function Le(e){return ne.test(e)||re.test(e)?"function":oe.test(e)?"slot":e}function $e(e){let t;function s(n){t=n}return F(()=>{H.patch({elements:t?e(t):[]})}),s}export{pe as a,be as b,te as c,me as d,ye as e,Se as f,Ae as g,ge as h,M as i,we as j,ue as k,Z as l,xe as m,Te as n,le as o,ve as p,fe as q,he as r,Le as s,De as t,de as u,_e as v,$e as w};
