import{n as p,c as b,d as v,r as f,e as l,w as a,b as d,f as n}from"./stores.iQ-4ad4o.js";const S={status:"pending"},y=e=>{const t=typeof e;return t==="object"&&e!==null||t==="function"?typeof e.then=="function":!1},h=e=>{const t=a(S);return Promise.resolve(e).then(r=>t.set({status:"fulfilled",value:r}),r=>t.set({status:"rejected",reason:r})),d(t)},c=new WeakMap,T=e=>{if(!y(e))return f({status:"fulfilled",value:e});let t=c.get(e);return t||(t=h(e),c.set(e,t)),t},g=(e,t)=>Object.is(e,t)||e.status===t.status&&(e.status!=="fulfilled"||l(e.value,t.value))&&(e.status!=="rejected"||l(e.reason,t.reason)),w=e=>b(()=>T(e())(),{equal:g}),P=(e,t,r)=>v(e,{derive:(s,o)=>{s.status==="fulfilled"&&o(s.value)},equal:r},t),q=(e,t,r)=>P(w(e),t,r),O=(e,t)=>{let r;const s=new Promise(u=>r=u);let o=()=>{e.removeEventListener(t,i),o=p};const i=u=>{u.target===e&&(r(u),o())};return e.addEventListener(t,i),{promise:s,unsubscribe(){o()}}},x=e=>{let t;return{promise:new Promise(r=>{t=setTimeout(()=>{t=void 0,r()},e)}),unsubscribe(){t&&(clearTimeout(t),t=void 0)}}},L=()=>{let e;return{promise:new Promise(r=>{e=r}),resolve:e}};f(void 0);const W=(e,t=!0)=>()=>{const r=e.subscribe(p);return{destroy:async()=>{t&&await 0,r()}}},$=e=>(t,r)=>(e(r),{update:e}),m={equal:Object.is},k=()=>{const e=a([],m);return d(e,{register:t=>{let r=!1;return e.update(s=>[...s,t]),()=>{r||(r=!0,e.update(s=>{const o=s.indexOf(t);if(o>-1){const i=[...s];return i.splice(o,1),i}return s}))}}})},D=()=>{const e=a(null,m);return{element$:d(e),directive:t=>{let r=!1;return e.update(s=>s?(console.error("The directive cannot be used on multiple elements.",s,t),s):(r=!0,t)),r?{destroy(){e.update(s=>t===s?null:s)}}:void 0}}},F=(...e)=>(t,r)=>{const s=n(()=>e.map(o=>o(t,r)));return{update(o){n(()=>s.forEach(i=>{var u;return(u=i==null?void 0:i.update)==null?void 0:u.call(i,o)}))},destroy(){n(()=>s.reverse().forEach(o=>{var i;return(i=o==null?void 0:o.destroy)==null?void 0:i.call(o)}))}}};export{x as a,q as b,D as c,W as d,L as e,$ as f,F as m,O as p,k as r};
