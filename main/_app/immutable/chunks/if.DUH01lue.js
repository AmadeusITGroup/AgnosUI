import{w as T,x as n,y as A,E as p,H as R,z as g,A as x,B as _,C as o,D as u,F as h,G as F}from"./runtime.RTR6NQ9h.js";function S(d,v,b=!1){n&&A();var e=d,a=null,s=null,f=null,m=b?p:0,l=!1;const y=(r,t=!0)=>{l=!0,i(t,r)},i=(r,t)=>{if(f===(f=r))return;let c=!1;if(n){const E=e.data===R;f===E&&(e=g(),x(e),_(!1),c=!0)}f?(a?o(a):t&&(a=u(()=>t(e))),s&&h(s,()=>{s=null})):(s?o(s):t&&(s=u(()=>t(e))),a&&h(a,()=>{a=null})),c&&_(!0)};T(()=>{l=!1,v(y),l||i(null,null)},m),n&&(e=F)}export{S as i};
