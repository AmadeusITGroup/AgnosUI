import{e as y,u as h,r as w,h as g,as as L}from"./CSCPLJ4H.js";import{w as b,e as S,r as C,f as u,n as D,g as j}from"./DTvIBtKs.js";function R(e,t,r){y(()=>{var s=h(()=>t(e,r?.())||{});if(r&&s?.update){var n=!1,a={};w(()=>{var c=r();g(c),n&&L(a,c)&&(a=c,s.update(c))}),n=!0}if(s?.destroy)return()=>s.destroy()})}function d(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=d(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function A(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=d(e))&&(s&&(s+=" "),s+=t);return s}const f=(e=>{const t=e?.ownerDocument?.defaultView??window;return e instanceof t.HTMLElement}),E=e=>(t,r)=>{if(f(t))return e(t,r)};C(void 0);const k=(e,t=!0)=>()=>{const r=e.subscribe(D);return{destroy:async()=>{t&&await Promise.resolve(),r()}}},O={equal:Object.is},N=()=>{const e=b(null,O);return{element$:S(e),directive:t=>{let r=!1;return e.update(s=>s?(console.error("The directive cannot be used on multiple elements.",s,t),s):(r=!0,t)),r?{destroy(){e.update(s=>t===s?null:s)}}:void 0}}},z=()=>{const{directive:e,element$:t}=N();return{directive:E(e),element$:t}},P=(...e)=>(t,r)=>{const s=u(()=>e.map(n=>n(t,r)));return{update(n){u(()=>s.forEach(a=>a?.update?.(n)))},destroy(){u(()=>s.reverse().forEach(n=>n?.destroy?.()))}}},$=e=>(t,r)=>{const s=[],n=b(r),{events:a,attributes:c,styles:p,classNames:m}=e(n);if(f(t))for(const[i,o]of Object.entries(a??{}))typeof o=="function"?s.push(l(t,i,o)):s.push(l(t,i,o.handler,o.options));for(const[i,o]of Object.entries(c??{}))o!=null&&s.push(T(t,i,o));for(const[i,o]of Object.entries(p??{}))o&&s.push(_(t,i,o));for(const[i,o]of Object.entries(m??{}))s.push(x(t,i,o));return{update:i=>n.set(i),destroy:()=>s.forEach(i=>i())}},V=$(e=>({attributes:{class:j(()=>A(e()))}})),W=(e=document.body)=>{f(e)&&e.getBoundingClientRect()},F=(e,t)=>{t&&t.length>0&&e.classList.add(...t)},G=(e,t)=>{t&&t.length>0&&e.classList.remove(...t)};function l(e,t,r,s){return e.addEventListener(t,r,s),function(){e.removeEventListener(t,r,s)}}const v=e=>e!=null&&e!==!1;function q(e,t){let r=new Set;return t.subscribe(s=>{const n=new Set(`${s??""}`.split(" "));n.delete("");const a=e.classList;for(const c of r)n.has(c)||a.remove(c);n.size>0&&a.add(...n),r=n})}function B(e,t,r){return r.subscribe(s=>{v(s)?e.setAttribute(t,""+(s===!0?t:s)):e.removeAttribute(t)})}function T(e,t,r){return t==="class"?q(e,r):B(e,t,r)}function _(e,t,r){return r.subscribe(s=>{const n=e.style;n[t]=""+(v(s)?s:"")})}function x(e,t,r){const s=r.subscribe(n=>{e.classList.toggle(t,n)});return()=>{s(),e.classList.remove(t)}}export{R as a,E as b,z as c,V as d,N as e,k as f,F as g,W as h,f as i,P as m,G as r};
