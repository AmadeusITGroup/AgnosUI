import{b as le,t as fe}from"./index.94WAa3an.js";import{J as he,y as de}from"./scheduler.l1yozE5D.js";import{p as q}from"./stores.xoUjZqTF.js";import{b as be,r as pe}from"./entry.7u1AYX51.js";function Ze(t){return t?.length!==void 0?t:Array.from(t)}function et(t,e){le(t,1,1,()=>{e.delete(t.key)})}function tt(t,e,s,n,i,r,o,u,l,y,f,a){let c=t.length,d=r.length,m=c;const L={};for(;m--;)L[t[m].key]=m;const k=[],z=new Map,F=new Map,G=[];for(m=d;m--;){const h=a(i,r,m),v=s(h);let g=o.get(v);g?n&&G.push(()=>g.p(h,e)):(g=y(v,h),g.c()),z.set(v,k[m]=g),v in L&&F.set(v,Math.abs(m-L[v]))}const J=new Set,K=new Set;function O(h){fe(h,1),h.m(u,f),o.set(h.key,h),f=h.first,d--}for(;c&&d;){const h=k[d-1],v=t[c-1],g=h.key,$=v.key;h===v?(f=h.first,c--,d--):z.has($)?!o.has(g)||J.has(g)?O(h):K.has($)?c--:F.get(g)>F.get($)?(K.add(g),O(h)):(J.add($),c--):(l(v,o),c--)}for(;c--;){const h=t[c];z.has(h.key)||l(h,o)}for(;d;)O(k[d-1]);return he(G),k}var X;const C=typeof Symbol=="function"&&Symbol.observable||"@@observable",M=Symbol(),S=()=>{},E=()=>{};E.unsubscribe=E;const j=(t,e)=>{const s=t?t[e]:null;return typeof s=="function"?s.bind(t):S},ee=t=>({next:typeof t=="function"?t.bind(null):j(t,"next"),pause:j(t,"pause"),resume:j(t,"resume"),_value:void 0,_valueIndex:0,_paused:!1}),te=function(){return this},N=t=>{if(!t)return E;if(t.unsubscribe===t)return t;const e=typeof t=="function"?()=>t():()=>t.unsubscribe();return e.unsubscribe=e,e},T=new WeakSet,me=t=>{let e=t.subscribe;return T.has(e)||(e=(...s)=>N(t.subscribe(...s)),T.add(e)),e},V=t=>{const e="subscribe"in t?t:t[C]();return me(e)},ve=t=>{let e;return t(s=>e=s)(),e};function w(t,e){const s=V(t),n=Object.assign(()=>_(n),e,{subscribe:s,[C]:te});return n}const B=function(t){this.set(t(ue(()=>_(this))))};function ge(t,e){return w(t,typeof e=="function"?{set:e,update:B}:{...e,set:e?.set??S,update:e?.update??(e?.set?B:S)})}const b=Symbol(),se=Symbol();let D=!1;const U=new Set,ye=1e3,W=t=>{if(t>ye)throw new Error("reached maximum number of store changes in one shot")},R=t=>{const e=!D;e&&(D=!0);try{return t()}finally{if(e)try{const s=new Map;for(const n of U){const i=s.get(n)??0;W(i),s.set(n,i+1),U.delete(n),n[se]()}}finally{U.clear(),D=!1}}},ne=t=>ve(V(t));let x=ne;const _=t=>x(t),H=t=>({[t]:!0,[t-1]:!1,0:!1}),I=Symbol(),Se=(t,e)=>Object.is(t,e)&&(!t||typeof t!="object")&&typeof t!="function";class P{#s;#n;#e;#t;#i;#o;#c;constructor(e){this.#s=new Set,this.#n=null,this.#e=!1,this.#t=1,this.#o=H(1),this.#c=new WeakMap,this[X]=!1,this.#i=e}#u(){this.#n=N(this.onUse())}#r(){const e=this.#n;e&&(this.#n=null,e())}[(X=I,se)](){const e=this.#t;for(const s of[...this.#s]){if(this.#e||this.#t!==e)return;s._valueIndex!==0&&this.#a(s)}}[b](){}#a(e){const s=this.#o,n=this.#t,i=this.#i;let r=s[e._valueIndex];r==null&&(r=!!this.equal(e._value,i),s[e._valueIndex]=r),e._valueIndex=n,r?!this.#e&&e._paused&&(e._paused=!1,e.resume()):(e._value=i,e._paused=!1,e.next(i))}equal(e,s){return!this.notEqual(e,s)}notEqual(e,s){return!Se(e,s)}pauseSubscribers(){if(!this.#e){this.#e=!0,U.delete(this);for(const e of[...this.#s])e._valueIndex===0||e._paused||(e._paused=!0,e.pause())}}resumeSubscribers(){this.#e&&(this.#e=!1,R(()=>{U.add(this)}))}set(e){const s=this[I];if(s||!this.equal(this.#i,e)){const n=this.#t+1;this.#t=n,this.#i=e,this.#o=H(n),s&&delete this.#o[n-1],this.pauseSubscribers()}this.resumeSubscribers()}update(e){this.set(e(this.#i))}onUse(){}subscribe(e){const s=ee(e),n=e?.[M];if(n){const r=this.#c.get(n);r&&(s._value=r._value,s._valueIndex=r._valueIndex)}this.#s.add(s),R(()=>{this.#s.size==1?this.#u():this[b]()}),this.#a(s);const i=()=>{const r=this.#s.delete(s);s.next=S,s.pause=S,s.resume=S,r&&(this.#c.set(i,s),this.#s.size===0&&this.#r())};return i[b]=()=>{this[b](),this.#a(s)},i.unsubscribe=i,i}[C](){return this}}function we(t){const e=s=>(s?.[M]||ee(s).next(t),E);return T.add(e),Object.assign(()=>t,{subscribe:e,[C]:te})}class ie extends P{constructor(e){super(e)}set(e){super.set(e)}update(e){super.update(e)}}const A=(t,e)=>{const{onUse:s,equal:n,notEqual:i}=e;return s&&(t.onUse=function(){const r=o=>this.set(o);return r.set=r,r.update=o=>this.update(o),s(r)}),n&&(t.equal=function(r,o){return n(r,o)}),i&&(t.notEqual=function(r,o){return i(r,o)}),t};function re(t,e={}){return typeof e=="function"&&(e={onUse:e}),e.onUse?w(A(new ie(t),e)):we(t)}function oe(t,e={}){typeof e=="function"&&(e={onUse:e});const s=A(new ie(t),e);return w(s,{set:s.set.bind(s),update:s.update.bind(s)})}function xe(t){return t.length<=1}const _e=t=>t();class Y extends P{#s;#n;#e=0;constructor(e,s){super(s);const n=Array.isArray(e);this.#s=n,this.#n=(n?[...e]:[e]).map(V)}resumeSubscribers(){this.#e||super.resumeSubscribers()}onUse(){let e=!1,s=0;const n=this.#s,i=this.#n,r=new Array(i.length);let o=null;const u=()=>{const a=o;a&&(o=null,a())},l=(a=!1)=>{a&&(e=!0),e&&!this.#e&&(s&&(s=0,u(),o=N(this.derive(n?r:r[0]))),this.resumeSubscribers())},y=i.map((a,c)=>{const d=m=>{r[c]=m,s|=1<<c,this.#e&=~(1<<c),l()};return d.next=d,d.pause=()=>{this.#e|=1<<c,this.pauseSubscribers()},d.resume=()=>{this.#e&=~(1<<c),l()},a(d)}),f=(a,c)=>{this.#e&1<<c&&a[b]?.()};return this[b]=()=>{let a=0;for(;this.#e&&(W(++a),e=!1,y.forEach(f),!this.#e);)l(!0)},l(!0),this[b](),()=>{this[b]=S,u(),y.forEach(_e)}}}function Ie(t,e,s){typeof e=="function"&&(e={derive:e});const{derive:n,...i}=e,r=xe(n)?class extends Y{constructor(o,u){super(o,u),this[I]=!0}derive(o){this.set(n(o)),this[I]=!1}}:class extends Y{derive(o){const u=l=>this.set(l);return u.set=u,u.update=l=>this.update(l),n(o,u)}};return w(A(new r(t,s),{...i,onUse:void 0}))}const ue=t=>{const e=x;try{return x=ne,t()}finally{x=e}},Ue=({unsubscribe:t})=>t(),Re=({resubscribe:t})=>t();class ke extends P{#s=!1;#n=!1;#e=0;#t=new Map;#i=e=>ue(()=>this.#c(e));constructor(){super(void 0),this[I]=!0}#o(e){const s={versionIndex:this.#e,unsubscribe:S,resubscribe:S,pending:!1,usedValueIndex:0,value:void 0,valueIndex:0},n=i=>{s.value=i,s.valueIndex++,s.pending=!1,!this.#n&&!this.#r()&&R(()=>this.#u())};return n.next=n,n.pause=()=>{s.pending=!0,this.pauseSubscribers()},n.resume=()=>{s.pending=!1,!this.#n&&!this.#r()&&R(()=>this.#u())},s.resubscribe=()=>{s.unsubscribe=e(n),n[M]=s.unsubscribe},s.resubscribe(),s}#c(e){let s=this.#t.get(e);return s?(s.versionIndex=this.#e,s.unsubscribe[b]?.()):(s=this.#o(V(e)),this.#t.set(e,s)),s.usedValueIndex=s.valueIndex,s.value}#u(e=!1){this.#s=!0,this.#n=!0;try{if(this.#e>0&&(e&&this.#t.forEach(Re),!this.#a())){this.resumeSubscribers();return}this.#e++;const s=this.#e,n=x;let i;try{x=this.#i,i=this.compute()}finally{x=n}this.set(i),this[I]=!1;for(const[r,o]of this.#t)o.versionIndex!==s&&(this.#t.delete(r),o.unsubscribe())}finally{this.#n=!1,this.#s=!1}}#r(){for(const[,{pending:e}]of this.#t)if(e)return!0;return!1}#a(){for(const[,{valueIndex:e,usedValueIndex:s}]of this.#t)if(e!=s)return!0;return!1}resumeSubscribers(){this.#r()||super.resumeSubscribers()}[b](){if(this.#s)throw new Error("recursive computed");let e=0;for(;this.#r();){W(++e),this.#n=!0;try{for(const[,{pending:s,unsubscribe:n}]of this.#t)s&&n[b]?.()}finally{this.#n=!1}if(this.#r())break;this.#u()}}onUse(){return this.#u(!0),this[b](),()=>this.#t.forEach(Ue)}}function p(t,e={}){const s=class extends ke{compute(){return t()}};return w(A(new s,{...e,onUse:void 0}))}const $e=()=>{},Ee=t=>t,Z=Symbol();function qe(t){return function(e){R(()=>{for(const[s,n]of Object.entries(e??{}))t[`${s}$`]?.set(n)})}}function Ce(t,e=re(void 0),s={},n=oe(void 0)){const{normalizeValue:i=Ee,equal:r=Object.is}=s,o=()=>t,u=(f,a=o)=>{const c=f===void 0?void 0:i(f);return c===Z?(console.error("Not using invalid value",f),a()):c===void 0?a():c},l=p(()=>u(e()),{equal:r}),y=p(()=>u(n(),l),{equal:r});return ge(y,f=>{if(f!==void 0){const a=i(f);if(a===Z){console.error("Not setting invalid value",f);return}f=a}n.set(f)})}const Q=t=>!!(t&&typeof t=="function"&&"subscribe"in t),Ve=t=>Q(t)?t:re(t),Ae=t=>Q(t)?t:oe(t),Le=(t,e)=>{const s={};if(e){const n=Q(e);for(const i of t)s[i]=n?p(()=>e()[i]):Ve(e[i])}return s},ze=(t,e,s)=>{const n={},i=Object.keys(t),r=Le(i,e?.config),o=e?.props;for(const u of i){const l=o?.[u];n[`${u}$`]=Ce(t[u],r[u],s?.[u],Ae(l))}return n},Fe=(t,e,s)=>{const n=ze(t,e,s);return[n,qe(n)]},st=t=>{const e=[],s=[],n={};for(const i of Object.keys(t))if(i.endsWith("$")){const r=t[i];e.push(i.substring(0,i.length-1)),s.push(r),n[i]=w(r)}return{stores:n,state$:p(()=>{const i=s.map(_),r={};return e.forEach((o,u)=>{r[o]=i[u]}),r})}},Oe={elements:[],options:void 0},je=t=>{const[{elements$:e,options$:s},n]=Fe(Oe,t),i=Ie([e,s],([r,o],u)=>{if(r.length){const l=new Map,y=new IntersectionObserver(f=>{for(const a of f){const{target:c,isIntersecting:d}=a;d?l.set(c,a):l.delete(c)}u(l)},o);for(const f of r)y.observe(f);return()=>{y.disconnect()}}return $e},new Map);return{elements$:w(e),visibleElements$:w(i),patch:n}};function De(t,e){return be+pe(t,e)}const ce=p(()=>{const t=_(q);return t.route.id?De(t.route.id,t.params):"./"}),Te=p(()=>ce().split("/").length-2),ae=p(()=>{const t=Te();return t?"../".repeat(t):"./"}),nt=p(()=>new URL(ae(),window.location.href).href),Me="https://amadeusitgroup.github.io/AgnosUI/latest/";p(()=>{const t=_(q).url.href,e=new URL(ae(),t).href;return t.replace(e,Me)});const it=p(()=>_(q).params.framework??"angular"),Ne=/^\/docs\/\[framework\]\/components\/[^/]*\/([^/]*)/,rt=p(()=>Ne.exec(_(q).route.id||"")?.[1]||"examples"),We=/^\/docs\/[a-z]*\//,ot=p(()=>ce().replace(We,"")),Pe=je(),Qe=/\r/g;function ut(t,e=""){return`AgnosUI - ${t}`+(e?` for ${e}`:"")}function ct(t){return t.replace(Qe,"").split(`

`)}const Ge=/^\([^(]*\)[^=]*=>/,Je=/^function/,Ke=/^Slot/;function at(t){return Ge.test(t)||Je.test(t)?"function":Ke.test(t)?"slot":t}function lt(t){let e;function s(n){e=n}return de(()=>{Pe.patch({elements:e?t(e):[]})}),s}export{it as a,at as b,p as c,w as d,Ze as e,R as f,ut as g,Ie as h,Se as i,Fe as j,st as k,ot as l,Pe as m,$e as n,et as o,nt as p,lt as q,re as r,rt as s,ct as t,tt as u,Te as v,oe as w};
