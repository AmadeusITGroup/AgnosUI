import{e as g,u as w,r as A,h as D,ar as L}from"./CoDYgO7C.js";import{e as f,w as l,r as S,f as u,n as C,g as $}from"./bchitg_k.js";function F(e,t,r){g(()=>{var s=w(()=>t(e,r?.())||{});if(r&&s?.update){var i=!1,n={};A(()=>{var o=r();D(o),i&&L(n,o)&&(n=o,s.update(o))}),i=!0}if(s?.destroy)return()=>s.destroy()})}function p(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=p(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function O(){for(var e,t,r=0,s="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=p(e))&&(s&&(s+=" "),s+=t);return s}const d=(e=>{const t=e?.ownerDocument?.defaultView??window;return e instanceof t.HTMLElement}),j=e=>(t,r)=>{if(d(t))return e(t,r)},x=(e,t)=>r=>{let s=!0,i;const n=t.subscribe(o=>{s?(s=!1,i=e(r,o)):i?.update?.(o)});return{destroy(){i?.destroy?.(),n()}}},E=S(void 0),N=e=>x(e,E),G=(e,t=!0)=>()=>{const r=e.subscribe(C);return{destroy:async()=>{t&&await Promise.resolve(),r()}}},v={equal:Object.is},T=()=>{const e=l([],v);return f(e,{register:t=>{let r=!1;return e.update(s=>[...s,t]),()=>{r||(r=!0,e.update(s=>{const i=s.indexOf(t);if(i>-1){const n=[...s];return n.splice(i,1),n}return s}))}}})},q=()=>{const e=T();return{elements$:f(e),directive:(t,r=!0)=>{let s;const i=(n=!0)=>{!!n!=!!s&&(n?s=e.register(t):(s?.(),s=void 0))};return i(r),{destroy:()=>i(!1),update:i}}}},B=()=>{const{directive:e,elements$:t}=q();return{directive:N(e),elements$:t}},I=()=>{const{directive:e,elements$:t}=B();return{directive:j(e),elements$:t}},J=()=>{const e=l(null,v);return{element$:f(e),directive:t=>{let r=!1;return e.update(s=>s?(console.error("The directive cannot be used on multiple elements.",s,t),s):(r=!0,t)),r?{destroy(){e.update(s=>t===s?null:s)}}:void 0}}},K=(...e)=>(t,r)=>{const s=u(()=>e.map(i=>i(t,r)));return{update(i){u(()=>s.forEach(n=>n?.update?.(i)))},destroy(){u(()=>s.reverse().forEach(i=>i?.destroy?.()))}}},P=e=>(t,r)=>{const s=[],i=l(r),{events:n,attributes:o,styles:m,classNames:h}=e(i);if(d(t))for(const[c,a]of Object.entries(n??{}))typeof a=="function"?s.push(b(t,c,a)):s.push(b(t,c,a.handler,a.options));for(const[c,a]of Object.entries(o??{}))a!=null&&s.push(M(t,c,a));for(const[c,a]of Object.entries(m??{}))a&&s.push(W(t,c,a));for(const[c,a]of Object.entries(h??{}))s.push(k(t,c,a));return{update:c=>i.set(c),destroy:()=>s.forEach(c=>c())}},Q=P(e=>({attributes:{class:$(()=>O(e()))}})),U=(e=document.body)=>{d(e)&&e.getBoundingClientRect()},X=(e,t)=>{t&&t.length>0&&e.classList.add(...t)},Y=(e,t)=>{t&&t.length>0&&e.classList.remove(...t)};function b(e,t,r,s){return e.addEventListener(t,r,s),function(){e.removeEventListener(t,r,s)}}const y=e=>e!=null&&e!==!1;function _(e,t){let r=new Set;return t.subscribe(s=>{const i=new Set(`${s??""}`.split(" "));i.delete("");const n=e.classList;for(const o of r)i.has(o)||n.remove(o);i.size>0&&n.add(...i),r=i})}function H(e,t,r){return r.subscribe(s=>{y(s)?e.setAttribute(t,""+(s===!0?t:s)):e.removeAttribute(t)})}function M(e,t,r){return t==="class"?_(e,r):H(e,t,r)}const R=e=>e.startsWith("--");function W(e,t,r){return r.subscribe(s=>{const i=e.style;s=""+(y(s)?s:""),R(t)?i.setProperty(t,s):i[t]=s})}function k(e,t,r){const s=r.subscribe(i=>{e.classList.toggle(t,i)});return()=>{s(),e.classList.remove(t)}}export{F as a,j as b,I as c,Q as d,J as e,G as f,X as g,U as h,d as i,K as m,Y as r};
