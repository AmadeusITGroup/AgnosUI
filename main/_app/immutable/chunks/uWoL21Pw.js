import{c as Q,a as W,f as U}from"./nu3i0CEJ.js";import{b as ht,aR as X,aS as wt,p as Ct,j as Z,k as yt,l as K,s as tt,m as et,t as _t}from"./DdRCHyDR.js";import{d as $t}from"./sywWagrN.js";import{s as nt}from"./2nFwU_ID.js";import{i as T}from"./Dvpr2NgG.js";import{h as St}from"./DnMKUV7a.js";import{e as Vt,m as Pt,f as Ot,i as At,r as P,g as L,h as it,a as st,d as Dt}from"./oPiZOt0p.js";import{I as It,n as y,l as ut,g as C,m as Et,w as N,k as Wt,f as ot,o as ft,F as G,q as rt,t as pt,u as kt,v as xt,i as Ft,s as jt}from"./CyC84gwq.js";import{p as Ht,r as Lt}from"./BRTRf7ly.js";import{f as Bt}from"./DNrDUfXs.js";function vt(e){return e===!0||e===!1}function Nt(e){return typeof e=="function"}function Mt(e){return typeof e=="string"}const zt=e=>t=>t===null||e(t),M=e=>t=>e(t)?t:It,O={normalizeValue:M(vt)},Rt={normalizeValue:M(zt(vt))},at={normalizeValue:M(Mt)},$={normalizeValue:M(Nt),equal:Object.is},lt=(e,t)=>{let n;const i=new Promise(s=>n=s);let o=()=>{e.removeEventListener(t,r),o=y};const r=s=>{s.target===e&&(n(s),o())};return e.addEventListener(t,r),{promise:i,unsubscribe(){o()}}},qt=e=>{let t;return{promise:new Promise(n=>{t=setTimeout(()=>{t=void 0,n()},e)}),unsubscribe(){t&&(clearTimeout(t),t=void 0)}}},ct=()=>{let e;return{promise:new Promise(n=>{e=n}),resolve:e}},dt=new Promise(y),Tt=(e,t)=>{e.style.display=t==="show"?"":"none"},Gt={animated:!0,animatedOnInit:!1,initDone:null,visible:!0,transition:Tt,onShown:y,onHidden:y,onVisibleChange:y},Ut={animated:O,animatedOnInit:O,visible:O,transition:$,onShown:$,onHidden:$,onVisibleChange:$,initDone:Rt},Yt=e=>{const[{animated$:t,initDone$:n,visible$:i,transition$:o,onShown$:r,onHidden$:s,onVisibleChange$:u,animatedOnInit$:f},g]=ut(Gt,e,Ut),{element$:p,directive:l}=Vt(),c=C(()=>!!p()),_=Et(u,[i],([d])=>d),S=N(null),k=()=>{let d;return S.update(b=>(b?.abort.abort(),d=b?.context,null)),d},x=(d,b,V,h)=>ot(()=>{const j=new AbortController,w=j.signal,A=k()??{},{promise:E,resolve:q}=ct(),H={abort:j,animated:b,visible:d,context:A,element:V,transitionFn:h,promise:E};return S.set(H),q((async()=>{var J;try{await h(V,d?"show":"hide",b,w,A)}finally{w.aborted?await dt:(S.set(null),(J=(d?r:s)())==null||J())}})()),H}),F=C(()=>n()?t():f()),D=N(null);let a,v=i(),m=null;const I=Wt([_,p,F,D,o,S],([d,b,V,h,j,w])=>{const A=a!==b;a=b;const E=v!==d;if(v=d,b){n()==null&&n.set(!0);const q=h!=null&&w&&w.animated!=h;if(A||E||q){(E||h!=null)&&(m=null);const H=h??m?.animated??(A&&!d?!1:V);w=x(d,H,b,j),m?.resolve(w.promise),m=null}}else A&&(k(),w=null),(E||d&&m?.animated!==h)&&(m=d&&h!=null?{animated:h,...ct()}:null);return m?.promise??w?.promise});let Y={};const z=async(d=!i(),b=F())=>{const V={};Y=V;try{await ot(()=>{try{return D.set(b),i.set(d),I()}finally{D.set(null)}})}finally{Y!==V&&await dt}},R=C(()=>(c()&&I(),!!S())),mt=C(()=>!R()&&_()&&c()),bt=C(()=>!R()&&!_()),gt=Pt(l,Ot(I));return{...ft({visible$:_,element$:p,elementPresent$:c,transitioning$:R,shown$:mt,hidden$:bt}),patch:g,directives:{directive:gt},api:{show:z.bind(null,!0),hide:z.bind(null,!1),toggle:z}}},Jt={visible:!0,dismissible:!0,ariaCloseButtonLabel:"Close",onVisibleChange:y,onShown:y,onHidden:y,animated:!0,animatedOnInit:!1,transition:y,className:""},Qt={dismissible:O,onVisibleChange:$,onHidden:$,onShown:$,transition:$,animatedOnInit:O,animated:O,visible:O,ariaCloseButtonLabel:at,className:at};function Xt(e){const[{transition$:t,animatedOnInit$:n,animated$:i,visible$:o,onVisibleChange$:r,onHidden$:s,onShown$:u,...f},g]=ut(Jt,e,Qt),p=Yt({props:{transition:t,visible:o,animated:i,animatedOnInit:n,onVisibleChange:r,onHidden:s,onShown:u}}),l=p.stores.visible$,c=p.stores.hidden$;return{...ft({...f,visible$:l,hidden$:c}),patch:g,api:{open:p.api.show,close:p.api.hide},directives:{transitionDirective:p.directives.directive}}}function Zt(e,t){return t[G]=e,t}const Kt=Zt("alert",Xt),B=(e,t,n=1/0)=>{if(t!==void 0)if(typeof t=="object"&&t&&n>=1){e||(e={});for(const i of Object.keys(t))Object.prototype.hasOwnProperty.call(t,i)&&(i==="__proto__"||i==="constructor"||(e[i]=B(e[i],t[i],n-1)))}else return t;return e},te=(e,t=rt)=>{const n=N({}),i=t===rt?e:C(()=>t(B({},e?.(),2)));return pt(C(()=>B(B({},i?.(),2),n(),2)),{...n,own$:n,adaptedParent$:i,parent$:e})};function ee(e,t){return n=>{const i=xt(e,n);e=n,i&&t(i)}}const ne=(e,t)=>t?(...n)=>{e(...n),t(...n)}:e,ie=(e,t)=>{const n=N(t,{equal:Object.is});return pt(C(()=>ne(e,n())),{set:n.set,update:n.update})},se=(e,t)=>{const{defaultConfig:n,widgetConfig:i,events:o}=t??{},r=t?.props??{},s=kt(n),u={...r};if(o)for(const l of Object.keys(o))u[l]=ie(o[l],r[l]);const f=e({config:C(()=>({...s(),...i?.()})),props:u}),g=Object.fromEntries(Object.entries(f.stores).map(([l,c])=>[l.slice(0,-1),Bt(c)])),p=ee(r,f.patch);return ht(()=>{p({...t?.props})}),{api:f.api,directives:f.directives,state:new Proxy(g,{get(l,c,_){if(Reflect.has(l,c))return Reflect.get(l,c,_).current}})}},oe=(e=Symbol("widgetsConfig"))=>{const t=o=>{const r=X(e),s=te(r,o);return wt(e,s),s},n=o=>{const r=X(e);return C(()=>r?.()[o])};return{widgetsDefaultConfigKey:e,createWidgetsDefaultConfig:t,getContextWidgetConfig:n,callWidgetFactory:(o,r)=>se(o,{defaultConfig:r?.defaultConfig,widgetConfig:o[G]?n(o[G]):null,events:r?.events,get props(){return r?.props}})}},{callWidgetFactory:re}=oe();function ae(e){return window.getComputedStyle(e).transitionProperty!=="none"}function le(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),o=parseFloat(n);return(i+o)*1e3}const ce=e=>async(t,n,i,o,r)=>{const s=e(t,n,i,r)??y;if(At(t)&&i&&ae(t)){const u=lt(o,"abort"),f=lt(t,"transitionend"),g=qt(le(t));await Promise.race([u.promise,f.promise,g.promise]),u.unsubscribe(),f.unsubscribe(),g.unsubscribe()}o.aborted||s()},de=e=>{const{animationPendingClasses:t,animationPendingShowClasses:n,animationPendingHideClasses:i,showClasses:o,hideClasses:r}=e;return ce((s,u,f,g)=>{if(P(s,o),P(s,r),f){if(P(s,u==="show"?i:n),!g.started){g.started=!0;const p=u==="show"?r:o;L(s,p),it(s),P(s,p)}L(s,t),it(s),L(s,u==="show"?n:i)}return()=>{P(s,t),P(s,n),P(s,i),L(s,u==="show"?o:r)}})},ue=`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
</svg>`;var fe=U("<div></div>"),pe=U('<button class="btn btn-circle btn-ghost btn-xs self-start"><!></button>'),ve=U("<div><!> <!> <!></div>");function Ve(e,t){Ct(t,!0);let n=Ht(t,"visible",15),i=Lt(t,["$$slots","$$events","$$legacy","visible","children","icon"]);const o=de({showClasses:["transition-opacity"],hideClasses:["opacity-0"],animationPendingHideClasses:["opacity-0","transition-opacity"]}),{state:r,directives:{transitionDirective:s},api:u}=re(Kt,{get props(){return{...i,visible:n()}},defaultConfig:{transition:o},events:{onVisibleChange:l=>{n(l)}}});var f=Q(),g=Z(f);{var p=l=>{var c=ve();Ft(c,a=>({role:"alert",...a}),[()=>({})]);var _=K(c);{var S=a=>{var v=Q(),m=Z(v);nt(m,()=>t.icon),W(a,v)},k=a=>{var v=fe();W(a,v)};T(_,a=>{t.icon?a(S):a(k,!1)})}var x=tt(_,2);nt(x,()=>t.children);var F=tt(x,2);{var D=a=>{var v=pe();v.__click=function(...I){u.close?.apply(this,I)};var m=K(v);St(m,()=>ue),et(v),_t(()=>jt(v,"aria-label",r.ariaCloseButtonLabel)),W(a,v)};T(F,a=>{r.dismissible&&a(D)})}et(c),st(c,(a,v)=>Dt?.(a,v),()=>"alert "+r.className),st(c,a=>s?.(a)),W(l,c)};T(g,l=>{r.hidden||l(p)})}W(e,f),yt()}$t(["click"]);const Pe=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
  <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
</svg>`;export{Ve as A,Pe as b};
