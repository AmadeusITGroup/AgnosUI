import{c as T,a as j,t as J}from"./HBiyjYhI.js";import{b as gt,aO as X,aP as wt,p as Ct,j as Y,k as yt,l as Z,s as K,m as tt,t as et}from"./Csp4km8_.js";import{d as $t}from"./CZLBEwIl.js";import{i as G}from"./Wd_4N5jU.js";import{h as St}from"./C1LBBy4j.js";import{s as nt}from"./BlAE7cVV.js";import{h as _t,m as Pt,g as Vt,j as Ot,r as V,k as E,l as st,d as it,f as At}from"./Dhb45KUw.js";import{I as Dt,m as ut,n as y,h as w,q as It,w as L,j as xt,g as ot,o as ft,t as at,u as pt,v as jt,x as kt,l as Wt,s as Ht}from"./cv3hTrJP.js";import{p as Nt,r as Bt}from"./Dc7EQLJb.js";import{f as Et}from"./D_PNudjE.js";import{a as rt,b as lt,c as Ft}from"./CPMXX9IK.js";function vt(t){return t===!0||t===!1}function Lt(t){return typeof t=="function"}function zt(t){return typeof t=="string"}const Mt=t=>e=>e===null||t(e),z=t=>e=>t(e)?e:Dt,O={normalizeValue:z(vt)},qt={normalizeValue:z(Mt(vt))},ct={normalizeValue:z(zt)},S={normalizeValue:z(Lt),equal:Object.is},dt=new Promise(y),Rt=(t,e)=>{t.style.display=e==="show"?"":"none"},Ut={animated:!0,animatedOnInit:!1,initDone:null,visible:!0,transition:Rt,onShown:y,onHidden:y,onVisibleChange:y},Gt={animated:O,animatedOnInit:O,visible:O,transition:S,onShown:S,onHidden:S,onVisibleChange:S,initDone:qt},Jt=t=>{const[{animated$:e,initDone$:n,visible$:s,transition$:i,onShown$:r,onHidden$:o,onVisibleChange$:v,animatedOnInit$:b},f]=ut(Ut,t,Gt),{element$:p,directive:l}=_t(),d=w(()=>!!p()),C=It(v,[s],([u])=>u),$=L(null),k=()=>{let u;return $.update(h=>(h?.abort.abort(),u=h?.context,null)),u},M=(u,h,P,m)=>ot(()=>{const N=new AbortController,g=N.signal,A=k()??{},{promise:x,resolve:U}=rt(),B={abort:N,animated:h,visible:u,context:A,element:P,transitionFn:m,promise:x};return $.set(B),U((async()=>{var Q;try{await m(P,u?"show":"hide",h,g,A)}finally{g.aborted?await dt:($.set(null),(Q=(u?r:o)())==null||Q())}})()),B}),D=w(()=>n()?e():b()),I=L(null);let W,c=s(),a=null;const _=xt([C,p,D,I,i,$],([u,h,P,m,N,g])=>{const A=W!==h;W=h;const x=c!==u;if(c=u,h){n()==null&&n.set(!0);const U=m!=null&&g&&g.animated!=m;if(A||x||U){(x||m!=null)&&(a=null);const B=m??a?.animated??(A&&!u?!1:P);g=M(u,B,h,N),a?.resolve(g.promise),a=null}}else A&&(k(),g=null),(x||u&&a?.animated!==m)&&(a=u&&m!=null?{animated:m,...rt()}:null);return a?.promise??g?.promise});let H={};const q=async(u=!s(),h=D())=>{const P={};H=P;try{await ot(()=>{try{return I.set(h),s.set(u),_()}finally{I.set(null)}})}finally{H!==P&&await dt}},R=w(()=>(d()&&_(),!!$())),bt=w(()=>!R()&&C()&&d()),ht=w(()=>!R()&&!C()),mt=Pt(l,Vt(_));return{...ft({visible$:C,element$:p,elementPresent$:d,transitioning$:R,shown$:bt,hidden$:ht}),patch:f,directives:{directive:mt},api:{show:q.bind(null,!0),hide:q.bind(null,!1),toggle:q}}},Qt={visible:!0,dismissible:!0,ariaCloseButtonLabel:"Close",onVisibleChange:y,onShown:y,onHidden:y,animated:!0,animatedOnInit:!1,transition:y,className:""},Tt={dismissible:O,onVisibleChange:S,onHidden:S,onShown:S,transition:S,animatedOnInit:O,animated:O,visible:O,ariaCloseButtonLabel:ct,className:ct};function Xt(t){const[{transition$:e,animatedOnInit$:n,animated$:s,visible$:i,onVisibleChange$:r,onHidden$:o,onShown$:v,...b},f]=ut(Qt,t,Tt),p=Jt({props:{transition:e,visible:i,animated:s,animatedOnInit:n,onVisibleChange:r,onHidden:o,onShown:v}}),l=p.stores.visible$,d=p.stores.hidden$;return{...ft({...b,visible$:l,hidden$:d}),patch:f,api:{open:p.api.show,close:p.api.hide},directives:{transitionDirective:p.directives.directive}}}const Yt=Xt,F=(t,e,n=1/0)=>{if(e!==void 0)if(typeof e=="object"&&e&&n>=1){t||(t={});for(const s of Object.keys(e))Object.prototype.hasOwnProperty.call(e,s)&&(s==="__proto__"||s==="constructor"||(t[s]=F(t[s],e[s],n-1)))}else return e;return t},Zt=(t,e=at)=>{const n=L({}),s=e===at?t:w(()=>e(F({},t?.(),2)));return pt(w(()=>F(F({},s?.(),2),n(),2)),{...n,own$:n,adaptedParent$:s,parent$:t})};function Kt(t,e){return n=>{const s=kt(t,n);t=n,s&&e(s)}}const te=(t,e)=>e?(...n)=>{t(...n),e(...n)}:t,ee=(t,e)=>{const n=L(e,{equal:Object.is});return pt(w(()=>te(t,n())),{set:n.set,update:n.update})},ne=t=>{const{factory:e,defaultConfig:n,widgetConfig:s,events:i,enablePatchChanged:r}=t,o=t.props??{},v=jt(n),b={...o};if(i)for(const l of Object.keys(i))b[l]=ee(i[l],o[l]);const f=e({config:w(()=>({...v(),...s?.()})),props:b}),p=Object.fromEntries(Object.entries(f.stores).map(([l,d])=>[l.slice(0,-1),Et(d)]));if(r){const l=Kt(o,f.patch);gt(()=>{l({...t.props})})}return{api:f.api,directives:f.directives,state:new Proxy(p,{get(l,d,C){if(Reflect.has(l,d))return Reflect.get(l,d,C).current}})}},se=(t=Symbol("widgetsConfig"))=>{const e=i=>{const r=X(t),o=Zt(r,i);return wt(t,o),o},n=i=>{const r=X(t);return w(()=>r?.()[i])};return{widgetsDefaultConfigKey:t,createWidgetsDefaultConfig:e,getContextWidgetConfig:n,callWidgetFactory:i=>ne({factory:i.factory,defaultConfig:i.defaultConfig,widgetConfig:i.widgetName?n(i.widgetName):null,events:i.events,get props(){return i.props},enablePatchChanged:i.enablePatchChanged})}},{callWidgetFactory:ie}=se();function oe(t){return window.getComputedStyle(t).transitionProperty!=="none"}function ae(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),s=parseFloat(e),i=parseFloat(n);return(s+i)*1e3}const re=t=>async(e,n,s,i,r)=>{const o=t(e,n,s,r)??y;if(Ot(e)&&s&&oe(e)){const v=lt(i,"abort"),b=lt(e,"transitionend"),f=Ft(ae(e));await Promise.race([v.promise,b.promise,f.promise]),v.unsubscribe(),b.unsubscribe(),f.unsubscribe()}i.aborted||o()},le=t=>{const{animationPendingClasses:e,animationPendingShowClasses:n,animationPendingHideClasses:s,showClasses:i,hideClasses:r}=t;return re((o,v,b,f)=>{if(V(o,i),V(o,r),b){if(V(o,v==="show"?s:n),!f.started){f.started=!0;const p=v==="show"?r:i;E(o,p),st(o),V(o,p)}E(o,e),st(o),E(o,v==="show"?n:s)}return()=>{V(o,e),V(o,n),V(o,s),E(o,v==="show"?i:r)}})},ce=`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
</svg>`;var de=J("<div></div>"),ue=J('<button class="btn btn-circle btn-ghost btn-xs self-start"><!></button>'),fe=J("<div><!> <!> <!></div>");function _e(t,e){Ct(e,!0);let n=Nt(e,"visible",15),s=Bt(e,["$$slots","$$events","$$legacy","visible","children","icon"]);const i=le({showClasses:["transition-opacity"],hideClasses:["opacity-0"],animationPendingHideClasses:["opacity-0","transition-opacity"]}),{state:r,directives:{transitionDirective:o},api:v}=ie({factory:Yt,widgetName:"alert",get props(){return{...s,visible:n()}},enablePatchChanged:!0,defaultConfig:{transition:i},events:{onVisibleChange:l=>{n(l)}}});var b=T(),f=Y(b);{var p=l=>{var d=fe();let C;var $=Z(d);{var k=c=>{var a=T(),_=Y(a);nt(_,()=>e.icon),j(c,a)},M=c=>{var a=de();j(c,a)};G($,c=>{e.icon?c(k):c(M,!1)})}var D=K($,2);nt(D,()=>e.children);var I=K(D,2);{var W=c=>{var a=ue();a.__click=function(...H){v.close?.apply(this,H)};var _=Z(a);St(_,()=>ce),tt(a),et(()=>Ht(a,"aria-label",r.ariaCloseButtonLabel)),j(c,a)};G(I,c=>{r.dismissible&&c(W)})}tt(d),it(d,(c,a)=>At?.(c,a),()=>"alert "+r.className),it(d,c=>o?.(c)),et(c=>C=Wt(d,C,{role:"alert",...c}),[()=>({})]),j(l,d)};G(f,l=>{r.hidden||l(p)})}j(t,b),yt()}$t(["click"]);const Pe=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
  <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
</svg>`;export{_e as A,Pe as b};
