import{a as B,t as C}from"./index.BK_xdHAZ.js";import{J as F,A as U}from"./scheduler.DHbooxev.js";import{n as k,e as W,h as H,r as q,i as D,g as _,j as h,d as T,k as V}from"./stores.B8siANWN.js";function le(e){return e?.length!==void 0?e:Array.from(e)}function ue(e,t){B(e,1,1,()=>{t.delete(e.key)})}function de(e,t,s,r,n,a,o,p,x,E,g,O){let u=e.length,f=a.length,d=u;const b={};for(;d--;)b[e[d].key]=d;const m=[],w=new Map,y=new Map,A=[];for(d=f;d--;){const i=O(n,a,d),c=s(i);let l=o.get(c);l?r&&A.push(()=>l.p(i,t)):(l=E(c,i),l.c()),w.set(c,m[d]=l),c in b&&y.set(c,Math.abs(d-b[c]))}const L=new Set,$=new Set;function S(i){C(i,1),i.m(p,g),o.set(i.key,i),g=i.first,f--}for(;u&&f;){const i=m[f-1],c=e[u-1],l=i.key,v=c.key;i===c?(g=i.first,u--,f--):w.has(v)?!o.has(l)||L.has(l)?S(i):$.has(v)?u--:y.get(l)>y.get(v)?($.add(l),S(i)):(L.add(v),u--):(x(c,o),u--)}for(;u--;){const i=e[u];w.has(i.key)||x(i,o)}for(;f;)S(m[f-1]);return F(A),m}const z={status:"pending"},I=e=>{const t=typeof e;return t==="object"&&e!==null||t==="function"?typeof e.then=="function":!1},J=e=>{const t=_(z);return Promise.resolve(e).then(s=>t.set({status:"fulfilled",value:s}),s=>t.set({status:"rejected",reason:s})),h(t)},j=new WeakMap,G=e=>{if(!I(e))return q({status:"fulfilled",value:e});let t=j.get(e);return t||(t=J(e),j.set(e,t)),t},K=(e,t)=>Object.is(e,t)||e.status===t.status&&(e.status!=="fulfilled"||D(e.value,t.value))&&(e.status!=="rejected"||D(e.reason,t.reason)),N=e=>W(()=>G(e())(),{equal:K}),Q=(e,t,s)=>H(e,{derive:(r,n)=>{r.status==="fulfilled"&&n(r.value)},equal:s},t),fe=(e,t,s)=>Q(N(e),t,s),pe=(e,t)=>{let s;const r=new Promise(o=>s=o);let n=()=>{e.removeEventListener(t,a),n=k};const a=o=>{o.target===e&&(s(o),n())};return e.addEventListener(t,a),{promise:r,unsubscribe(){n()}}},me=e=>{let t;return{promise:new Promise(s=>{t=setTimeout(()=>{t=void 0,s()},e)}),unsubscribe(){t&&(clearTimeout(t),t=void 0)}}},ve=()=>{let e;return{promise:new Promise(s=>{e=s}),resolve:e}},he=(e=document.body)=>{M(e)&&e.getBoundingClientRect()},ge=(e,t)=>{t&&t.length>0&&e.classList.add(...t)},be=(e,t)=>{t&&t.length>0&&e.classList.remove(...t)},M=e=>e instanceof HTMLElement,P=e=>(t,s)=>{if(M(t))return e(t,s)},X=(e,t)=>s=>{let r=!0,n;const a=t.subscribe(o=>{var p;r?(r=!1,n=e(s,o)):(p=n?.update)==null||p.call(n,o)});return{destroy(){var o;(o=n?.destroy)==null||o.call(n),a()}}},Y=q(void 0),we=e=>X(e,Y),ye=(e,t=!0)=>()=>{const s=e.subscribe(k);return{destroy:async()=>{t&&await 0,s()}}},Se=e=>(t,s)=>(e(s),{update:e}),R={equal:Object.is},Z=()=>{const e=_([],R);return h(e,{register:t=>{let s=!1;return e.update(r=>[...r,t]),()=>{s||(s=!0,e.update(r=>{const n=r.indexOf(t);if(n>-1){const a=[...r];return a.splice(n,1),a}return r}))}}})},ee=()=>{const e=Z();return{elements$:h(e),directive:t=>({destroy:e.register(t)})}},Te=()=>{const{directive:e,elements$:t}=ee();return{directive:P(e),elements$:t}},te=()=>{const e=_(null,R);return{element$:h(e),directive:t=>{let s=!1;return e.update(r=>r?(console.error("The directive cannot be used on multiple elements.",r,t),r):(s=!0,t)),s?{destroy(){e.update(r=>t===r?null:r)}}:void 0}}},_e=()=>{const{directive:e,element$:t}=te();return{directive:P(e),element$:t}},xe=(...e)=>(t,s)=>{const r=T(()=>e.map(n=>n(t,s)));return{update(n){T(()=>r.forEach(a=>{var o;return(o=a?.update)==null?void 0:o.call(a,n)}))},destroy(){T(()=>r.reverse().forEach(n=>{var a;return(a=n?.destroy)==null?void 0:a.call(n)}))}}},se=/\r/g;function Ae(e,t=""){return`AgnosUI - ${e}`+(t?` for ${t}`:"")}function Le(e){return e.replace(se,"").split(`

`)}const re=/^\([^(]*\)[^=]*=>/,ne=/^function/,oe=/^Slot/;function $e(e){return re.test(e)||ne.test(e)?"function":oe.test(e)?"slot":e}function De(e){let t;function s(r){t=r}return U(()=>{V.patch({elements:t?e(t):[]})}),s}export{me as a,we as b,te as c,ve as d,ye as e,Se as f,Ae as g,ge as h,M as i,he as j,le as k,Z as l,xe as m,_e as n,ue as o,pe as p,fe as q,be as r,$e as s,Le as t,de as u,Te as v,De as w};
