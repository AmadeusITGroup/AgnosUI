import"./DsnmJJEf.js";import{j as gt,o as J,v as ht,p as wt,aE as Q,f as X,a as W,b as Ct,d as Z,s as K,g as tt,c as U,t as yt}from"./COvVlgKq.js";import{d as $t,b as St}from"./Ctmrvw7H.js";import{s as et}from"./06at6gx7.js";import{i as R}from"./CenaQkVk.js";import{b as _t}from"./BUcHlm4w.js";import{n as C,l as Vt,c as w,w as N,e as Pt,m as Ot,b as nt,o as At,i as st,a as dt,p as Dt,q as P,s as L,t as it,j as ot,k as It}from"./RklJk25m.js";import{b as Et,s as Wt}from"./CJfWTpCg.js";import{p as xt,r as Ft}from"./DIWXP_pB.js";import{I as jt,w as ut,b as kt,s as ft,F as G,t as Ht,f as Lt,a as Bt}from"./CeNkK6yp.js";function pt(e){return e===!0||e===!1}function Nt(e){return typeof e=="function"}function Mt(e){return typeof e=="string"}const Tt=e=>t=>t===null||e(t),M=e=>t=>e(t)?t:jt,O={normalizeValue:M(pt)},zt={normalizeValue:M(Tt(pt))},rt={normalizeValue:M(Mt)},S={normalizeValue:M(Nt),equal:Object.is},at=(e,t)=>{let n;const s=new Promise(i=>n=i);let o=()=>{e.removeEventListener(t,r),o=C};const r=i=>{i.target===e&&(n(i),o())};return e.addEventListener(t,r),{promise:s,unsubscribe(){o()}}},qt=e=>{let t;return{promise:new Promise(n=>{t=setTimeout(()=>{t=void 0,n()},e)}),unsubscribe(){t&&(clearTimeout(t),t=void 0)}}},ct=()=>{let e;return{promise:new Promise(n=>{e=n}),resolve:e}},lt=new Promise(C),Rt=(e,t)=>{e.style.display=t==="show"?"":"none"},Gt={animated:!0,animatedOnInit:!1,initDone:null,visible:!0,transition:Rt,onShown:C,onHidden:C,onVisibleChange:C},Ut={animated:O,animatedOnInit:O,visible:O,transition:S,onShown:S,onHidden:S,onVisibleChange:S,initDone:zt},Yt=e=>{const[{animated$:t,initDone$:n,visible$:s,transition$:o,onShown$:r,onHidden$:i,onVisibleChange$:u,animatedOnInit$:f},m]=ut(Gt,e,Ut),{element$:p,directive:c}=Vt(),l=w(()=>!!p()),y=kt(u,[s],([d])=>d),_=N(null),x=()=>{let d;return _.update(v=>(v?.abort.abort(),d=v?.context,null)),d},F=(d,v,V,h)=>nt(()=>{const k=new AbortController,$=k.signal,A=x()??{},{promise:E,resolve:q}=ct(),H={abort:k,animated:v,visible:d,context:A,element:V,transitionFn:h,promise:E};return _.set(H),q((async()=>{try{await h(V,d?"show":"hide",v,$,A)}finally{$.aborted?await lt:(_.set(null),(d?r:i)()?.())}})()),H}),j=w(()=>n()?t():f()),D=N(null);let a,b=s(),g=null;const I=Pt([y,p,j,D,o,_],([d,v,V,h,k,$])=>{const A=a!==v;a=v;const E=b!==d;if(b=d,v){n()==null&&n.set(!0);const q=h!=null&&$&&$.animated!=h;if(A||E||q){(E||h!=null)&&(g=null);const H=h??g?.animated??(A&&!d?!1:V);$=F(d,H,v,k),g?.resolve($.promise),g=null}}else A&&(x(),$=null),(E||d&&g?.animated!==h)&&(g=d&&h!=null?{animated:h,...ct()}:null);return g?.promise??$?.promise});let Y={};const T=async(d=!s(),v=j())=>{const V={};Y=V;try{await nt(()=>{try{return D.set(v),s.set(d),I()}finally{D.set(null)}})}finally{Y!==V&&await lt}},z=w(()=>(l()&&I(),!!_())),bt=w(()=>!z()&&y()&&l()),mt=w(()=>!z()&&!y()),vt=Ot(c,At(I));return{...ft({visible$:y,element$:p,elementPresent$:l,transitioning$:z,shown$:bt,hidden$:mt}),patch:m,directives:{directive:vt},api:{show:T.bind(null,!0),hide:T.bind(null,!1),toggle:T}}},Jt={visible:!0,dismissible:!0,ariaCloseButtonLabel:"Close",onVisibleChange:C,onShown:C,onHidden:C,animated:!0,animatedOnInit:!1,transition:C,className:""},Qt={dismissible:O,onVisibleChange:S,onHidden:S,onShown:S,transition:S,animatedOnInit:O,animated:O,visible:O,ariaCloseButtonLabel:rt,className:rt};function Xt(e){const[{transition$:t,animatedOnInit$:n,animated$:s,visible$:o,onVisibleChange$:r,onHidden$:i,onShown$:u,...f},m]=ut(Jt,e,Qt),p=Yt({props:{transition:t,visible:o,animated:s,animatedOnInit:n,onVisibleChange:r,onHidden:i,onShown:u}}),c=p.stores.visible$,l=p.stores.hidden$;return{...ft({...f,visible$:c,hidden$:l}),patch:m,api:{open:p.api.show,close:p.api.hide},directives:{transitionDirective:p.directives.directive}}}function Zt(e,t){return t[G]=e,t}const Kt=Zt("alert",Xt),B=(e,t,n=1/0)=>{if(t!==void 0)if(typeof t=="object"&&t&&n>=1){e||(e={});for(const s of Object.keys(t))Object.prototype.hasOwnProperty.call(t,s)&&(s==="__proto__"||s==="constructor"||(e[s]=B(e[s],t[s],n-1)))}else return t;return e},te=(e,t=st)=>{const n=N({}),s=t===st?e:w(()=>t(B({},e?.(),2)));return dt(w(()=>B(B({},s?.(),2),n(),2)),{...n,own$:n,adaptedParent$:s,parent$:e})};function ee(e,t){return n=>{const s=Bt(e,n);e=n,s&&t(s)}}const ne=(e,t)=>t?(...n)=>{e(...n),t(...n)}:e,se=(e,t)=>{const n=N(t,{equal:Object.is});return dt(w(()=>ne(e,n())),{set:n.set,update:n.update})},ie=(e,t)=>{const{defaultConfig:n,widgetConfig:s,events:o}=t??{},r=t?.props??{},i=Ht(n),u={...r};if(o)for(const c of Object.keys(o))u[c]=se(o[c],r[c]);const f=e({config:w(()=>({...i(),...s?.()})),props:u}),m=Object.fromEntries(Object.entries(f.stores).map(([c,l])=>[c.slice(0,-1),Lt(l)])),p=ee(r,f.patch);return gt(()=>{p({...t?.props})}),{api:f.api,directives:f.directives,state:new Proxy(m,{get(c,l,y){if(Reflect.has(c,l))return Reflect.get(c,l,y).current}})}},oe=(e=Symbol("widgetsConfig"))=>{const t=o=>{const r=J(e),i=te(r,o);return ht(e,i),i},n=o=>{const r=J(e);return w(()=>r?.()[o])};return{widgetsDefaultConfigKey:e,createWidgetsDefaultConfig:t,getContextWidgetConfig:n,callWidgetFactory:(o,r)=>ie(o,{defaultConfig:r?.defaultConfig,widgetConfig:o[G]?n(o[G]):null,events:r?.events,get props(){return r?.props}})}},{callWidgetFactory:re}=oe();function ae(e){return window.getComputedStyle(e).transitionProperty!=="none"}function ce(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),s=parseFloat(t),o=parseFloat(n);return(s+o)*1e3}const le=e=>async(t,n,s,o,r)=>{const i=e(t,n,s,r)??C;if(Dt(t)&&s&&ae(t)){const u=at(o,"abort"),f=at(t,"transitionend"),m=qt(ce(t));await Promise.race([u.promise,f.promise,m.promise]),u.unsubscribe(),f.unsubscribe(),m.unsubscribe()}o.aborted||i()},de=e=>{const{animationPendingClasses:t,animationPendingShowClasses:n,animationPendingHideClasses:s,showClasses:o,hideClasses:r}=e;return le((i,u,f,m)=>{if(P(i,o),P(i,r),f){if(P(i,u==="show"?s:n),!m.started){m.started=!0;const p=u==="show"?r:o;L(i,p),it(i),P(i,p)}L(i,t),it(i),L(i,u==="show"?n:s)}return()=>{P(i,t),P(i,n),P(i,s),L(i,u==="show"?o:r)}})},ue=`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
</svg>`;var fe=U("<div></div>"),pe=U('<button class="btn btn-circle btn-ghost btn-xs self-start"><!></button>'),be=U("<div><!> <!> <!></div>");function Ve(e,t){wt(t,!0);let n=xt(t,"visible",15),s=Ft(t,["$$slots","$$events","$$legacy","visible","children","icon"]);const o=de({showClasses:["transition-opacity"],hideClasses:["opacity-0"],animationPendingHideClasses:["opacity-0","transition-opacity"]}),{state:r,directives:{transitionDirective:i},api:u}=re(Kt,{get props(){return{...s,visible:n()}},defaultConfig:{transition:o},events:{onVisibleChange:c=>{n(c)}}});var f=Q(),m=X(f);{var p=c=>{var l=be();Et(l,a=>({role:"alert",...a}),[()=>({})]);var y=Z(l);{var _=a=>{var b=Q(),g=X(b);et(g,()=>t.icon),W(a,b)},x=a=>{var b=fe();W(a,b)};R(y,a=>{t.icon?a(_):a(x,!1)})}var F=K(y,2);et(F,()=>t.children);var j=K(F,2);{var D=a=>{var b=pe(),g=Z(b);_t(g,()=>ue),tt(b),yt(()=>Wt(b,"aria-label",r.ariaCloseButtonLabel)),St("click",b,function(...I){u.close?.apply(this,I)}),W(a,b)};R(j,a=>{r.dismissible&&a(D)})}tt(l),ot(l,(a,b)=>It?.(a,b),()=>"alert "+r.className),ot(l,a=>i?.(a)),W(c,l)};R(m,c=>{r.hidden||c(p)})}W(e,f),Ct()}$t(["click"]);const Pe=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill" viewBox="0 0 16 16">
  <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
</svg>`;export{Ve as A,Pe as b};
