import{p as ue,c as he,b as fe,a as de,t as pe,M as ve,l as be,e as _e}from"./AppCommon-BIOVedX1.js";import{s as me}from"./snippet-C4nDYEhK.js";import{a as Se}from"./actions-7pTMrPq9.js";import{c as xe}from"./baseTransitions-BzBsnuIc.js";import{w as ge,s as we,b as ye}from"./directive-CKEccryv-CY3XbVHQ.js";import{t as O,a as N,b as Ce}from"./writables-DCiBdIBK-DYBhYJMH.js";import{a as Ie,c as ke}from"./collapse-CVjUhnIz-COQqIVKl.js";import{c as qe}from"./config-OFHUKBGn.js";var K=e=>{throw TypeError(e)},A=(e,t,s)=>t.has(e)||K("Cannot "+s),n=(e,t,s)=>(A(e,t,"read from private field"),s?s.call(e):t.get(e)),u=(e,t,s)=>t.has(e)?K("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),r=(e,t,s,i)=>(A(e,t,"write to private field"),t.set(e,s),s),l=(e,t,s)=>(A(e,t,"access private method"),s),We=(e,t,s,i)=>({set _(a){r(e,t,a)},get _(){return n(e,t,i)}}),d,k,p,v,x,C,W,S,L,Y,U,E,_,g,f,D,h,Z,j,$,I,ee,B;const Q=typeof Symbol=="function"&&Symbol.observable||"@@observable",te=Symbol(),m=()=>{},H=()=>{};H.unsubscribe=H;const R=(e,t)=>{const s=e?e[t]:null;return typeof s=="function"?s.bind(e):m},Me=e=>({next:typeof e=="function"?e.bind(null):R(e,"next"),pause:R(e,"pause"),resume:R(e,"resume"),_value:void 0,_valueIndex:0,_paused:!1}),Ee=function(){return this},se=e=>{if(!e)return H;if(e.unsubscribe===e)return e;const t=typeof e=="function"?()=>e():()=>e.unsubscribe();return t.unsubscribe=t,t},X=new WeakSet,$e=e=>{let t=e.subscribe;return X.has(t)||(t=(...s)=>se(e.subscribe(...s)),X.add(t)),t},G=e=>{const t="subscribe"in e?e:e[Q]();return $e(t)},Oe=e=>{let t;return e(s=>t=s)(),t};function ie(e,t){const s=G(e),i=Object.assign(()=>Pe(i),t,{subscribe:s,[Q]:Ee});return i}function Ue(e,t){return ie(e,{...t,set:m,update:m})}const b=Symbol(),ne=Symbol();let T=!1;const M=new Set,Ve=1e3,ae=e=>{if(e>Ve)throw new Error("reached maximum number of store changes in one shot")},V=e=>{const t=!T;t&&(T=!0);try{return e()}finally{if(t)try{const s=new Map;for(const i of M){const a=s.get(i)??0;ae(a),s.set(i,a+1),M.delete(i),i[ne]()}}finally{M.clear(),T=!1}}},oe=e=>Oe(G(e));let w=oe;const Pe=e=>w(e),J=e=>({[e]:!0,[e-1]:!1,0:!1}),P=Symbol(),ze=(e,t)=>Object.is(e,t)&&(!e||typeof e!="object")&&typeof e!="function";class Fe{constructor(t){u(this,S),u(this,d),u(this,k),u(this,p),u(this,v),u(this,x),u(this,C),u(this,W),r(this,d,new Set),r(this,k,null),r(this,p,!1),r(this,v,1),r(this,C,J(1)),r(this,W,new WeakMap),this[B]=!1,r(this,x,t)}[(B=P,ne)](){const t=n(this,v);for(const s of[...n(this,d)]){if(n(this,p)||n(this,v)!==t)return;s._valueIndex!==0&&l(this,S,U).call(this,s)}}[b](){}equal(t,s){return!this.notEqual(t,s)}notEqual(t,s){return!ze(t,s)}pauseSubscribers(){if(!n(this,p)){r(this,p,!0),M.delete(this);for(const t of[...n(this,d)])t._valueIndex===0||t._paused||(t._paused=!0,t.pause())}}resumeSubscribers(){n(this,p)&&(r(this,p,!1),V(()=>{M.add(this)}))}set(t){const s=this[P];if(s||!this.equal(n(this,x),t)){const i=n(this,v)+1;r(this,v,i),r(this,x,t),r(this,C,J(i)),s&&delete n(this,C)[i-1],this.pauseSubscribers()}this.resumeSubscribers()}update(t){this.set(t(n(this,x)))}onUse(){}subscribe(t){const s=Me(t),i=t==null?void 0:t[te];if(i){const o=n(this,W).get(i);o&&(s._value=o._value,s._valueIndex=o._valueIndex)}n(this,d).add(s),V(()=>{n(this,d).size==1?l(this,S,L).call(this):this[b]()}),l(this,S,U).call(this,s);const a=()=>{const o=n(this,d).delete(s);s.next=m,s.pause=m,s.resume=m,o&&(n(this,W).set(a,s),n(this,d).size===0&&l(this,S,Y).call(this))};return a[b]=()=>{this[b](),l(this,S,U).call(this,s)},a.unsubscribe=a,a}[Q](){return this}}d=new WeakMap;k=new WeakMap;p=new WeakMap;v=new WeakMap;x=new WeakMap;C=new WeakMap;W=new WeakMap;S=new WeakSet;L=function(){r(this,k,se(this.onUse()))};Y=function(){const e=n(this,k);e&&(r(this,k,null),e())};U=function(e){const t=n(this,C),s=n(this,v),i=n(this,x);let a=t[e._valueIndex];a==null&&(a=!!this.equal(e._value,i),t[e._valueIndex]=a),e._valueIndex=s,a?!n(this,p)&&e._paused&&(e._paused=!1,e.resume()):(e._value=i,e._paused=!1,e.next(i))};const Ne=(e,t)=>{const{onUse:s,equal:i,notEqual:a}=t;return s&&(e.onUse=function(){const o=c=>this.set(c);return o.set=o,o.update=c=>this.update(c),s(o)}),i&&(e.equal=function(o,c){return i(o,c)}),a&&(e.notEqual=function(o,c){return a(o,c)}),e},Re=e=>{const t=w;try{return w=oe,e()}finally{w=t}},Te=({unsubscribe:e})=>e(),He=({resubscribe:e})=>e();class Ae extends Fe{constructor(){super(void 0),u(this,h),u(this,E,!1),u(this,_,!1),u(this,g,0),u(this,f,new Map),u(this,D,t=>Re(()=>l(this,h,j).call(this,t))),this[P]=!0}resumeSubscribers(){l(this,h,I).call(this)||super.resumeSubscribers()}[b](){var t;if(n(this,E))throw new Error("recursive computed");let s=0;for(;l(this,h,I).call(this);){ae(++s),r(this,_,!0);try{for(const[,{pending:i,unsubscribe:a}]of n(this,f))i&&((t=a[b])==null||t.call(a))}finally{r(this,_,!1)}if(l(this,h,I).call(this))break;l(this,h,$).call(this)}}onUse(){return l(this,h,$).call(this,!0),this[b](),()=>n(this,f).forEach(Te)}}E=new WeakMap;_=new WeakMap;g=new WeakMap;f=new WeakMap;D=new WeakMap;h=new WeakSet;Z=function(e){const t={versionIndex:n(this,g),unsubscribe:m,resubscribe:m,pending:!1,usedValueIndex:0,value:void 0,valueIndex:0},s=i=>{t.value=i,t.valueIndex++,t.pending=!1,!n(this,_)&&!l(this,h,I).call(this)&&V(()=>l(this,h,$).call(this))};return s.next=s,s.pause=()=>{t.pending=!0,this.pauseSubscribers()},s.resume=()=>{t.pending=!1,!n(this,_)&&!l(this,h,I).call(this)&&V(()=>l(this,h,$).call(this))},t.resubscribe=()=>{t.unsubscribe=e(s),s[te]=t.unsubscribe},t.resubscribe(),t};j=function(e){var t,s;let i=n(this,f).get(e);return i?(i.versionIndex=n(this,g),(s=(t=i.unsubscribe)[b])==null||s.call(t)):(i=l(this,h,Z).call(this,G(e)),n(this,f).set(e,i)),i.usedValueIndex=i.valueIndex,i.value};$=function(e=!1){r(this,E,!0),r(this,_,!0);try{if(n(this,g)>0&&(e&&n(this,f).forEach(He),!l(this,h,ee).call(this))){this.resumeSubscribers();return}We(this,g)._++;const t=n(this,g),s=w;let i;try{w=n(this,D),i=this.compute()}finally{w=s}this.set(i),this[P]=!1;for(const[a,o]of n(this,f))o.versionIndex!==t&&(n(this,f).delete(a),o.unsubscribe())}finally{r(this,_,!1),r(this,E,!1)}};I=function(){for(const[,{pending:e}]of n(this,f))if(e)return!0;return!1};ee=function(){for(const[,{valueIndex:e,usedValueIndex:t}]of n(this,f))if(e!=t)return!0;return!1};function De(e,t={}){const s=class extends Ae{compute(){return e()}};return ie(Ne(new s,{...t,onUse:void 0}))}const Qe={visible:!0,horizontal:!1,onVisibleChange:()=>{},onShown:()=>{},onHidden:()=>{},animated:!0,animatedOnInit:!1,className:""},Ge={horizontal:O,onVisibleChange:N,onHidden:N,onShown:N,animatedOnInit:O,animated:O,className:Ce,visible:O};function Be(e){const[{animatedOnInit$:t,animated$:s,visible$:i,onVisibleChange$:a,onHidden$:o,onShown$:c,horizontal$:q,...z},F]=ge(Qe,e,Ge),re=Ue(De(()=>q()?Ie:ke)),y=xe({props:{transition:re,visible:i,animated:s,animatedOnInit:t,onVisibleChange:a,onHidden:o,onShown:c}}),le=y.stores.visible$,ce=y.stores.hidden$;return{...we({...z,visible$:le,hidden$:ce,horizontal$:q}),patch:F,api:{open:y.api.show,close:y.api.hide,toggle:y.api.toggle},directives:{transitionDirective:ye(y.directives.directive)}}}const Xe=Be;var Je=pe("<div><!></div>");function it(e,t){ue(t,!0);let s=ve(t,["$$slots","$$events","$$legacy","children"]);const{directives:{transitionDirective:i},api:a}=qe({factory:Xe,widgetName:"collapse",props:s,enablePatchChanged:!0}),o=a;var c=Je();let q;he(()=>q=be(c,q,{}));var z=_e(c);return me(z,()=>t.children),Se(c,F=>i(F)),fe(e,c),de({api:o})}export{it as C};
