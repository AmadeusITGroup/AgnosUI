import{Z as s,$ as we,a1 as q,Y as H,a as ne,I as oe,f as I,b as ce,h as z,s as G,j as J,d as P,p as de,e as L,L as R,M as $e,v as De}from"./AppCommon-CTA2S8Vh.js";import{a as _}from"./actions-DwmA-Vw0.js";import{S as K}from"./Slot-ChGbuX9N.js";import{c as ye}from"./config-DszgqAWT.js";import{p as ie,r as ke,a as _e,f as Ce,s as Te}from"./focusElement-CYLq9ACP.js";import{c as re}from"./baseTransitions-BZTmf99k.js";import{n as g,d as Z,m as C,a as m}from"./dom-DD1hAVZy-C1xEaPzR.js";import{w as Se,b as ae,s as He,t as x}from"./stores-CCAWz2dY.js";import{c as le}from"./widget-CFLopPe7.js";import{c as V,b as u,d as se,e as Ve,t as F}from"./writables-e0tyaQpe-CAqbRUnG.js";import{e as xe}from"./extendWidget-CyCn9Gmz.js";import{c as Pe,a as Ie}from"./collapse-CVjUhnIz-BA5TuHjG.js";import{f as Ne}from"./fade-uOobJKgw-Dahoztge.js";const We={animated:!0,ariaDescribedBy:"",ariaLabelledBy:"",backdropClass:"",backdropTransition:g,className:"w-full",visible:!1,container:typeof window<"u"?document.body:null,transition:g,verticalTransition:g,onHidden:g,onShown:g,width:200,height:200,onWidthChange:g,onHeightChange:g,onVisibleChange:g,resizable:!1,backdrop:!0,bodyScroll:!1},Be={animated:V,ariaDescribedBy:F,ariaLabelledBy:F,backdropClass:F,backdropTransition:u,className:F,visible:V,transition:u,verticalTransition:u,container:Ve,onHidden:u,onShown:u,width:se(0,1/0),height:se(0,1/0),onWidthChange:u,onHeightChange:u,onVisibleChange:u,resizable:V,backdrop:V,bodyScroll:V},Ee=le("drawer",d=>{const[{backdrop$:t,backdropTransition$:p,backdropClass$:l,bodyScroll$:f,transition$:D,verticalTransition$:b,visible$:T,container$:o,className$:h,animated$:w,ariaDescribedBy$:S,ariaLabelledBy$:v,onHidden$:y,onShown$:$,width$:N,height$:W,onWidthChange$:Y,onHeightChange$:A,onVisibleChange$:O,...r},n]=Se(We,d,Be),i=s(()=>["block-start","block-end"].some(k=>h().includes(k))),c=re({props:{animated:w,animatedOnInit:w,transition:we(s(()=>i()?b():D())),visible:T,onVisibleChange:O,onHidden:y,onShown:$}}),a=ae(N,Y),B=ae(W,A),ve=Z(ie,s(()=>({container:o()}))),pe=m(()=>({attributes:{class:h,role:H("dialog"),"aria-describedby":S,"aria-labelledby":v,"aria-modal":H("true"),tabIndex:H("-1")},styles:{width:s(()=>i()?"100%":`${a()}px`),height:s(()=>i()?`${B()}px`:"100%"),position:s(()=>o()!==document.body&&o()!==null?"relative":"fixed"),outline:H("none")},events:{keydown:async e=>{const{key:k}=e;k==="Escape"&&await c.api.hide()}}})),be=m(()=>({styles:{width:s(()=>i()?"100%":`${a()}px`),height:s(()=>i()?`${B()}px`:"100%")}})),Q=re({props:{animated:w,transition:p}}),he=Z(ie,s(()=>{const e=o(),k=e?c.stores.element$():void 0;return{container:e,insertBefore:k?.parentElement===e?k:void 0}})),ge=s(()=>(f()||(j()?_e():ke()),!t()||j())),ue=m(()=>({attributes:{class:l,"data-agnos-ignore-inert":x},events:{click:async()=>{await c.api.hide()}}})),U=s(()=>["inline-start","block-start"].some(e=>h().includes(e))?1:-1),X=q(0),M=q(0),E=q(0),me=m(()=>({attributes:{draggable:H("true")},events:{dragstart:e=>{M.set(i()?e.clientY:e.clientX),X.set(i()?B():a()),e.dataTransfer?.setDragImage(new Image,0,0)},dragend:e=>{document.body.style.cursor="",ee(e)},dragover:e=>{e.preventDefault()},drag:e=>{ee(e)}}})),ee=e=>{!i()&&e.clientX>0?(E.set(X()+U()*(e.clientX-M())),a.set(E())):i()&&e.clientY>0&&(E.set(X()+U()*(e.clientY-M())),B.set(E()))},te=c.stores.visible$,fe=s(()=>c.stores.transitioning$()||Q.stores.transitioning$()),j=s(()=>!fe()&&!te());return{...He({...r,backdropClass$:l,className$:h,container$:o,visible$:te,backdropHidden$:ge,hidden$:j}),patch:n,api:{open:c.api.show,close:c.api.hide},directives:{containerDirective:be,drawerPortalDirective:ve,drawerDirective:C(c.directives.directive,Z(Te,s(()=>!f())),pe,Ce),backdropPortalDirective:he,backdropDirective:C(Q.directives.directive,ue),splitterDirective:me}}}),Fe={structure:void 0,header:void 0,children:void 0},Le={structure:void 0,header:void 0,children:void 0},ze={backdropTransition:Ne,transition:Ie,verticalTransition:Pe},Ye=le("drawer",d=>{const t=xe(Ee,Fe,Le,ze)(d);return{...t,directives:{...t.directives,drawerDirective:C(t.directives.drawerDirective,m(()=>({classNames:{"au-drawer":x,show:t.stores.visible$}}))),backdropDirective:C(t.directives.backdropDirective,m(()=>({classNames:{"au-drawer-backdrop":x,show:t.stores.visible$}}))),splitterDirective:C(t.directives.splitterDirective,m(()=>({classNames:{"au-splitter":x}}))),containerDirective:C(t.directives.containerDirective,m(()=>({classNames:{"au-drawer-container":x}})))}}}),Ae=Ye;var Oe=I("<div></div>"),Xe=I('<div class="au-drawer-header"><!></div> <div class="au-drawer-body"><!></div> <!>',1);function Me(d,t){ne(t,!0);let p=oe(t,["$$slots","$$events","$$legacy"]),{state:l,directives:f}=p;var D=Xe(),b=ce(D),T=z(b);K(T,{get content(){return l.header},get props(){return p}});var o=G(b,2),h=z(o);K(h,{get content(){return l.children},get props(){return p}});var w=G(o,2);{var S=v=>{var y=Oe();L(y,$=>({...$}),[()=>({})]),_(y,$=>f.splitterDirective?.($)),P(v,y)};J(w,v=>{l.resizable&&v(S)})}P(d,D),de()}const je=(d,t=$e)=>{Me(d,De(t))};var qe=I("<div><div><!></div></div>"),Re=I("<div></div>"),Ze=I("<!> <!>",1);function dt(d,t){ne(t,!0);let p=R(t,"width",15),l=R(t,"height",15),f=R(t,"visible",15),D=oe(t,["$$slots","$$events","$$legacy","width","height","visible"]);const b=ye(Ae,{get props(){return{...D,width:p(),height:l(),visible:f()}},defaultConfig:{structure:je},events:{onWidthChange:r=>{p(r)},onHeightChange:r=>{l(r)},onVisibleChange:r=>{f(r)}}}),{directives:{backdropDirective:T,backdropPortalDirective:o,drawerDirective:h,drawerPortalDirective:w,containerDirective:S},state:v}=b;var $={api:b.api},N=Ze(),W=ce(N);{var Y=r=>{var n=qe();L(n,a=>({...a}),[()=>({})]);var i=z(n);L(i,a=>({...a}),[()=>({})]);var c=z(i);K(c,{get content(){return v.structure},get props(){return b}}),_(i,a=>S?.(a)),_(n,a=>w?.(a)),_(n,a=>h?.(a)),P(r,n)};J(W,r=>{v.hidden||r(Y)})}var A=G(W,2);{var O=r=>{var n=Re();L(n,i=>({...i}),[()=>({})]),_(n,i=>o?.(i)),_(n,i=>T?.(i)),P(r,n)};J(A,r=>{v.backdropHidden||r(O)})}return P(d,N),de($)}export{dt as D};
