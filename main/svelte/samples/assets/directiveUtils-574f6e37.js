import{$ as p,a1 as u,a0 as l,aa as d}from"./index-4cf2a498.js";const f=()=>{},h=e=>e,v=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/;function $(e){var s;const t=(""+e).match(v);return Math.max(0,(((s=t[1])==null?void 0:s.length)??0)-(+t[2]||0))}const m=(e,t)=>s=>{let o=!0,r;const i=t.subscribe(a=>{var c;o?(o=!1,r=e(s,a)):(c=r==null?void 0:r.update)==null||c.call(r,a)});return{destroy(){var a;(a=r==null?void 0:r.destroy)==null||a.call(r),i()}}},y=p(void 0),D=e=>m(e,y),x=(e,t=!0)=>()=>{const s=e.subscribe(f);return{destroy:async()=>{t&&await 0,s()}}},A=e=>(t,s)=>(e(s),{update:e}),b={equal:Object.is},g=()=>{const e=l([],b);return u(e,{register:t=>{let s=!1;return e.update(o=>[...o,t]),()=>{s||(s=!0,e.update(o=>{const r=o.indexOf(t);if(r>-1){const i=[...o];return i.splice(r,1),i}return o}))}}})},O=()=>{const e=g();return{elements$:u(e),directive:t=>({destroy:e.register(t)})}},S=()=>{const e=l(null,b);return{element$:u(e),directive:t=>{let s=!1;return e.update(o=>o?(console.error("The directive cannot be used on multiple elements.",o,t),o):(s=!0,t)),s?{destroy(){e.update(o=>t===o?null:o)}}:void 0}}},q=(...e)=>(t,s)=>{const o=d(()=>e.map(r=>r(t,s)));return{update(r){d(()=>o.forEach(i=>{var a;return(a=i==null?void 0:i.update)==null?void 0:a.call(i,r)}))},destroy(){d(()=>o.reverse().forEach(r=>{var i;return(i=r==null?void 0:r.destroy)==null?void 0:i.call(r)}))}}};export{O as a,m as b,S as c,x as d,D as e,A as f,$ as g,h as i,q as m,f as n,g as r};
