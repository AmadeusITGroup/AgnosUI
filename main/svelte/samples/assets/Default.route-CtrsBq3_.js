import{j as x,p as B,O as q,e as k,b as O,g as C,c as r,a as M,t as c,L as F,q as y,h as u,m as L,a4 as N,i as S}from"./AppCommon-CHMWAYUs.js";import{s as V}from"./snippet-BpnQ07FJ.js";import{a as p}from"./actions-DuaCxCQE.js";import{c as W}from"./config-Dx2j-Ppr.js";import{c as z}from"./modal-BEVbQExQ-DwP7x8my.js";import{c as D}from"./directive-CKEccryv-DchTFd9J.js";import"./writables-DoU_XYTX-EUJry9Cf.js";import"./baseTransitions-B9ugZAUu.js";import"./promise-CY2U8bTP-CRYFPrGb.js";var G=c('<form method="dialog"><button>✕</button></form>'),H=c('<form method="dialog" class="modal-backdrop"><button>Close</button></form>'),I=c('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function J(i,t){B(t,!0);let e=q(t,"visible",15),d=F(t,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:b,directives:{closeButtonDirective:v,dialogDirective:w},api:A}=W({factory:z,widgetName:"modal",get props(){return{visible:e(),closeOnOutsideClick:t.closeOnOutsideClick,...d}},enablePatchChanged:!0,defaultConfig:{closeButton:!0},events:{onVisibleChange:o=>{e(o)}}}),f=A;var s=I();let g;k(()=>g=y(s,g,{onclose:f.close}));var h=u(s),_=u(h);V(_,()=>t.children);var E=O(_,2);C(E,()=>b.closeButton,o=>{var a=G(),n=u(a);let m;k(()=>m=y(n,m,{})),p(n,(l,j)=>D(l,j),()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),p(n,l=>v(l)),r(o,a)});var P=O(h,2);return C(P,()=>t.closeOnOutsideClick,o=>{var a=H(),n=u(a);n.__click=function(...m){var l;(l=f.close)==null||l.apply(this,m)},r(o,a)}),p(s,(o,a)=>D(o,a),()=>"modal modal-bottom sm:modal-middle"),p(s,o=>w(o)),r(i,s),M({api:f})}x(["click"]);async function K(i){const t=document.createElement("div");document.body.append(t);const e=L(J,{target:t,props:i});try{return await e.api.open()}finally{t.remove(),N(e)}}const Q=(i,t)=>K({children:t,closeOnOutsideClick:!0});var R=c('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),T=c('<button class="btn" aria-haspopup="dialog">Open modal</button>');function it(i,t){B(t,!1);const e=b=>{var v=R();r(b,v)};S();var d=T();d.__click=[Q,e],r(i,d),M()}x(["click"]);export{it as default};
