import{Z as a,$ as ke,Y as N,a1 as ae,a2 as se,I as ce,f as P,h as H,s as G,d as T,a as ze,L as Se,M as Ce,b as _e,j as U,p as Me,e as A,v as xe}from"./AppCommon-Wa4AmAan.js";import{a as k}from"./actions-D7IIRiiZ.js";import{S as J}from"./Slot-DFH2C-kU.js";import{c as Te}from"./config-_cCvVkuj.js";import{p as oe,r as Ve,a as He,f as Pe,s as Ee}from"./focusElement-B1nSPubH.js";import{c as Be}from"./pointerdownPosition-BorTzqud.js";import{c as ne}from"./baseTransitions-COHS6YM7.js";import{n as l,d as Z,e as Ne,m as h,a as $,i as Ae,f as Le}from"./dom-DD1hAVZy-DF7A35x4.js";import{w as We,b as Fe,s as Ie,t as V}from"./stores-Cnqi-Xzl.js";import{c as de}from"./widget-dYgkJFv4.js";import{d as Oe,c as x,b as v,e as Re,t as L}from"./writables-Is1bF1Vt-BG3Pzxwh.js";import{e as Ye}from"./extendWidget-Bk2kvPn-.js";import{c as Xe,a as je}from"./collapse-CVjUhnIz-DXNwVaDp.js";import{f as qe}from"./fade-uOobJKgw-CJdm4xxN.js";const Ue={animated:!0,ariaDescribedBy:"",ariaLabelledBy:"",backdropClass:"",backdropTransition:l,className:"w-full",visible:!1,container:typeof window<"u"?document.body:null,transition:l,verticalTransition:l,onHidden:l,onShown:l,onSizeChange:l,onVisibleChange:l,onMinimizedChange:l,onMaximizedChange:l,onResizingChange:l,resizable:!1,backdrop:!0,bodyScroll:!1,size:null},Ze={animated:x,ariaDescribedBy:L,ariaLabelledBy:L,backdropClass:L,backdropTransition:v,className:L,visible:x,transition:v,verticalTransition:v,container:Re,onHidden:v,onShown:v,onSizeChange:v,onVisibleChange:v,onMinimizedChange:v,onMaximizedChange:v,onResizingChange:v,resizable:x,backdrop:x,bodyScroll:x,size:Oe},Ge=de("drawer",p=>{const[{backdrop$:t,backdropTransition$:n,backdropClass$:f,bodyScroll$:b,transition$:g,verticalTransition$:z,visible$:S,container$:u,className$:w,size$:W,animated$:m,ariaDescribedBy$:K,ariaLabelledBy$:F,onHidden$:E,onShown$:B,onSizeChange$:I,onVisibleChange$:O,onMinimizedChange$:R,onMaximizedChange$:c,onResizingChange$:r,...s},Y]=We(Ue,p,Ze),C=Fe(W,I,e=>e&&Math.round(e)),D=a(()=>["block-start","block-end"].some(o=>w().includes(o))),i=ne({props:{animated:m,animatedOnInit:m,transition:ke(a(()=>D()?z():g())),visible:S,onVisibleChange:O,onHidden:E,onShown:B}}),_=Z(oe,a(()=>({container:u()}))),{directive:M,element$:X}=Ne(),le=h(M,$(()=>({attributes:{class:w,role:N("dialog"),"aria-describedby":K,"aria-labelledby":F,"aria-modal":N("true"),tabIndex:N("-1")},styles:{position:a(()=>{const e=u();return e&&Ae(e)&&e!==document.body?"relative":"fixed"}),outline:N("none")},events:{keydown:async e=>{e.key==="Escape"&&await i.api.hide()}}}))),Q=ne({props:{animated:m,transition:n}}),ve=Z(oe,a(()=>{const e=u(),o=e?i.stores.element$():void 0;return{container:e,insertBefore:o?.parentElement===e?o:void 0}})),pe=a(()=>(b()||(q()?He():Ve()),!t()||q())),be=$(()=>({attributes:{class:f,"data-agnos-ignore-inert":V},events:{click:async()=>await i.api.hide()}})),ue=a(()=>["inline-start","block-start"].some(e=>w().includes(e))?1:-1),ee=ae(void 0),ie=ae(void 0);function j(e){const o=X(),d=D();e=Math.round(Math.max(0,e)),o.style[d?"height":"width"]=`${e}px`;const y=Math.round(o[d?"offsetHeight":"offsetWidth"]);return C.set(y),ee.set(e!=null&&(e<y||e===0)),ie.set(!!e&&e>y),y}const me=h(Be(e=>{const o=X(),d=D(),y=o[d?"offsetHeight":"offsetWidth"],re=d?"clientY":"clientX",we=e[re],De=ue();return r()(!0),{onMove(ye){j(y+De*(ye[re]-we))},onEnd(){o.style[d?"height":"width"]="",r()(!1)}}}),$(()=>({events:{keydown:e=>{const{key:o}=e,d=C()||X()?.[D()?"offsetHeight":"offsetWidth"];if(d!=null)switch(o){case"ArrowLeft":case"ArrowDown":r()(!0),j(d-10),r()(!1);break;case"ArrowRight":case"ArrowUp":r()(!0),j(d+10),r()(!1);break}}}}))),te=i.stores.visible$,fe=a(()=>i.stores.transitioning$()||Q.stores.transitioning$()),q=a(()=>!fe()&&!te()),he=a(()=>{const e=ee();e!=null&&se(()=>R()(e))}),$e=a(()=>{const e=ie();e!=null&&se(()=>c()(e))}),ge=a(()=>{he(),$e()});return{...Ie({...s,backdropClass$:f,className$:w,container$:u,size$:C,visible$:te,backdropHidden$:pe,hidden$:q}),patch:Y,api:{open:i.api.show,close:i.api.hide},directives:{drawerPortalDirective:_,drawerDirective:h(Le(ge),le,Z(Ee,a(()=>!b())),i.directives.directive,Pe),backdropPortalDirective:ve,backdropDirective:h(Q.directives.directive,be),splitterDirective:me}}}),Je={structure:void 0,header:void 0,children:void 0},Ke={structure:void 0,header:void 0,children:void 0},Qe={backdropTransition:qe,transition:je,verticalTransition:Xe},ei=de("drawer",p=>{const t=Ye(Ge,Je,Ke,Qe)(p);return{...t,directives:{...t.directives,drawerDirective:h($(()=>({classNames:{"au-drawer":V,show:t.stores.visible$},styles:{"--bs-drawer-size":a(()=>{const n=t.stores.size$();return n==null?void 0:n+"px"})}})),t.directives.drawerDirective),backdropDirective:h(t.directives.backdropDirective,$(()=>({classNames:{"au-drawer-backdrop":V,show:t.stores.visible$}}))),splitterDirective:h(t.directives.splitterDirective,$(()=>({classNames:{"au-splitter":V}}))),containerDirective:$(()=>({classNames:{"au-drawer-container":V}}))}}}),ii=ei;var ti=P('<div class="au-drawer-content"><div class="au-drawer-header"><!></div> <div class="au-drawer-body"><!></div></div>');function ri(p,t){let n=ce(t,["$$slots","$$events","$$legacy"]),{state:f}=n;var b=ti(),g=H(b),z=H(g);J(z,{get content(){return f.header},get props(){return n}});var S=G(g,2),u=H(S);J(u,{get content(){return f.children},get props(){return n}}),T(p,b)}const ai=(p,t=Ce)=>{ri(p,xe(t))};var si=P("<div></div>"),oi=P("<div><div><!></div> <!></div>"),ni=P("<div></div>"),ci=P("<!> <!>",1);function zi(p,t){ze(t,!0);let n=Se(t,"visible",15),f=ce(t,["$$slots","$$events","$$legacy","visible"]);const b=Te(ii,{get props(){return{...f,visible:n()}},defaultConfig:{structure:ai},events:{onVisibleChange:c=>{n(c)}}}),{directives:{backdropDirective:g,backdropPortalDirective:z,drawerDirective:S,drawerPortalDirective:u,containerDirective:w,splitterDirective:W},state:m}=b;var F={api:b.api},E=ci(),B=_e(E);{var I=c=>{var r=oi();A(r,i=>({...i}),[()=>({})]);var s=H(r);A(s,i=>({...i}),[()=>({})]);var Y=H(s);J(Y,{get content(){return m.structure},get props(){return b}}),k(s,i=>w?.(i));var C=G(s,2);{var D=i=>{var _=si();A(_,M=>({tabindex:"0",...M}),[()=>({})]),k(_,M=>W?.(M)),T(i,_)};U(C,i=>{m.resizable&&i(D)})}k(r,i=>u?.(i)),k(r,i=>S?.(i)),T(c,r)};U(B,c=>{m.hidden||c(I)})}var O=G(B,2);{var R=c=>{var r=ni();A(r,s=>({...s}),[()=>({})]),k(r,s=>z?.(s)),k(r,s=>g?.(s)),T(c,r)};U(O,c=>{m.backdropHidden||c(R)})}return T(p,E),Me(F)}export{zi as D};
