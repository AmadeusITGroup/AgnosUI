import{k as m}from"./directive-DDb3YD5o-CdQo3NBV.js";import{a as b}from"./stores-CzF8MSUm.js";import{b as c,c as d}from"./promise-CY2U8bTP-en5UEHMu.js";function f(t){return window.getComputedStyle(t).transitionProperty!=="none"}function w(t){const{transitionDelay:o,transitionDuration:i}=window.getComputedStyle(t),r=parseFloat(o),n=parseFloat(i);return(r+n)*1e3}const F=t=>async(o,i,r,n,u)=>{const p=t(o,i,r,u)??b;if(m(o)&&r&&f(o)){const s=c(n,"abort"),a=c(o,"transitionend"),e=d(w(o));await Promise.race([s.promise,a.promise,e.promise]),s.unsubscribe(),a.unsubscribe(),e.unsubscribe()}n.aborted||p()};export{F as c};
