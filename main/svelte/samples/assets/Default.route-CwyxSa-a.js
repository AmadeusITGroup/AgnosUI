import{n as x,p as A,M as V,K as W,t as c,d as m,s as C,e as O,h as y,j as M,c as n,a as E,m as Y,Y as q,i as z}from"./AppCommon-DpFUH4-D.js";import{s as D}from"./snippet-D7FZOkeU.js";import{a as p}from"./actions-QldAWIid.js";import{c as G}from"./config-DFeEizj6.js";import{c as H}from"./modal-CGK3h9pR-CEXYIOLH.js";import{c as w}from"./dom-gfxqXJpK-DWJgb4QK.js";import"./stores-rsYdYw9J.js";import"./index-client-BAzIOzv7.js";import"./writables-CgpOQ4hA-DSsIStup.js";import"./baseTransitions-ByWEOw1P.js";import"./promise-XSP94FjG-BQMSFCpD.js";var I=c('<form method="dialog"><button>✕</button></form>'),J=c('<form method="dialog" class="modal-backdrop"><button>Close</button></form>'),L=c('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function Q(a,t){A(t,!0);let e=V(t,"visible",15),v=W(t,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:P,directives:{closeButtonDirective:u,dialogDirective:b},api:j}=G({factory:H,widgetName:"modal",get props(){return{visible:e(),closeOnOutsideClick:t.closeOnOutsideClick,...v}},enablePatchChanged:!0,defaultConfig:{closeButton:!0},events:{onVisibleChange:o=>{e(o)}}}),f=j;var r=L();let g;var h=m(r),_=m(h);D(_,()=>t.children);var B=C(_,2);{var F=o=>{var l=I(),s=m(l);let d;p(s,(i,S)=>{var k;return(k=w)==null?void 0:k(i,S)},()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),p(s,i=>u==null?void 0:u(i)),y(i=>d=M(s,d,{...i}),[()=>({})]),n(o,l)};O(B,o=>{P.closeButton&&o(F)})}var K=C(h,2);{var N=o=>{var l=J(),s=m(l);s.__click=function(...d){var i;(i=f.close)==null||i.apply(this,d)},n(o,l)};O(K,o=>{t.closeOnOutsideClick&&o(N)})}return p(r,(o,l)=>{var s;return(s=w)==null?void 0:s(o,l)},()=>"modal modal-bottom sm:modal-middle"),p(r,o=>b==null?void 0:b(o)),y(o=>g=M(r,g,{onclose:f.close,...o}),[()=>({})]),n(a,r),E({api:f})}x(["click"]);async function R(a){const t=document.createElement("div");document.body.append(t);const e=Y(Q,{target:t,props:a});try{return await e.api.open()}catch{t.remove(),await q(e)}}const T=a=>{var t=X();n(a,t)},U=(a,t)=>R({children:t,closeOnOutsideClick:!0});var X=c('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),Z=c('<button class="btn" aria-haspopup="dialog">Open modal</button>');function dt(a,t){A(t,!1),z();var e=Z();e.__click=[U,T],n(a,e),E()}x(["click"]);export{dt as default};
