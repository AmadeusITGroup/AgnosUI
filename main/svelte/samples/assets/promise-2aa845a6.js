import{Z as l,_ as m,a7 as p,$ as f,a9 as b}from"./index-d88d3c67.js";import{n as u}from"./directive-8965f686.js";const d={status:"pending"},S=e=>{const t=typeof e;return t==="object"&&e!==null||t==="function"?typeof e.then=="function":!1},v=e=>{const t=f(d);return Promise.resolve(e).then(s=>t.set({status:"fulfilled",value:s}),s=>t.set({status:"rejected",reason:s})),b(t)},c=new WeakMap,P=e=>{if(!S(e))return p({status:"fulfilled",value:e});let t=c.get(e);return t||(t=v(e),c.set(e,t)),t},a=(e,t)=>Object.is(e,t)&&(!e||typeof e!="object")&&typeof e!="function",T=(e,t)=>Object.is(e,t)||e.status===t.status&&(e.status!=="fulfilled"||a(e.value,t.value))&&(e.status!=="rejected"||a(e.reason,t.reason)),j=e=>l(()=>P(e())(),{equal:T}),w=(e,t,s)=>m(e,{derive:(i,o)=>{i.status==="fulfilled"&&o(i.value)},equal:s},t),q=(e,t,s)=>w(j(e),t,s),y=e=>!!e,E=(e,t=y)=>{let s;const i=new Promise(r=>s=r);let o=()=>{n(),o=u},n=u;return n=e.subscribe(r=>{t(r)&&(s(r),o())}),o===u&&n(),{promise:i,unsubscribe(){o()}}},F=(e,t)=>{let s;const i=new Promise(r=>s=r);let o=()=>{e.removeEventListener(t,n),o=u};const n=r=>{r.target===e&&(s(r),o())};return e.addEventListener(t,n),{promise:i,unsubscribe(){o()}}},L=e=>{let t;return{promise:new Promise(s=>{t=setTimeout(()=>{t=void 0,s()},e)}),unsubscribe(){t&&(clearTimeout(t),t=void 0)}}},V=()=>{let e;return{promise:new Promise(s=>{e=s}),resolve:e}};export{E as a,V as b,F as c,L as d,q as p};
