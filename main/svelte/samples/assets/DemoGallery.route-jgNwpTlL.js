import{a as $,c as y,d as H,b as p,p as tt,h as c,f as st,g as o,s as j,Q as O,t as U,U as L,R as P,Z as et,a9 as it,k as Q,n as h,l as Z,O as A,T as lt,V as J,a5 as nt,q as ct,L as dt,j as K}from"./AppCommon-fKgCL6YI.js";import{h as E}from"./html-BI5-e-w6.js";import{a as n}from"./actions-Ck4r4m0h.js";import{b as vt}from"./this-D5M_h4Qy.js";import{c as X}from"./config-FzAvapuu.js";import{c as S}from"./dom-BPD8lUxd-BXl1zwuB.js";import{p as ut,n as mt}from"./next-qIJV01AO.js";import{c as Y}from"./index-BKaKBZHr.js";import"./stores-DBcJ-LkE.js";import"./index-client-CHYA3ikv.js";import"./writables-DYGjj5T3-BuJtDJfU.js";import"./navManager-Knf7_nOE.js";import"./isFocusable-Ckwus82R-adOM025a.js";import"./textDirection-cNgt24LJ-sg3JWs5A.js";import"./widget-D35XOKjg.js";var pt=h('<span class="absolute top-1/2 -translate-y-1/2 left-1/2 loading loading-spinner loading-lg text-primary"></span>'),ht=h("<source/>"),ft=h('<!> <picture class="flex justify-center"><!> <img class="select-none object-contain"/></picture>',1),gt=h('<div class="skeleton w-full h-full"></div>'),bt=h("<div><!></div>");function wt(l,e){$(e,!0);let f=Z(!1);var d=bt();y(d,a=>({...a}),[()=>({})]);var D=c(d);{var w=a=>{var u=ft(),G=st(u);{var W=g=>{var m=pt();p(g,m)};H(G,g=>{o(f)||g(W)})}var _=j(G,2),k=c(_);O(k,17,()=>e.sources,P,(g,m)=>{let I=()=>o(m).media,T=()=>o(m).srcset;var C=ht();U(()=>{L(C,"media",I()),L(C,"srcset",T())}),p(g,C)});var M=j(k,2);let R;U(()=>{L(M,"alt",e.alt),L(M,"src",e.src),R=et(M,"",R,{"aspect-ratio":e.aspectRatio})}),it("load",M,()=>Q(f,!0)),p(a,u)},N=a=>{var u=gt();p(a,u)};H(D,a=>{e.loadRequested?a(w):a(N,!1)})}n(d,(a,u)=>S?.(a,u),()=>"relative basis-full min-w-0 shrink-0 grow-0 flex justify-center"),n(d,(a,u)=>e.slide?.(a,u),()=>({id:e.id,index:e.index})),p(l,d),tt()}const _t=`<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" /></svg>
`,xt='<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25" /></svg>';var yt=h('<div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between"><button><!></button> <button><!></button></div>'),St=h('<div class="absolute right-5 bottom-5 flex"><button class="btn btn-primary btn-sm md:btn-md btn-square opacity-75 hover:opacity-100"><!></button></div>'),kt=h('<button><img class="select-none" alt="random picsum" loading="lazy"/></button>'),Mt=h('<div class="grid grid-flow-row max-h-dvh"><div><div class="flex max-h-full"></div> <!> <!></div> <div><div></div></div></div>');function Rt(l,e){$(e,!0);let f=A(e,"withNavArrows",3,!1),d=A(e,"withShowFullscreen",3,!1),D=A(e,"aspectRatio",3,4/3),w=Z(lt(e.photos.map((t,r)=>({...t,loadRequested:r===0}))));J(()=>{Q(w,e.photos.map((t,r)=>({...t,loadRequested:r===0})),!0)});const{state:N,directives:a}=X(Y),{directives:u,api:{scrollTo:G}}=X(Y,{props:{dragFree:!0,containScroll:"keepSnaps"}});let W=dt(()=>!!document?.fullscreenEnabled&&d()),_=Z(!1),k;const M=()=>{o(_)?document.exitFullscreen():k.requestFullscreen(),Q(_,!o(_))};J(()=>{const t=N.selectedScrollSnap;nt(()=>{G(t),o(w)[t].loadRequested=!0,t>0&&(o(w)[t-1].loadRequested=!0),t<o(w).length-1&&(o(w)[t+1].loadRequested=!0)})});const R=t=>t.preventDefault();var g=Mt(),m=c(g);y(m,t=>({...t}),[()=>({})]);var I=c(m);O(I,21,()=>o(w),P,(t,r,s)=>{let x=()=>o(r).src,v=()=>o(r).alt,q=()=>o(r).sources,i=()=>o(r).loadRequested;wt(t,{get src(){return x()},get alt(){return v()},get sources(){return q()},get loadRequested(){return i()},get aspectRatio(){return D()},id:`gallery-photo-${s}`,index:s,get slide(){return a.slide}})});var T=j(I,2);{var C=t=>{var r=yt(),s=c(r);y(s,i=>({onpointerdown:R,...i}),[()=>({})]);var x=c(s);E(x,()=>ut),n(s,(i,b)=>S?.(i,b),()=>"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100"),n(s,i=>a.scrollPrev?.(i));var v=j(s,2);y(v,i=>({onpointerdown:R,...i}),[()=>({})]);var q=c(v);E(q,()=>mt),n(v,(i,b)=>S?.(i,b),()=>"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100"),n(v,i=>a.scrollNext?.(i)),p(t,r)};H(T,t=>{f()&&t(C)})}var at=j(T,2);{var ot=t=>{var r=St(),s=c(r),x=c(s);E(x,()=>o(_)?xt:_t),U(()=>L(s,"aria-label",o(_)?"leave fullscreen":"open photo in fullscreen")),K("click",s,M),K("pointerdown",s,R),p(t,r)};H(at,t=>{o(W)&&t(ot)})}n(m,(t,r)=>S?.(t,r),()=>"overflow-hidden relative cursor-grab active:cursor-grabbing"),n(m,t=>a.root?.(t));var V=j(m,2);y(V,t=>({...t}),[()=>({})]);var B=c(V);y(B,t=>({...t}),[()=>({})]),O(B,21,()=>e.photos,P,(t,r,s)=>{let x=()=>o(r).thumbnail;var v=kt();y(v,b=>({...b}),[()=>({})]);var q=c(v);let i;n(v,(b,z)=>S?.(b,z),()=>["ring-primary cursor-pointer",N.selectedScrollSnap===s&&"ring-3"]),n(v,(b,z)=>a.tabIndicator?.(b,z),()=>({index:s,id:`gallery-photo-${s}`})),U(()=>{L(q,"src",x()),i=et(q,"",i,{"aspect-ratio":D()})}),p(t,v)}),n(B,(t,r)=>S?.(t,r),()=>"grid grid-flow-col auto-cols-max gap-2 mx-1 my-1 items-center"),n(B,t=>a.tabList?.(t)),n(V,(t,r)=>S?.(t,r),()=>"overflow-hidden mt-1 mb-2"),n(V,t=>u.root?.(t)),vt(g,t=>k=t,()=>k),p(l,g),tt()}ct(["click","pointerdown"]);const qt=[36,43,70,102,124,142,156,242,288,289,295,361,400,488,496,515,557,607,623,645],Ft=[124,289,400,488,607],rt=[],F=(l,e,f,d)=>`https://picsum.photos/id/${l}/${d?f:e}/${d?e:f}.webp`;for(const l of qt){const e=Ft.includes(l);rt.push({thumbnail:F(l,120,90,e),src:F(l,1600,1200,e),alt:"random picsum",sources:[{media:"(max-width: 599px)",srcset:F(l,600,450,e)},{media:"(min-width: 600px) and (max-width: 799px)",srcset:F(l,800,600,e)},{media:"(min-width: 800px) and (max-width: 1199px)",srcset:F(l,1200,900,e)},{media:"(min-width: 1200px)",srcset:F(l,1600,1200,e)}]})}const jt=[...rt];var Lt=h('<div class="w-full flex justify-center"><div class="max-w-[600px] lg:max-w-[1000px]"><!></div></div>');function Pt(l){var e=Lt(),f=c(e),d=c(f);Rt(d,{get photos(){return jt},withNavArrows:!0,withShowFullscreen:!0}),p(l,e)}export{Pt as default};
