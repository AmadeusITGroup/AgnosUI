import{p as $,f as g,e as k,j as z,h as c,d as p,a as tt,b as st,g as s,c as Q,s as C,Q as Z,t as A,U as N,S as J,Z as et,a6 as lt,k as K,O,T as it,V as X,a2 as nt,l as dt,L as ct}from"./AppCommon-Cvakw0h3.js";import{h as P}from"./html-B3uASW8M.js";import{a as d}from"./actions-B8unGIWj.js";import{b as ut}from"./this-CcPPaBAP.js";import{c as Y}from"./config-DFQAniv2.js";import{c as M}from"./dom-gfxqXJpK-QOAL7Lxn.js";import{p as vt,n as mt}from"./next-qIJV01AO.js";import{c as D}from"./index-7bKgSPaK.js";import"./stores-DS4KV-3N.js";import"./index-client-B_t4iYJG.js";import"./writables-CgpOQ4hA-BEFKzkSZ.js";import"./navManager-CrHSKU2S.js";import"./widget-Dy2v7UWc.js";var ft=g('<span class="absolute top-1/2 -translate-y-1/2 left-1/2 loading loading-spinner loading-lg text-primary"></span>'),ht=g("<source/>"),pt=g('<!> <picture class="flex justify-center"><!> <img class="select-none object-contain"/></picture>',1),gt=g('<div class="skeleton w-full h-full"></div>'),bt=g("<div><!></div>");function wt(i,e){$(e,!0);let b=Q(!1);var u=bt();k(u,a=>({...a}),[()=>({})]);var T=c(u);{var x=a=>{var v=pt(),f=st(v);{var E=w=>{var h=ft();p(w,h)};z(f,w=>{s(b)||w(E)})}var y=C(f,2),R=c(y);Z(R,17,()=>e.sources,J,(w,h)=>{let B=()=>s(h).media,H=()=>s(h).srcset;var G=ht();A(()=>{N(G,"media",B()),N(G,"srcset",H())}),p(w,G)});var q=C(R,2);let F;A(()=>{N(q,"alt",e.alt),N(q,"src",e.src),F=et(q,"",F,{"aspect-ratio":e.aspectRatio})}),lt("load",q,()=>K(b,!0)),p(a,v)},V=a=>{var v=gt();p(a,v)};z(T,a=>{e.loadRequested?a(x):a(V,!1)})}d(u,(a,v)=>{var f;return(f=M)==null?void 0:f(a,v)},()=>"relative basis-full min-w-0 shrink-0 grow-0 flex justify-center"),d(u,(a,v)=>{var f;return(f=e.slide)==null?void 0:f.call(e,a,v)},()=>({id:e.id,index:e.index})),p(i,u),tt()}const _t=`<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" /></svg>
`,xt='<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25" /></svg>';var yt=g('<div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between"><button><!></button> <button><!></button></div>'),St=g('<div class="absolute right-5 bottom-5 flex"><button class="btn btn-primary btn-sm md:btn-md btn-square opacity-75 hover:opacity-100"><!></button></div>'),kt=g('<button><img class="select-none" alt="random picsum" loading="lazy"/></button>'),Mt=g('<div class="grid grid-flow-row max-h-dvh"><div><div class="flex max-h-full"></div> <!> <!></div> <div><div></div></div></div>');function Rt(i,e){$(e,!0);let b=O(e,"withNavArrows",3,!1),u=O(e,"withShowFullscreen",3,!1),T=O(e,"aspectRatio",3,4/3),x=Q(it(e.photos.map((t,r)=>({...t,loadRequested:r===0}))));X(()=>{K(x,e.photos.map((t,r)=>({...t,loadRequested:r===0})),!0)});const{state:V,directives:a}=Y(D),{directives:v,api:{scrollTo:f}}=Y(D,{props:{dragFree:!0,containScroll:"keepSnaps"}});let E=ct(()=>!!(document!=null&&document.fullscreenEnabled)&&u()),y=Q(!1),R;const q=()=>{s(y)?document.exitFullscreen():R.requestFullscreen(),K(y,!s(y))};X(()=>{const t=V.selectedScrollSnap;nt(()=>{f(t),s(x)[t].loadRequested=!0,t>0&&(s(x)[t-1].loadRequested=!0),t<s(x).length-1&&(s(x)[t+1].loadRequested=!0)})});const F=t=>t.preventDefault();var w=Mt(),h=c(w);k(h,t=>({...t}),[()=>({})]);var B=c(h);Z(B,21,()=>s(x),J,(t,r,o)=>{let S=()=>s(r).src,m=()=>s(r).alt,j=()=>s(r).sources,l=()=>s(r).loadRequested;wt(t,{get src(){return S()},get alt(){return m()},get sources(){return j()},get loadRequested(){return l()},get aspectRatio(){return T()},id:`gallery-photo-${o}`,index:o,get slide(){return a.slide}})});var H=C(B,2);{var G=t=>{var r=yt(),o=c(r);k(o,l=>({onpointerdown:F,...l}),[()=>({})]);var S=c(o);P(S,()=>vt),d(o,(l,n)=>{var _;return(_=M)==null?void 0:_(l,n)},()=>"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100"),d(o,l=>{var n;return(n=a.scrollPrev)==null?void 0:n.call(a,l)});var m=C(o,2);k(m,l=>({onpointerdown:F,...l}),[()=>({})]);var j=c(m);P(j,()=>mt),d(m,(l,n)=>{var _;return(_=M)==null?void 0:_(l,n)},()=>"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100"),d(m,l=>{var n;return(n=a.scrollNext)==null?void 0:n.call(a,l)}),p(t,r)};z(H,t=>{b()&&t(G)})}var at=C(H,2);{var ot=t=>{var r=St(),o=c(r);o.__click=q,o.__pointerdown=F;var S=c(o);P(S,()=>s(y)?xt:_t),A(()=>N(o,"aria-label",s(y)?"leave fullscreen":"open photo in fullscreen")),p(t,r)};z(at,t=>{s(E)&&t(ot)})}d(h,(t,r)=>{var o;return(o=M)==null?void 0:o(t,r)},()=>"overflow-hidden relative cursor-grab active:cursor-grabbing"),d(h,t=>{var r;return(r=a.root)==null?void 0:r.call(a,t)});var U=C(h,2);k(U,t=>({...t}),[()=>({})]);var W=c(U);k(W,t=>({...t}),[()=>({})]),Z(W,21,()=>e.photos,J,(t,r,o)=>{let S=()=>s(r).thumbnail;var m=kt();k(m,n=>({...n}),[()=>({})]);var j=c(m);let l;d(m,(n,_)=>{var I;return(I=M)==null?void 0:I(n,_)},()=>["ring-primary cursor-pointer",V.selectedScrollSnap===o&&"ring-3"]),d(m,(n,_)=>{var I;return(I=a.tabIndicator)==null?void 0:I.call(a,n,_)},()=>({index:o,id:`gallery-photo-${o}`})),A(()=>{N(j,"src",S()),l=et(j,"",l,{"aspect-ratio":T()})}),p(t,m)}),d(W,(t,r)=>{var o;return(o=M)==null?void 0:o(t,r)},()=>"grid grid-flow-col auto-cols-max gap-2 mx-1 my-1 items-center"),d(W,t=>{var r;return(r=a.tabList)==null?void 0:r.call(a,t)}),d(U,(t,r)=>{var o;return(o=M)==null?void 0:o(t,r)},()=>"overflow-hidden mt-1 mb-2"),d(U,t=>{var r;return(r=v.root)==null?void 0:r.call(v,t)}),ut(w,t=>R=t,()=>R),p(i,w),tt()}dt(["click","pointerdown"]);const qt=[36,43,70,102,124,142,156,242,288,289,295,361,400,488,496,515,557,607,623,645],Ft=[124,289,400,488,607],rt=[],L=(i,e,b,u)=>`https://picsum.photos/id/${i}/${u?b:e}/${u?e:b}.webp`;for(const i of qt){const e=Ft.includes(i);rt.push({thumbnail:L(i,120,90,e),src:L(i,1600,1200,e),alt:"random picsum",sources:[{media:"(max-width: 599px)",srcset:L(i,600,450,e)},{media:"(min-width: 600px) and (max-width: 799px)",srcset:L(i,800,600,e)},{media:"(min-width: 800px) and (max-width: 1199px)",srcset:L(i,1200,900,e)},{media:"(min-width: 1200px)",srcset:L(i,1600,1200,e)}]})}const jt=[...rt];var Lt=g('<div class="w-full flex justify-center"><div class="max-w-[600px] lg:max-w-[1000px]"><!></div></div>');function Ot(i){var e=Lt(),b=c(e),u=c(b);Rt(u,{get photos(){return jt},withNavArrows:!0,withShowFullscreen:!0}),p(i,e)}export{Ot as default};
