import{j as M,p as w,s as L,P as N,L as S,e as O,q as C,b as y,g as B,c as r,a as x,t as d,d as V,M as W,h as b,m as z,a5 as G,i as H}from"./AppCommon-CRrVgjjK.js";import{s as I}from"./snippet-CHfuuZJF.js";import{a as v}from"./actions-DMIFV9qL.js";import{c as J}from"./config-OMIq8Q7I.js";import{c as K}from"./modal-C6tHsErX-C93kjrMH.js";import{c as D}from"./directive-CKEccryv-CZ-m_LIt.js";import"./writables-DoU_XYTX-DMLOF105.js";import"./baseTransitions-CA7OwSb7.js";import"./promise-CY2U8bTP-B4kTzlPZ.js";var Q=d('<form method="dialog"><button>✕</button></form>'),R=d('<form method="dialog" class="modal-backdrop"><button>Close</button></form>'),T=d('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function U(s,t){w(t,!0);const a=L(),m=()=>V(P,"$closeButton$",a);let l=N(t,"visible",15),u=W(t,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const g=J({factory:K,widgetName:"modal",props:{visible:l(),closeOnOutsideClick:t.closeOnOutsideClick,...u},defaultConfig:{closeButton:!0},events:{onVisibleChange:o=>{l(o)}}}),f=g.api,{stores:{closeButton$:P},directives:{closeButtonDirective:$,dialogDirective:E},patchChangedProps:j}=g;S(()=>j({visible:l(),closeOnOutsideClick:t.closeOnOutsideClick,...u}));var c=T();let _;O(()=>_=C(c,_,{onclose:f.close}));var h=b(c),k=b(h);I(k,()=>t.children);var q=y(k,2);B(q,m,o=>{var e=Q(),n=b(e);let p;O(()=>p=C(n,p,{})),v(n,(i,F)=>D(i,F),()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),v(n,i=>$(i)),r(o,e)});var A=y(h,2);return B(A,()=>t.closeOnOutsideClick,o=>{var e=R(),n=b(e);n.__click=function(...p){var i;(i=f.close)==null||i.apply(this,p)},r(o,e)}),v(c,(o,e)=>D(o,e),()=>"modal modal-bottom sm:modal-middle"),v(c,o=>E(o)),r(s,c),x({api:f})}M(["click"]);async function X(s){const t=document.createElement("div");document.body.append(t);const a=z(U,{target:t,props:s});try{return await a.api.open()}finally{t.remove(),G(a)}}const Y=(s,t)=>X({children:t,closeOnOutsideClick:!0});var Z=d('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),tt=d('<button class="btn" aria-haspopup="dialog">Open modal</button>');function dt(s,t){w(t,!1);const a=l=>{var u=Z();r(l,u)};H();var m=tt();m.__click=[Y,a],r(s,m),x()}M(["click"]);export{dt as default};
