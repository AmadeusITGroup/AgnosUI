import{G as l,ab as m,a0 as p,aa as u,H as f,a7 as d}from"./AppCommon-wnagio_-.js";import{n as a}from"./func-tK0QDe5R.js";const b={status:"pending"},S=e=>{const s=typeof e;return s==="object"&&e!==null||s==="function"?typeof e.then=="function":!1},v=e=>{const s=f(b);return Promise.resolve(e).then(t=>s.set({status:"fulfilled",value:t}),t=>s.set({status:"rejected",reason:t})),d(s)},c=new WeakMap,P=e=>{if(!S(e))return p({status:"fulfilled",value:e});let s=c.get(e);return s||(s=v(e),c.set(e,s)),s},T=(e,s)=>Object.is(e,s)||e.status===s.status&&(e.status!=="fulfilled"||u(e.value,s.value))&&(e.status!=="rejected"||u(e.reason,s.reason)),w=e=>l(()=>P(e())(),{equal:T}),h=(e,s,t)=>m(e,{derive:(n,o)=>{n.status==="fulfilled"&&o(n.value)},equal:t},s),E=(e,s,t)=>h(w(e),s,t),g=e=>!!e,q=(e,s=g)=>{let t;const n=new Promise(r=>t=r);let o=()=>{i(),o=a},i=a;return i=e.subscribe(r=>{s(r)&&(t(r),o())}),o===a&&i(),{promise:n,unsubscribe(){o()}}},F=(e,s)=>{let t;const n=new Promise(r=>t=r);let o=()=>{e.removeEventListener(s,i),o=a};const i=r=>{r.target===e&&(t(r),o())};return e.addEventListener(s,i),{promise:n,unsubscribe(){o()}}},L=e=>{let s;return{promise:new Promise(t=>{s=setTimeout(()=>{s=void 0,t()},e)}),unsubscribe(){s&&(clearTimeout(s),s=void 0)}}},V=()=>{let e;return{promise:new Promise(t=>{e=t}),resolve:e}};export{V as a,F as b,L as c,E as d,q as p};
