import{$ as b,a1 as u,a0 as l,a9 as d}from"./index-2cf00fd4.js";const m=()=>{},h=e=>e,v=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/;function $(e){var o;const t=(""+e).match(v);return Math.max(0,(((o=t[1])==null?void 0:o.length)??0)-(+t[2]||0))}const D=()=>{let e;return{promise:new Promise(o=>{e=o}),resolve:e}},f=(e,t)=>o=>{let s=!0,r;const i=t.subscribe(a=>{var c;s?(s=!1,r=e(o,a)):(c=r==null?void 0:r.update)==null||c.call(r,a)});return{destroy(){var a;(a=r==null?void 0:r.destroy)==null||a.call(r),i()}}},n=b(void 0),x=e=>f(e,n),A=(e,t=!0)=>()=>{const o=e.subscribe(m);return{destroy:async()=>{t&&await 0,o()}}},w=e=>(t,o)=>(e(o),{update:e}),p={equal:Object.is},y=()=>{const e=l([],p);return u(e,{register:t=>{let o=!1;return e.update(s=>[...s,t]),()=>{o||(o=!0,e.update(s=>{const r=s.indexOf(t);if(r>-1){const i=[...s];return i.splice(r,1),i}return s}))}}})},O=()=>{const e=y();return{elements$:u(e),directive:t=>({destroy:e.register(t)})}},R=()=>{const e=l(null,p);return{element$:u(e),directive:t=>{let o=!1;return e.update(s=>s?(console.error("The directive cannot be used on multiple elements.",s,t),s):(o=!0,t)),o?{destroy(){e.update(s=>t===s?null:s)}}:void 0}}},S=(...e)=>(t,o)=>{const s=d(()=>e.map(r=>r(t,o)));return{update(r){d(()=>s.forEach(i=>{var a;return(a=i==null?void 0:i.update)==null?void 0:a.call(i,r)}))},destroy(){d(()=>s.reverse().forEach(r=>{var i;return(i=r==null?void 0:r.destroy)==null?void 0:i.call(r)}))}}};export{O as a,f as b,R as c,A as d,x as e,w as f,$ as g,h as i,S as m,m as n,D as p,y as r};
