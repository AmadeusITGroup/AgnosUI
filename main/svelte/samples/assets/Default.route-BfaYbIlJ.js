import{e as P,p as q,M as D,s as O,c as y,d as w,b as n,a as B,t as c,L as G,k as d,l as M,g as x,q as A,m as H,a0 as I,i as J}from"./AppCommon-Cg6aVWiJ.js";import{s as K}from"./snippet-bQaf2IEf.js";import{a as m}from"./actions-DDgANA-V.js";import{c as Q}from"./config-D83CSAZ6.js";import{c as R}from"./modal-DP-4I7vf-T3zMfcvO.js";import{c as E}from"./directive-CKEccryv-MJlbWsK7.js";import"./index-client-BvKYyCNh.js";import"./writables-DCiBdIBK-CZAW7EE6.js";import"./baseTransitions-8KrlCO8J.js";import"./promise-CY2U8bTP-Cuy0zq_V.js";var T=c('<form method="dialog"><button>✕</button></form>'),U=c('<form method="dialog" class="modal-backdrop"><button>Close</button></form>'),X=c('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function Y(a,t){q(t,!0);let e=D(t,"visible",15),_=G(t,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:F,directives:{closeButtonDirective:p,dialogDirective:u},api:L}=Q({factory:R,widgetName:"modal",get props(){return{visible:e(),closeOnOutsideClick:t.closeOnOutsideClick,..._}},enablePatchChanged:!0,defaultConfig:{closeButton:!0},events:{onVisibleChange:o=>{e(o)}}}),b=L;var i=X();const N=A(()=>({}));let g;var h=d(i),k=d(h);K(k,()=>t.children);var S=O(k,2);{var V=o=>{var l=T(),s=d(l);const v=A(()=>({}));let r;m(s,(f,z)=>{var C;return(C=E)==null?void 0:C(f,z)},()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),m(s,f=>p==null?void 0:p(f)),w(()=>r=M(s,r,{...x(v)})),n(o,l)};y(S,o=>{F.closeButton&&o(V)})}var W=O(h,2);{var j=o=>{var l=U(),s=d(l);s.__click=function(...v){var r;(r=b.close)==null||r.apply(this,v)},n(o,l)};y(W,o=>{t.closeOnOutsideClick&&o(j)})}return m(i,(o,l)=>{var s;return(s=E)==null?void 0:s(o,l)},()=>"modal modal-bottom sm:modal-middle"),m(i,o=>u==null?void 0:u(o)),w(()=>g=M(i,g,{onclose:b.close,...x(N)})),n(a,i),B({api:b})}P(["click"]);async function Z(a){const t=document.createElement("div");document.body.append(t);const e=H(Y,{target:t,props:a});try{return await e.api.open()}catch{t.remove(),await I(e)}}const $=a=>{var t=ot();n(a,t)},tt=(a,t)=>Z({children:t,closeOnOutsideClick:!0});var ot=c('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),at=c('<button class="btn" aria-haspopup="dialog">Open modal</button>');function ut(a,t){q(t,!1),J();var e=at();e.__click=[tt,$],n(a,e),B()}P(["click"]);export{ut as default};
