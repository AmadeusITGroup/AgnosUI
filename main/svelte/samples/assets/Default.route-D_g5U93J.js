import{e as x,p as A,M as W,s as C,c as O,d as y,k as M,b as n,a as E,t as c,K as j,n as m,m as q,a0 as z,i as D}from"./AppCommon-CNFzHc7W.js";import{s as G}from"./snippet-OwS13CKT.js";import{a as u}from"./actions-CgChCV3L.js";import{c as H}from"./config-BjPNVYQq.js";import{c as I}from"./modal-CYBg4zXu-fxxdi4fi.js";import{c as w}from"./stores-DX-ADOKq-C1SowTb2.js";import"./index-client-BhJBsFaw.js";import"./writables-DCiBdIBK-DVn6q8pc.js";import"./baseTransitions-DSAKmnVg.js";import"./promise-CBh_HbSK-D4qcgxcZ.js";var J=c('<form method="dialog"><button>✕</button></form>'),L=c('<form method="dialog" class="modal-backdrop"><button>Close</button></form>'),Q=c('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function R(a,t){A(t,!0);let e=W(t,"visible",15),v=j(t,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:P,directives:{closeButtonDirective:p,dialogDirective:b},api:B}=H({factory:I,widgetName:"modal",get props(){return{visible:e(),closeOnOutsideClick:t.closeOnOutsideClick,...v}},enablePatchChanged:!0,defaultConfig:{closeButton:!0},events:{onVisibleChange:o=>{e(o)}}}),f=B;var r=Q();let g;var _=m(r),h=m(_);G(h,()=>t.children);var F=C(h,2);{var K=o=>{var l=J(),s=m(l);let d;u(s,(i,V)=>{var k;return(k=w)==null?void 0:k(i,V)},()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),u(s,i=>p==null?void 0:p(i)),y(i=>d=M(s,d,{...i}),[()=>({})]),n(o,l)};O(F,o=>{P.closeButton&&o(K)})}var N=C(_,2);{var S=o=>{var l=L(),s=m(l);s.__click=function(...d){var i;(i=f.close)==null||i.apply(this,d)},n(o,l)};O(N,o=>{t.closeOnOutsideClick&&o(S)})}return u(r,(o,l)=>{var s;return(s=w)==null?void 0:s(o,l)},()=>"modal modal-bottom sm:modal-middle"),u(r,o=>b==null?void 0:b(o)),y(o=>g=M(r,g,{onclose:f.close,...o}),[()=>({})]),n(a,r),E({api:f})}x(["click"]);async function T(a){const t=document.createElement("div");document.body.append(t);const e=q(R,{target:t,props:a});try{return await e.api.open()}catch{t.remove(),await z(e)}}const U=a=>{var t=Y();n(a,t)},X=(a,t)=>T({children:t,closeOnOutsideClick:!0});var Y=c('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),Z=c('<button class="btn" aria-haspopup="dialog">Open modal</button>');function ct(a,t){A(t,!1),D();var e=Z();e.__click=[X,U],n(a,e),E()}x(["click"]);export{ct as default};
