var z=Object.defineProperty;var S=e=>{throw TypeError(e)};var D=(e,i,t)=>i in e?z(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var k=(e,i,t)=>D(e,typeof i!="symbol"?i+"":i,t),V=(e,i,t)=>i.has(e)||S("Cannot "+t);var s=(e,i,t)=>(V(e,i,"read from private field"),t?t.call(e):i.get(e)),h=(e,i,t)=>i.has(e)?S("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,t),m=(e,i,t,l)=>(V(e,i,"write to private field"),l?l.call(e,t):i.set(e,t),t);var A=(e,i,t,l)=>({set _(u){m(e,i,u,t)},get _(){return s(e,i,l)}});import{p as M,c as E,d as P,b as B,a as F,t as R,k as a,S as H,j,a4 as G,T as J,g as v,h as w,a5 as K,i as L,x as Q,O as U,s as C,e as W,n as X}from"./AppCommon-Dz1zQcvR.js";import{h as I}from"./html-C6uJf7Bd.js";import{P as Y}from"./Progressbar-H6RXG-iX.js";import"./actions-Od-FsxF7.js";import"./progressbar-CGmNq0cS-Cx71aIcD.js";import"./writables-DCiBdIBK-J99f9PPJ.js";import"./directive-CKEccryv-BvpnSiJ9.js";import"./extendWidget-S6HpVOud.js";import"./types-Bw2nvhNr.js";import"./Slot-DHSixmHn.js";import"./snippet-CvCmuo30.js";import"./config-tyDi0cdw.js";import"./config-dnfQTl4N.js";import"./index-client-g0OiGhvS.js";import"./class-Bp-xXs_T.js";import"./style-PwPRnE0L.js";var Z=R('<div class="bubble bubble-1"></div> <div class="bubble bubble-2"></div> <div class="bubble bubble-3"></div>',1),tt=R('<div class="position-relative" style="height: 300px"><div class="cup"><div class="cup-fill-parent"><div class="cup-fill"><!></div></div></div></div>');function et(e,i){M(i,!0);var t=tt(),l=a(t),u=a(l),g=a(u),_=a(g);{var b=n=>{var x=Z();B(n,x)};E(_,n=>{i.state.percentage>=50&&n(b)})}P(()=>H(g,"style",`height: ${1.7*i.state.percentage}px;`)),B(e,t),F()}var o,r,c,p;class it{constructor(){h(this,o,j(!1));h(this,r,j(0));h(this,c);h(this,p,0);k(this,"toggleRunning",()=>{w(s(this,o),!v(s(this,o)))});k(this,"reset",()=>{w(s(this,r),0),w(s(this,o),!1)})}get value(){return G()&&J(()=>(s(this,p)===0&&m(this,c,setInterval(()=>{v(s(this,o))&&v(s(this,r))<100&&w(s(this,r),v(s(this,r))+10)},500)),A(this,p)._++,()=>{K().then(()=>{A(this,p)._--,s(this,p)===0&&(clearInterval(s(this,c)),m(this,c,void 0))})})),v(s(this,r))}get running(){return v(s(this,o))}get started(){return v(s(this,r))>0||v(s(this,o))}get finished(){return v(s(this,r))>=100}}o=new WeakMap,r=new WeakMap,c=new WeakMap,p=new WeakMap;const st=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
  <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393"/>
</svg>`,at=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
  <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5m5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5"/>
</svg>`,rt=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stop-fill" viewBox="0 0 16 16">
  <path d="M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5"/>
</svg>`;var lt=R('<div class="d-flex align-items-center flex-wrap"><div style="width: 350px"><!></div> <div class="d-flex flex-column justify-content-evenly h-100 ms-5"><div class="d-flex gap-1"><button class="btn btn-primary d-flex align-items-center"><!></button> <button class="btn btn-primary d-flex align-items-center" aria-label="stop"><!></button></div> <p class="mt-3"><span> </span></p></div></div>');function At(e,i){M(i,!1);const t=new it;L();var l=lt(),u=a(l),g=a(u);Y(g,{get value(){return t.value},structure:(d,q=U)=>{et(d,Q(q))},$$slots:{structure:!0}});var _=C(u,2),b=a(_),n=a(b);n.__click=function(...f){var d;(d=t.toggleRunning)==null||d.apply(this,f)};var x=a(n);I(x,()=>t.running?at:st);var y=C(n,2);y.__click=function(...f){var d;(d=t.reset)==null||d.apply(this,f)};var N=a(y);I(N,()=>rt);var O=C(b,2),T=a(O),$=a(T);P(()=>{n.disabled=t.finished,H(n,"aria-label",t.running?"pause":"play"),y.disabled=!t.started,X($,t.started?t.value<100?`Retrieving coffee... ${t.value}%`:"Ready to work !":"Need to wake up.")}),B(e,l),F()}W(["click"]);export{At as default};
