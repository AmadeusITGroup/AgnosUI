import{p as H,f as O,k as C,b as P,g as w,c,a as S,t as v,h as m,e as M,q as B,O as T,s as Y,P as Z,L as tt,d as D,w as q,Q as E,M as et}from"./AppCommon-CRrVgjjK.js";import{a as l}from"./actions-DMIFV9qL.js";import{s as ot}from"./class-zI9kEawh.js";import{c as at,m as rt,a as st}from"./modal-BEVbQExQ-BOw4Bb_7.js";import{f as F}from"./fade-uOobJKgw-DH4UWj7t.js";import{e as it}from"./extendWidget-DO27xWzC.js";import{t as dt}from"./writables-DoU_XYTX-BWlLfFqE.js";import{S as x}from"./Slot-Do_YzuMi.js";import{c as nt}from"./config-BBzdhi4Q.js";import{c as $,t as lt}from"./directive-CKEccryv-D4pmc7Em.js";const ct={contentData:void 0,children:void 0,footer:void 0,header:void 0,structure:void 0,title:void 0,fullscreen:!1},vt={backdropTransition:F,modalTransition:F},ut={fullscreen:dt},mt=it(at,ct,ut,vt),ft=mt,Vt=rt,qt=st;var gt=v("<button></button>"),_t=v('<h5 class="modal-title"><!></h5> <!>',1);function pt(_,t){H(t,!0);let a=T(()=>({widget:t.widget,state:t.state}));var d=_t(),u=O(d),f=m(u);x(f,{get content(){return t.state.title},get props(){return C(a)}});var p=P(u,2);w(p,()=>t.state.closeButton,b=>{var r=gt();let o;M(()=>o=B(r,o,{})),l(r,(s,g)=>$(s,g),()=>"btn-close"),l(r,s=>t.widget.directives.closeButtonDirective(s)),c(b,r)}),c(_,d),S()}var bt=v('<div class="modal-header"><!></div>'),ht=v('<div class="modal-footer"><!></div>'),kt=v('<!> <div class="modal-body"><!></div> <!>',1);function Ct(_,t){H(t,!0);let a=T(()=>({widget:t.widget,state:t.state}));var d=kt(),u=O(d);w(u,()=>t.state.title,r=>{var o=bt(),s=m(o);x(s,{get content(){return t.state.header},get props(){return C(a)}}),c(r,o)});var f=P(u,2),p=m(f);x(p,{get content(){return t.state.children},get props(){return C(a)}});var b=P(f,2);w(b,()=>t.state.footer,r=>{var o=ht(),s=m(o);x(s,{get content(){return t.state.footer},get props(){return C(a)}}),c(r,o)}),c(_,d),S()}var xt=v("<div></div>"),wt=v('<div><div><div class="modal-content"><!></div></div></div>'),Dt=v("<!> <!>",1);function Et(_,t){H(t,!0);const a=Y(),d=()=>D(J,"$state$",a),u=()=>D(N,"$backdropHidden$",a),f=()=>D(Q,"$hidden$",a),p=()=>D(j,"$structure$",a),b=(i,e=E)=>{Ct(i,q(e))},r=(i,e=E)=>{pt(i,q(e))};let o=Z(t,"visible",15),s=et(t,["$$slots","$$events","$$legacy","visible"]);const g=nt({factory:ft,widgetName:"modal",props:{...s,visible:o()},defaultConfig:{header:r,structure:b},events:{onVisibleChange:i=>{o(i)}}}),L=g.api,{stores:{backdropHidden$:N,hidden$:Q,structure$:j},directives:{backdropDirective:z,backdropPortalDirective:A,modalDirective:G,modalPortalDirective:I},state$:J}=g;tt(()=>g.patchChangedProps({...s,visible:o()}));let K=T(()=>({widget:lt(g),state:d()}));var W=Dt(),V=O(W);w(V,()=>!u(),i=>{var e=xt();let h;M(()=>h=B(e,h,{})),l(e,(n,y)=>$(n,y),()=>"modal-backdrop"),l(e,n=>A(n)),l(e,n=>z(n)),c(i,e)});var R=P(V,2);return w(R,()=>!f(),i=>{var e=wt();let h;M(()=>h=B(e,h,{}));var n=m(e),y=m(n),U=m(y);x(U,{get content(){return p()},get props(){return C(K)}}),M(()=>ot(n,`modal-dialog ${(d().fullscreen?"modal-fullscreen":"")??""}`)),l(e,(k,X)=>$(k,X),()=>"modal d-block"),l(e,k=>I(k)),l(e,k=>G(k)),c(i,e)}),c(_,W),S({api:L})}export{Et as M,Vt as a,qt as e};
