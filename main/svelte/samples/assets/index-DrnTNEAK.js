import{w as le,s as fe,t as Rt}from"./stores-CNuHRGye.js";import{a as st,m as qt,o as Yt,b as _t}from"./dom-Bcg9ORcA-CPWV9YZz.js";import{a0 as z,$ as dt,af as it,ag as ct}from"./AppCommon-D-Irf_br.js";import{b as de,t as Ut,c as pt,g as Qt,e as Pt,h as pe,a as ge}from"./writables-e0tyaQpe-5AqAML2m.js";import{c as me}from"./navManager-D6KB8EIX.js";import{c as he}from"./widget-ccL6PuC2.js";function wt(t){return typeof t=="number"}function At(t){return typeof t=="string"}function vt(t){return typeof t=="boolean"}function Kt(t){return Object.prototype.toString.call(t)==="[object Object]"}function F(t){return Math.abs(t)}function Ft(t){return Math.sign(t)}function mt(t,n){return F(t-n)}function Se(t,n){if(t===0||n===0||F(t)<=F(n))return 0;const e=mt(F(t),F(n));return F(e/t)}function be(t){return Math.round(t*100)/100}function ht(t){return St(t).map(Number)}function H(t){return t[yt(t)]}function yt(t){return Math.max(0,t.length-1)}function Mt(t,n){return n===yt(t)}function Xt(t,n=0){return Array.from(Array(t),(e,s)=>n+s)}function St(t){return Object.keys(t)}function Jt(t,n){return[t,n].reduce((e,s)=>(St(s).forEach(c=>{const r=e[c],o=s[c],u=Kt(r)&&Kt(o);e[c]=u?Jt(r,o):o}),e),{})}function Dt(t,n){return typeof n.MouseEvent<"u"&&t instanceof n.MouseEvent}function ye(t,n){const e={start:s,center:c,end:r};function s(){return 0}function c(i){return r(i)/2}function r(i){return n-i}function o(i,a){return At(t)?e[t](i):t(n,i,a)}return{measure:o}}function bt(){let t=[];function n(c,r,o,u={passive:!0}){let i;if("addEventListener"in c)c.addEventListener(r,o,u),i=()=>c.removeEventListener(r,o,u);else{const a=c;a.addListener(o),i=()=>a.removeListener(o)}return t.push(i),s}function e(){t=t.filter(c=>c())}const s={add:n,clear:e};return s}function xe(t,n,e,s){const c=bt(),r=1e3/60;let o=null,u=0,i=0;function a(){c.add(t,"visibilitychange",()=>{t.hidden&&l()})}function h(){S(),c.clear()}function d(b){if(!i)return;o||(o=b,e(),e());const f=b-o;for(o=b,u+=f;u>=r;)e(),u-=r;const p=u/r;s(p),i&&(i=n.requestAnimationFrame(d))}function g(){i||(i=n.requestAnimationFrame(d))}function S(){n.cancelAnimationFrame(i),o=null,u=0,i=0}function l(){o=null,u=0}return{init:a,destroy:h,start:g,stop:S,update:e,render:s}}function ve(t,n){const e=n==="rtl",s=t==="y",c=s?"y":"x",r=s?"x":"y",o=!s&&e?-1:1,u=h(),i=d();function a(l){const{height:m,width:b}=l;return s?m:b}function h(){return s?"top":e?"right":"left"}function d(){return s?"bottom":e?"left":"right"}function g(l){return l*o}return{scroll:c,cross:r,startEdge:u,endEdge:i,measureSize:a,direction:g}}function et(t=0,n=0){const e=F(t-n);function s(a){return a<t}function c(a){return a>n}function r(a){return s(a)||c(a)}function o(a){return r(a)?s(a)?t:n:a}function u(a){return e?a-e*Math.ceil((a-n)/e):a}return{length:e,max:n,min:t,constrain:o,reachedAny:r,reachedMax:c,reachedMin:s,removeOffset:u}}function Zt(t,n,e){const{constrain:s}=et(0,t),c=t+1;let r=o(n);function o(g){return e?F((c+g)%c):s(g)}function u(){return r}function i(g){return r=o(g),d}function a(g){return h().set(u()+g)}function h(){return Zt(t,u(),e)}const d={get:u,set:i,add:a,clone:h};return d}function Le(t,n,e,s,c,r,o,u,i,a,h,d,g,S,l,m,b,f,p){const{cross:x,direction:I}=t,A=["INPUT","SELECT","TEXTAREA"],T={passive:!1},L=bt(),E=bt(),N=et(50,225).constrain(S.measure(20)),M={mouse:300,touch:400},P={mouse:500,touch:600},v=l?43:25;let C=!1,G=0,j=0,Z=!1,_=!1,U=!1,Q=!1;function at(y){if(!p)return;function D(k){(vt(p)||p(y,k))&&lt(k)}const $=n;L.add($,"dragstart",k=>k.preventDefault(),T).add($,"touchmove",()=>{},T).add($,"touchend",()=>{}).add($,"touchstart",D).add($,"mousedown",D).add($,"touchcancel",O).add($,"contextmenu",O).add($,"click",X,!0)}function R(){L.clear(),E.clear()}function nt(){const y=Q?e:n;E.add(y,"touchmove",V,T).add(y,"touchend",O).add(y,"mousemove",V,T).add(y,"mouseup",O)}function ot(y){const D=y.nodeName||"";return A.includes(D)}function K(){return(l?P:M)[Q?"mouse":"touch"]}function ut(y,D){const $=d.add(Ft(y)*-1),k=h.byDistance(y,!l).distance;return l||F(y)<N?k:b&&D?k*.5:h.byIndex($.get(),0).distance}function lt(y){const D=Dt(y,s);Q=D,U=l&&D&&!y.buttons&&C,C=mt(c.get(),o.get())>=2,!(D&&y.button!==0)&&(ot(y.target)||(Z=!0,r.pointerDown(y),a.useFriction(0).useDuration(0),c.set(o),nt(),G=r.readPoint(y),j=r.readPoint(y,x),g.emit("pointerDown")))}function V(y){if(!Dt(y,s)&&y.touches.length>=2)return O(y);const $=r.readPoint(y),k=r.readPoint(y,x),q=mt($,G),Y=mt(k,j);if(!_&&!Q&&(!y.cancelable||(_=q>Y,!_)))return O(y);const W=r.pointerMove(y);q>m&&(U=!0),a.useFriction(.3).useDuration(.75),u.start(),c.add(I(W)),y.preventDefault()}function O(y){const $=h.byDistance(0,!1).index!==d.get(),k=r.pointerUp(y)*K(),q=ut(I(k),$),Y=Se(k,q),W=v-10*Y,J=f+Y/50;_=!1,Z=!1,E.clear(),a.useDuration(W).useFriction(J),i.distance(q,!l),Q=!1,g.emit("pointerUp")}function X(y){U&&(y.stopPropagation(),y.preventDefault(),U=!1)}function B(){return Z}return{init:at,destroy:R,pointerDown:B}}function Ee(t,n){let s,c;function r(d){return d.timeStamp}function o(d,g){const l=`client${(g||t.scroll)==="x"?"X":"Y"}`;return(Dt(d,n)?d:d.touches[0])[l]}function u(d){return s=d,c=d,o(d)}function i(d){const g=o(d)-o(c),S=r(d)-r(s)>170;return c=d,S&&(s=d),g}function a(d){if(!s||!c)return 0;const g=o(c)-o(s),S=r(d)-r(s),l=r(d)-r(c)>170,m=g/S;return S&&!l&&F(m)>.1?m:0}return{pointerDown:u,pointerMove:i,pointerUp:a,readPoint:o}}function Ie(){function t(e){const{offsetTop:s,offsetLeft:c,offsetWidth:r,offsetHeight:o}=e;return{top:s,right:c+r,bottom:s+o,left:c,width:r,height:o}}return{measure:t}}function Te(t){function n(s){return t*(s/100)}return{measure:n}}function Ne(t,n,e,s,c,r,o){const u=[t].concat(s);let i,a,h=[],d=!1;function g(b){return c.measureSize(o.measure(b))}function S(b){if(!r)return;a=g(t),h=s.map(g);function f(p){for(const x of p){if(d)return;const I=x.target===t,A=s.indexOf(x.target),T=I?a:h[A],L=g(I?t:s[A]);if(F(L-T)>=.5){b.reInit(),n.emit("resize");break}}}i=new ResizeObserver(p=>{(vt(r)||r(b,p))&&f(p)}),e.requestAnimationFrame(()=>{u.forEach(p=>i.observe(p))})}function l(){d=!0,i&&i.disconnect()}return{init:S,destroy:l}}function Pe(t,n,e,s,c,r){let o=0,u=0,i=c,a=r,h=t.get(),d=0;function g(){const T=s.get()-t.get(),L=!i;let E=0;return L?(o=0,e.set(s),t.set(s),E=T):(e.set(t),o+=T/i,o*=a,h+=o,t.add(o),E=h-d),u=Ft(E),d=h,A}function S(){const T=s.get()-n.get();return F(T)<.001}function l(){return i}function m(){return u}function b(){return o}function f(){return x(c)}function p(){return I(r)}function x(T){return i=T,A}function I(T){return a=T,A}const A={direction:m,duration:l,velocity:b,seek:g,settled:S,useBaseFriction:p,useBaseDuration:f,useFriction:I,useDuration:x};return A}function Ae(t,n,e,s,c){const r=c.measure(10),o=c.measure(50),u=et(.1,.99);let i=!1;function a(){return!(i||!t.reachedAny(e.get())||!t.reachedAny(n.get()))}function h(S){if(!a())return;const l=t.reachedMin(n.get())?"min":"max",m=F(t[l]-n.get()),b=e.get()-n.get(),f=u.constrain(m/o);e.subtract(b*f),!S&&F(b)<r&&(e.set(t.constrain(e.get())),s.useDuration(25).useBaseFriction())}function d(S){i=!S}return{shouldConstrain:a,constrain:h,toggleActive:d}}function De(t,n,e,s,c){const r=et(-n+t,0),o=d(),u=h(),i=g();function a(l,m){return mt(l,m)<=1}function h(){const l=o[0],m=H(o),b=o.lastIndexOf(l),f=o.indexOf(m)+1;return et(b,f)}function d(){return e.map((l,m)=>{const{min:b,max:f}=r,p=r.constrain(l),x=!m,I=Mt(e,m);return x?f:I||a(b,p)?b:a(f,p)?f:p}).map(l=>parseFloat(l.toFixed(3)))}function g(){if(n<=t+c)return[r.max];if(s==="keepSnaps")return o;const{min:l,max:m}=u;return o.slice(l,m)}return{snapsContained:i,scrollContainLimit:u}}function we(t,n,e){const s=n[0],c=e?s-t:H(n);return{limit:et(c,s)}}function Fe(t,n,e,s){const r=n.min+.1,o=n.max+.1,{reachedMin:u,reachedMax:i}=et(r,o);function a(g){return g===1?i(e.get()):g===-1?u(e.get()):!1}function h(g){if(!a(g))return;const S=t*(g*-1);s.forEach(l=>l.add(S))}return{loop:h}}function Me(t){const{max:n,length:e}=t;function s(r){const o=r-n;return e?o/-e:0}return{get:s}}function $e(t,n,e,s,c){const{startEdge:r,endEdge:o}=t,{groupSlides:u}=c,i=d().map(n.measure),a=g(),h=S();function d(){return u(s).map(m=>H(m)[o]-m[0][r]).map(F)}function g(){return s.map(m=>e[r]-m[r]).map(m=>-F(m))}function S(){return u(a).map(m=>m[0]).map((m,b)=>m+i[b])}return{snaps:a,snapsAligned:h}}function Ce(t,n,e,s,c,r){const{groupSlides:o}=c,{min:u,max:i}=s,a=h();function h(){const g=o(r),S=!t||n==="keepSnaps";return e.length===1?[r]:S?g:g.slice(u,i).map((l,m,b)=>{const f=!m,p=Mt(b,m);if(f){const x=H(b[0])+1;return Xt(x)}if(p){const x=yt(r)-H(b)[0]+1;return Xt(x,H(b)[0])}return l})}return{slideRegistry:a}}function Oe(t,n,e,s,c){const{reachedAny:r,removeOffset:o,constrain:u}=s;function i(l){return l.concat().sort((m,b)=>F(m)-F(b))[0]}function a(l){const m=t?o(l):u(l),b=n.map((p,x)=>({diff:h(p-m,0),index:x})).sort((p,x)=>F(p.diff)-F(x.diff)),{index:f}=b[0];return{index:f,distance:m}}function h(l,m){const b=[l,l+e,l-e];if(!t)return l;if(!m)return i(b);const f=b.filter(p=>Ft(p)===m);return f.length?i(f):H(b)-e}function d(l,m){const b=n[l]-c.get(),f=h(b,m);return{index:l,distance:f}}function g(l,m){const b=c.get()+l,{index:f,distance:p}=a(b),x=!t&&r(b);if(!m||x)return{index:f,distance:l};const I=n[f]-p,A=l+h(I,0);return{index:f,distance:A}}return{byDistance:g,byIndex:d,shortcut:h}}function ke(t,n,e,s,c,r,o){function u(d){const g=d.distance,S=d.index!==n.get();r.add(g),g&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),S&&(e.set(n.get()),n.set(d.index),o.emit("select"))}function i(d,g){const S=c.byDistance(d,g);u(S)}function a(d,g){const S=n.clone().set(d),l=c.byIndex(S.get(),g);u(l)}return{distance:i,index:a}}function ze(t,n,e,s,c,r,o,u){const i={passive:!0,capture:!0};let a=0;function h(S){if(!u)return;function l(m){if(new Date().getTime()-a>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const p=e.findIndex(x=>x.includes(m));wt(p)&&(c.useDuration(0),s.index(p,0),o.emit("slideFocus"))}r.add(document,"keydown",d,!1),n.forEach((m,b)=>{r.add(m,"focus",f=>{(vt(u)||u(S,f))&&l(b)},i)})}function d(S){S.code==="Tab"&&(a=new Date().getTime())}return{init:h}}function gt(t){let n=t;function e(){return n}function s(i){n=o(i)}function c(i){n+=o(i)}function r(i){n-=o(i)}function o(i){return wt(i)?i:i.get()}return{get:e,set:s,add:c,subtract:r}}function Wt(t,n){const e=t.scroll==="x"?o:u,s=n.style;let c=null,r=!1;function o(g){return`translate3d(${g}px,0px,0px)`}function u(g){return`translate3d(0px,${g}px,0px)`}function i(g){if(r)return;const S=be(t.direction(g));S!==c&&(s.transform=e(S),c=S)}function a(g){r=!g}function h(){r||(s.transform="",n.getAttribute("style")||n.removeAttribute("style"))}return{clear:h,to:i,toggleActive:a}}function Ve(t,n,e,s,c,r,o,u,i){const h=ht(c),d=ht(c).reverse(),g=f().concat(p());function S(L,E){return L.reduce((N,M)=>N-c[M],E)}function l(L,E){return L.reduce((N,M)=>S(N,E)>0?N.concat([M]):N,[])}function m(L){return r.map((E,N)=>({start:E-s[N]+.5+L,end:E+n-.5+L}))}function b(L,E,N){const M=m(E);return L.map(P=>{const v=N?0:-e,C=N?e:0,G=N?"end":"start",j=M[P][G];return{index:P,loopPoint:j,slideLocation:gt(-1),translate:Wt(t,i[P]),target:()=>u.get()>j?v:C}})}function f(){const L=o[0],E=l(d,L);return b(E,e,!1)}function p(){const L=n-o[0]-1,E=l(h,L);return b(E,-e,!0)}function x(){return g.every(({index:L})=>{const E=h.filter(N=>N!==L);return S(E,n)<=.1})}function I(){g.forEach(L=>{const{target:E,translate:N,slideLocation:M}=L,P=E();P!==M.get()&&(N.to(P),M.set(P))})}function A(){g.forEach(L=>L.translate.clear())}return{canLoop:x,clear:A,loop:I,loopPoints:g}}function Be(t,n,e){let s,c=!1;function r(i){if(!e)return;function a(h){for(const d of h)if(d.type==="childList"){i.reInit(),n.emit("slidesChanged");break}}s=new MutationObserver(h=>{c||(vt(e)||e(i,h))&&a(h)}),s.observe(t,{childList:!0})}function o(){s&&s.disconnect(),c=!0}return{init:r,destroy:o}}function He(t,n,e,s){const c={};let r=null,o=null,u,i=!1;function a(){u=new IntersectionObserver(l=>{i||(l.forEach(m=>{const b=n.indexOf(m.target);c[b]=m}),r=null,o=null,e.emit("slidesInView"))},{root:t.parentElement,threshold:s}),n.forEach(l=>u.observe(l))}function h(){u&&u.disconnect(),i=!0}function d(l){return St(c).reduce((m,b)=>{const f=parseInt(b),{isIntersecting:p}=c[f];return(l&&p||!l&&!p)&&m.push(f),m},[])}function g(l=!0){if(l&&r)return r;if(!l&&o)return o;const m=d(l);return l&&(r=m),l||(o=m),m}return{init:a,destroy:h,get:g}}function Ge(t,n,e,s,c,r){const{measureSize:o,startEdge:u,endEdge:i}=t,a=e[0]&&c,h=l(),d=m(),g=e.map(o),S=b();function l(){if(!a)return 0;const p=e[0];return F(n[u]-p[u])}function m(){if(!a)return 0;const p=r.getComputedStyle(H(s));return parseFloat(p.getPropertyValue(`margin-${i}`))}function b(){return e.map((p,x,I)=>{const A=!x,T=Mt(I,x);return A?g[x]+h:T?g[x]+d:I[x+1][u]-p[u]}).map(F)}return{slideSizes:g,slideSizesWithGaps:S,startGap:h,endGap:d}}function je(t,n,e,s,c,r,o,u,i){const{startEdge:a,endEdge:h,direction:d}=t,g=wt(e);function S(f,p){return ht(f).filter(x=>x%p===0).map(x=>f.slice(x,x+p))}function l(f){return f.length?ht(f).reduce((p,x,I)=>{const A=H(p)||0,T=A===0,L=x===yt(f),E=c[a]-r[A][a],N=c[a]-r[x][h],M=!s&&T?d(o):0,P=!s&&L?d(u):0,v=F(N-P-(E+M));return I&&v>n+i&&p.push(x),L&&p.push(f.length),p},[]).map((p,x,I)=>{const A=Math.max(I[x-1]||0);return f.slice(A,p)}):[]}function m(f){return g?S(f,e):l(f)}return{groupSlides:m}}function Re(t,n,e,s,c,r,o){const{align:u,axis:i,direction:a,startIndex:h,loop:d,duration:g,dragFree:S,dragThreshold:l,inViewThreshold:m,slidesToScroll:b,skipSnaps:f,containScroll:p,watchResize:x,watchSlides:I,watchDrag:A,watchFocus:T}=r,L=2,E=Ie(),N=E.measure(n),M=e.map(E.measure),P=ve(i,a),v=P.measureSize(N),C=Te(v),G=ye(u,v),j=!d&&!!p,Z=d||!!p,{slideSizes:_,slideSizesWithGaps:U,startGap:Q,endGap:at}=Ge(P,N,M,e,Z,c),R=je(P,v,b,d,N,M,Q,at,L),{snaps:nt,snapsAligned:ot}=$e(P,G,N,M,R),K=-H(nt)+H(U),{snapsContained:ut,scrollContainLimit:lt}=De(v,K,ot,p,L),V=j?ut:ot,{limit:O}=we(K,V,d),X=Zt(yt(V),h,d),B=X.clone(),w=ht(e),y=({dragHandler:rt,scrollBody:Tt,scrollBounds:Nt,options:{loop:xt}})=>{xt||Nt.constrain(rt.pointerDown()),Tt.seek()},D=({scrollBody:rt,translate:Tt,location:Nt,offsetLocation:xt,previousLocation:ne,scrollLooper:oe,slideLooper:re,dragHandler:se,animation:ie,eventHandler:zt,scrollBounds:ce,options:{loop:Vt}},Bt)=>{const Ht=rt.settled(),ae=!ce.shouldConstrain(),Gt=Vt?Ht:Ht&&ae,jt=Gt&&!se.pointerDown();jt&&ie.stop();const ue=Nt.get()*Bt+ne.get()*(1-Bt);xt.set(ue),Vt&&(oe.loop(rt.direction()),re.loop()),Tt.to(xt.get()),jt&&zt.emit("settle"),Gt||zt.emit("scroll")},$=xe(s,c,()=>y(It),rt=>D(It,rt)),k=.68,q=V[X.get()],Y=gt(q),W=gt(q),J=gt(q),tt=gt(q),ft=Pe(Y,J,W,tt,g,k),Lt=Oe(d,V,K,O,tt),Et=ke($,X,B,ft,Lt,tt,o),Ct=Me(O),Ot=bt(),te=He(n,e,o,m),{slideRegistry:kt}=Ce(j,p,V,lt,R,w),ee=ze(t,e,kt,Et,ft,Ot,o,T),It={ownerDocument:s,ownerWindow:c,eventHandler:o,containerRect:N,slideRects:M,animation:$,axis:P,dragHandler:Le(P,t,s,c,tt,Ee(P,c),Y,$,Et,ft,Lt,X,o,C,S,l,f,k,A),eventStore:Ot,percentOfView:C,index:X,indexPrevious:B,limit:O,location:Y,offsetLocation:J,previousLocation:W,options:r,resizeHandler:Ne(n,o,c,e,P,x,E),scrollBody:ft,scrollBounds:Ae(O,J,tt,ft,C),scrollLooper:Fe(K,O,J,[Y,J,W,tt]),scrollProgress:Ct,scrollSnapList:V.map(Ct.get),scrollSnaps:V,scrollTarget:Lt,scrollTo:Et,slideLooper:Ve(P,v,K,_,U,nt,V,J,e),slideFocus:ee,slidesHandler:Be(n,o,I),slidesInView:te,slideIndexes:w,slideRegistry:kt,slidesToScroll:R,target:tt,translate:Wt(P,n)};return It}function qe(){let t={},n;function e(a){n=a}function s(a){return t[a]||[]}function c(a){return s(a).forEach(h=>h(n,a)),i}function r(a,h){return t[a]=s(a).concat([h]),i}function o(a,h){return t[a]=s(a).filter(d=>d!==h),i}function u(){t={}}const i={init:e,emit:c,off:o,on:r,clear:u};return i}const Ue={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Qe(t){function n(r,o){return Jt(r,o||{})}function e(r){const o=r.breakpoints||{},u=St(o).filter(i=>t.matchMedia(i).matches).map(i=>o[i]).reduce((i,a)=>n(i,a),{});return n(r,u)}function s(r){return r.map(o=>St(o.breakpoints||{})).reduce((o,u)=>o.concat(u),[]).map(t.matchMedia)}return{mergeOptions:n,optionsAtMedia:e,optionsMediaQueries:s}}function Ke(t){let n=[];function e(r,o){return n=o.filter(({options:u})=>t.optionsAtMedia(u).active!==!1),n.forEach(u=>u.init(r,t)),o.reduce((u,i)=>Object.assign(u,{[i.name]:i}),{})}function s(){n=n.filter(r=>r.destroy())}return{init:e,destroy:s}}function $t(t,n,e){const s=t.ownerDocument,c=s.defaultView,r=Qe(c),o=Ke(r),u=bt(),i=qe(),{mergeOptions:a,optionsAtMedia:h,optionsMediaQueries:d}=r,{on:g,off:S,emit:l}=i,m=P;let b=!1,f,p=a(Ue,$t.globalOptions),x=a(p),I=[],A,T,L;function E(){const{container:w,slides:y}=x;T=(At(w)?t.querySelector(w):w)||t.children[0];const $=At(y)?T.querySelectorAll(y):y;L=[].slice.call($||T.children)}function N(w){const y=Re(t,T,L,s,c,w,i);if(w.loop&&!y.slideLooper.canLoop()){const D=Object.assign({},w,{loop:!1});return N(D)}return y}function M(w,y){b||(p=a(p,w),x=h(p),I=y||I,E(),f=N(x),d([p,...I.map(({options:D})=>D)]).forEach(D=>u.add(D,"change",P)),x.active&&(f.translate.to(f.location.get()),f.animation.init(),f.slidesInView.init(),f.slideFocus.init(B),f.eventHandler.init(B),f.resizeHandler.init(B),f.slidesHandler.init(B),f.options.loop&&f.slideLooper.loop(),T.offsetParent&&L.length&&f.dragHandler.init(B),A=o.init(B,I)))}function P(w,y){const D=R();v(),M(a({startIndex:D},w),y),i.emit("reInit")}function v(){f.dragHandler.destroy(),f.eventStore.clear(),f.translate.clear(),f.slideLooper.clear(),f.resizeHandler.destroy(),f.slidesHandler.destroy(),f.slidesInView.destroy(),f.animation.destroy(),o.destroy(),u.clear()}function C(){b||(b=!0,u.clear(),v(),i.emit("destroy"),i.clear())}function G(w,y,D){!x.active||b||(f.scrollBody.useBaseFriction().useDuration(y===!0?0:x.duration),f.scrollTo.index(w,D||0))}function j(w){const y=f.index.add(1).get();G(y,w,-1)}function Z(w){const y=f.index.add(-1).get();G(y,w,1)}function _(){return f.index.add(1).get()!==R()}function U(){return f.index.add(-1).get()!==R()}function Q(){return f.scrollSnapList}function at(){return f.scrollProgress.get(f.offsetLocation.get())}function R(){return f.index.get()}function nt(){return f.indexPrevious.get()}function ot(){return f.slidesInView.get()}function K(){return f.slidesInView.get(!1)}function ut(){return A}function lt(){return f}function V(){return t}function O(){return T}function X(){return L}const B={canScrollNext:_,canScrollPrev:U,containerNode:O,internalEngine:lt,destroy:C,off:S,on:g,emit:l,plugins:ut,previousScrollSnap:nt,reInit:m,rootNode:V,scrollNext:j,scrollPrev:Z,scrollProgress:at,scrollSnapList:Q,scrollTo:G,selectedScrollSnap:R,slideNodes:X,slidesInView:ot,slidesNotInView:K};return M(n,e),setTimeout(()=>i.emit("init"),0),B}$t.globalOptions=void 0;const Xe={align:"center",container:null,containScroll:"trimSnaps",direction:"ltr",dragFree:!1,dragThreshold:10,duration:25,loop:!1,skipSnaps:!1,plugins:[],showNavigationArrows:!0,showNavigationIndicators:!0,ariaPrevLabel:"Select previous slide",ariaNextLabel:"Select next slide",ariaIndicatorLabel:t=>`Select slide ${t+1}`},Ye={dragFree:pt,plugins:ge,align:Pt(["start","center","end"]),container:pe,containScroll:Pt([!1,"trimSnaps","keepSnaps"]),direction:Pt(["ltr","rtl"]),dragThreshold:Qt,duration:Qt,loop:pt,skipSnaps:pt,showNavigationArrows:pt,showNavigationIndicators:pt,ariaPrevLabel:Ut,ariaNextLabel:Ut,ariaIndicatorLabel:de};function _e(t,n){let e;const s=it(!1),c=it(!1),r=it(!0),o=it(0),u=it(!1),i=it([]),a=z(()=>({options:t(),plugins:n?n():[]}));return{directive:Yt(_t((h,{options:d,plugins:g})=>{if(e)throw new Error("Only one Embla directive can be attached per carousel widget !");return e=$t(h,d,g),e.on("scroll",()=>{s.set(!0)}),e.on("settle",()=>{s.set(!1)}),e.on("select",S=>{r.set(S.canScrollNext()),c.set(S.canScrollPrev()),o.set(S.selectedScrollSnap())}),e.on("init",()=>{u.set(!0)}),e.on("reInit",S=>{r.set(S.canScrollNext()),c.set(S.canScrollPrev()),s.set(!1),o.set(S.selectedScrollSnap())}),e.on("slidesChanged",S=>{i.set(S.slideNodes())}),r.set(e.canScrollNext()),c.set(e.canScrollPrev()),i.set(e.slideNodes()),{update:({options:S,plugins:l})=>{e.reInit(S,l)},destroy:()=>{e?.destroy(),e=void 0,u.set(!1),s.set(!1),c.set(!1),r.set(!0),o.set(0),i.set([])}}}),a),stores:{scrolling$:ct(s),canScrollPrev$:ct(c),canScrollNext$:ct(r),selectedScrollSnap$:ct(o),initialized$:ct(u),slideNodes$:ct(i)},get api(){return e}}}const on=he("carousel",t=>{const[{align$:n,container$:e,containScroll$:s,direction$:c,dragFree$:r,dragThreshold$:o,duration$:u,loop$:i,skipSnaps$:a,plugins$:h,ariaPrevLabel$:d,ariaNextLabel$:g,ariaIndicatorLabel$:S,showNavigationIndicators$:l,...m},b]=le(Xe,t,Ye),f=z(()=>({align:n(),container:e(),containScroll:s(),direction:c(),dragFree:r(),dragThreshold:o(),duration:u(),loop:i(),skipSnaps:a()})),p=_e(f,h),{stores:{slideNodes$:x,...I}}=p,{directive:A,refreshElements:T,focusLeft:L,focusRight:E,focusFirst:N,focusLast:M}=me(),P={keys:{ArrowLeft:L,ArrowRight:E,Home:N,End:M},selector:v=>v.querySelectorAll("[role='tab']")};return{...fe({...I,...m,direction$:c,showNavigationIndicators$:l}),patch:b,api:{scrollPrev:v=>{p.api?.scrollPrev?.(v)},scrollNext:v=>{p.api?.scrollNext?.(v)},scrollTo:(v,C)=>{p.api?.scrollTo?.(v,C)},plugins:()=>p.api?.plugins?.(),emblaApi:()=>p.api},directives:{root:qt(p.directive,st(()=>({classNames:{"au-carousel":Rt},attributes:{role:dt("region"),"aria-roledescription":dt("carousel"),dir:c}}))),scrollPrev:st(()=>({attributes:{"aria-label":d,disabled:z(()=>!p.stores.canScrollPrev$()||void 0)},events:{click:()=>p.api?.scrollPrev(),pointerdown:v=>v.preventDefault(),touchstart:v=>v.stopPropagation()}})),scrollNext:st(()=>({attributes:{"aria-label":g,disabled:z(()=>!p.stores.canScrollNext$()||void 0)},events:{click:()=>p.api?.scrollNext(),pointerdown:v=>v.preventDefault(),touchstart:v=>v.stopPropagation()}})),tabList:qt(Yt(A,dt(P)),_t(()=>({destroy:x.subscribe(()=>{T()})})),st(()=>({attributes:{role:dt("tablist")}}))),tabIndicator:st(v=>({events:{click:()=>{p.api?.scrollTo(v().index,v().jump??!0)}},attributes:{"aria-label":z(()=>S()(v().index)),"aria-selected":z(()=>v().index===p.stores.selectedScrollSnap$()?"true":void 0),"aria-controls":z(()=>v().id),role:dt("tab"),tabindex:z(()=>v().index===p.stores.selectedScrollSnap$()?"0":"-1")}})),slide:st(v=>{const C=z(()=>v().index===p.stores.selectedScrollSnap$());return{attributes:{id:z(()=>v().id),"aria-hidden":z(()=>C()?void 0:"true"),role:z(()=>l()?"tabpanel":"group"),"aria-roledescription":z(()=>l()?void 0:"slide"),tabindex:z(()=>l()&&C()?"0":void 0)},classNames:{"au-carousel-slide":Rt}}})}}});export{on as c};
