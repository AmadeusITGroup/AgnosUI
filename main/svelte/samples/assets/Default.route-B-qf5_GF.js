import{l as x,p as M,O as P,K as S,f as c,e as k,h as m,s as O,j as C,d as n,a as w,m as V,a4 as W,i as q}from"./AppCommon-CktIYRS0.js";import{s as z}from"./snippet-B3wNoTQX.js";import{a as p}from"./actions-CyAa2qxk.js";import{c as D}from"./config-o238wqqw.js";import{c as G}from"./modal-D3wGIDlj-DbxQWolA.js";import{c as y}from"./dom-gfxqXJpK-DHjn65Yu.js";import"./stores-oih0Gj_W.js";import"./index-client-CqlqBsU4.js";import"./writables-CgpOQ4hA-CxTkakRR.js";import"./baseTransitions-CYrTkAIl.js";import"./promise-XSP94FjG-DXhVtIyO.js";import"./widget-vjc6u9aX.js";var H=c('<form method="dialog"><button>✕</button></form>'),I=c('<form method="dialog" class="modal-backdrop"><button>Close</button></form>'),J=c('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function L(a,o){M(o,!0);let e=P(o,"visible",15),v=S(o,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:A,directives:{closeButtonDirective:u,dialogDirective:f},api:E}=D(G,{get props(){return{visible:e(),closeOnOutsideClick:o.closeOnOutsideClick,...v}},defaultConfig:{closeButton:!0},events:{onVisibleChange:t=>{e(t)}}}),b=E;var l=J();k(l,t=>({onclose:b.close,...t}),[()=>({})]);var h=m(l),_=m(h);z(_,()=>o.children);var j=O(_,2);{var B=t=>{var s=H(),i=m(s);k(i,r=>({...r}),[()=>({})]),p(i,(r,d)=>{var g;return(g=y)==null?void 0:g(r,d)},()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),p(i,r=>u==null?void 0:u(r)),n(t,s)};C(j,t=>{A.closeButton&&t(B)})}var F=O(h,2);{var K=t=>{var s=I(),i=m(s);i.__click=function(...r){var d;(d=b.close)==null||d.apply(this,r)},n(t,s)};C(F,t=>{o.closeOnOutsideClick&&t(K)})}return p(l,(t,s)=>{var i;return(i=y)==null?void 0:i(t,s)},()=>"modal modal-bottom sm:modal-middle"),p(l,t=>f==null?void 0:f(t)),n(a,l),w({api:b})}x(["click"]);async function N(a){const o=document.createElement("div");document.body.append(o);const e=V(L,{target:o,props:a});try{return await e.api.open()}catch{o.remove(),await W(e)}}const Q=a=>{var o=T();n(a,o)},R=(a,o)=>N({children:o,closeOnOutsideClick:!0});var T=c('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),U=c('<button class="btn" aria-haspopup="dialog">Open modal</button>');function no(a,o){M(o,!1),q();var e=U();e.__click=[R,Q],n(a,e),w()}x(["click"]);export{no as default};
