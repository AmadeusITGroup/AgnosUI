import{H as m,G as i,a6 as p,F as d,E as C}from"./AppCommon-NgCdTdCo.js";import{i as y}from"./func-tK0QDe5R.js";import{a as W,f as S}from"./stores-exy7-RvQ.js";const g=(t,o,e=1/0)=>{if(o!==void 0)if(typeof o=="object"&&o&&e>=1)for(const s of Object.keys(o))t[s]=g(t[s]??{},o[s],e-1);else return o;return t},h=(t,o=y)=>{const e=m({}),s=o===y?t:i(()=>o(g({},t==null?void 0:t(),2)));return p(i(()=>g(g({},s==null?void 0:s(),2),e(),2)),{...e,own$:e,adaptedParent$:s,parent$:t})},F=Symbol("useSvelteSlot");function x(t,o){return e=>{const s=S(t,e);t=e,s&&o(s)}}const j=(t,o)=>o?(...e)=>{t(...e),o(...e)}:t,O=(t,o)=>{const e=m(o,{equal:Object.is});return p(i(()=>j(t,e())),{set:e.set,update:e.update})},k=({factory:t,$$slots:o,defaultConfig:e,widgetConfig:s,events:r,$$props:n})=>{const c=W(e),l={};for(const[a,b]of Object.entries(o))b&&(l[`slot${a[0].toUpperCase()}${a.substring(1)}`]=F);const f={...n};for(const a of Object.keys(r))f[a]=O(r[a],n[a]);const u=t({config:i(()=>({...c(),...s==null?void 0:s(),...l})),props:f});return{...u,patchChangedProps:x(n,u.patch)}},q=t=>typeof t=="function"&&!!t.prototype&&(t.prototype.$set||/^Proxy</.test(t.name))||typeof(t==null?void 0:t.render)=="function",v=(t=Symbol("widgetsConfig"))=>{const o=r=>{const n=d(t),c=h(n,r);return C(t,c),c},e=r=>{const n=d(t);return i(()=>n==null?void 0:n()[r])};return{widgetsDefaultConfigKey:t,createWidgetsDefaultConfig:o,getContextWidgetConfig:e,callWidgetFactory:({factory:r,widgetName:n=null,$$slots:c,defaultConfig:l={},events:f,$$props:u})=>k({factory:r,$$slots:c,defaultConfig:l,widgetConfig:n?e(n):null,events:f,$$props:u})}},{widgetsDefaultConfigKey:G,createWidgetsDefaultConfig:H,getContextWidgetConfig:R,callWidgetFactory:U}=v();export{H as a,U as c,q as i,F as u};
