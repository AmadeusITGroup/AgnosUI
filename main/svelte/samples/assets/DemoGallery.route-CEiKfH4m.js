import{a as Y,f as b,e as y,j as H,h as c,d as f,p as $,b as ot,g as o,c as O,s as j,Q as P,t as U,U as L,R as Q,Z as tt,a7 as st,l as Z,O as A,T as it,V as J,a3 as lt,n as nt,L as ct}from"./AppCommon-D-Irf_br.js";import{h as E}from"./html-1V26KQ7L.js";import{a as n}from"./actions-pAf8lVTc.js";import{b as dt}from"./this-CyPQGi7c.js";import{c as K}from"./config-YG6wG-Ye.js";import{c as S}from"./dom-Bcg9ORcA-CPWV9YZz.js";import{p as vt,n as ut}from"./next-qIJV01AO.js";import{c as X}from"./index-UXRv2KrO.js";import"./stores-CNuHRGye.js";import"./index-client-BTQEOGGz.js";import"./writables-e0tyaQpe-5AqAML2m.js";import"./navManager-4l7ELTmr.js";import"./widget-ccL6PuC2.js";var mt=b('<span class="absolute top-1/2 -translate-y-1/2 left-1/2 loading loading-spinner loading-lg text-primary"></span>'),pt=b("<source/>"),ht=b('<!> <picture class="flex justify-center"><!> <img class="select-none object-contain"/></picture>',1),ft=b('<div class="skeleton w-full h-full"></div>'),bt=b("<div><!></div>");function gt(l,e){Y(e,!0);let g=O(!1);var d=bt();y(d,a=>({...a}),[()=>({})]);var D=c(d);{var w=a=>{var p=ht(),G=ot(p);{var W=u=>{var h=mt();f(u,h)};H(G,u=>{o(g)||u(W)})}var _=j(G,2),k=c(_);P(k,17,()=>e.sources,Q,(u,h)=>{let I=()=>o(h).media,T=()=>o(h).srcset;var C=pt();U(()=>{L(C,"media",I()),L(C,"srcset",T())}),f(u,C)});var M=j(k,2);let R;U(u=>{L(M,"alt",e.alt),L(M,"src",e.src),R=tt(M,"",R,u)},[()=>({"aspect-ratio":e.aspectRatio})]),st("load",M,()=>Z(g,!0)),f(a,p)},N=a=>{var p=ft();f(a,p)};H(D,a=>{e.loadRequested?a(w):a(N,!1)})}n(d,(a,p)=>S?.(a,p),()=>"relative basis-full min-w-0 shrink-0 grow-0 flex justify-center"),n(d,(a,p)=>e.slide?.(a,p),()=>({id:e.id,index:e.index})),f(l,d),$()}const wt=`<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" /></svg>
`,_t='<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25" /></svg>';var xt=b('<div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between"><button><!></button> <button><!></button></div>'),yt=b('<div class="absolute right-5 bottom-5 flex"><button class="btn btn-primary btn-sm md:btn-md btn-square opacity-75 hover:opacity-100"><!></button></div>'),St=b('<button><img class="select-none" alt="random picsum" loading="lazy"/></button>'),kt=b('<div class="grid grid-flow-row max-h-dvh"><div><div class="flex max-h-full"></div> <!> <!></div> <div><div></div></div></div>');function Mt(l,e){Y(e,!0);let g=A(e,"withNavArrows",3,!1),d=A(e,"withShowFullscreen",3,!1),D=A(e,"aspectRatio",3,4/3),w=O(it(e.photos.map((t,r)=>({...t,loadRequested:r===0}))));J(()=>{Z(w,e.photos.map((t,r)=>({...t,loadRequested:r===0})),!0)});const{state:N,directives:a}=K(X),{directives:p,api:{scrollTo:G}}=K(X,{props:{dragFree:!0,containScroll:"keepSnaps"}});let W=ct(()=>!!document?.fullscreenEnabled&&d()),_=O(!1),k;const M=()=>{o(_)?document.exitFullscreen():k.requestFullscreen(),Z(_,!o(_))};J(()=>{const t=N.selectedScrollSnap;lt(()=>{G(t),o(w)[t].loadRequested=!0,t>0&&(o(w)[t-1].loadRequested=!0),t<o(w).length-1&&(o(w)[t+1].loadRequested=!0)})});const R=t=>t.preventDefault();var u=kt(),h=c(u);y(h,t=>({...t}),[()=>({})]);var I=c(h);P(I,21,()=>o(w),Q,(t,r,s)=>{let x=()=>o(r).src,v=()=>o(r).alt,q=()=>o(r).sources,i=()=>o(r).loadRequested;gt(t,{get src(){return x()},get alt(){return v()},get sources(){return q()},get loadRequested(){return i()},get aspectRatio(){return D()},id:`gallery-photo-${s}`,index:s,get slide(){return a.slide}})});var T=j(I,2);{var C=t=>{var r=xt(),s=c(r);y(s,i=>({onpointerdown:R,...i}),[()=>({})]);var x=c(s);E(x,()=>vt),n(s,(i,m)=>S?.(i,m),()=>"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100"),n(s,i=>a.scrollPrev?.(i));var v=j(s,2);y(v,i=>({onpointerdown:R,...i}),[()=>({})]);var q=c(v);E(q,()=>ut),n(v,(i,m)=>S?.(i,m),()=>"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100"),n(v,i=>a.scrollNext?.(i)),f(t,r)};H(T,t=>{g()&&t(C)})}var rt=j(T,2);{var at=t=>{var r=yt(),s=c(r);s.__click=M,s.__pointerdown=R;var x=c(s);E(x,()=>o(_)?_t:wt),U(()=>L(s,"aria-label",o(_)?"leave fullscreen":"open photo in fullscreen")),f(t,r)};H(rt,t=>{o(W)&&t(at)})}n(h,(t,r)=>S?.(t,r),()=>"overflow-hidden relative cursor-grab active:cursor-grabbing"),n(h,t=>a.root?.(t));var V=j(h,2);y(V,t=>({...t}),[()=>({})]);var B=c(V);y(B,t=>({...t}),[()=>({})]),P(B,21,()=>e.photos,Q,(t,r,s)=>{let x=()=>o(r).thumbnail;var v=St();y(v,m=>({...m}),[()=>({})]);var q=c(v);let i;n(v,(m,z)=>S?.(m,z),()=>["ring-primary cursor-pointer",N.selectedScrollSnap===s&&"ring-3"]),n(v,(m,z)=>a.tabIndicator?.(m,z),()=>({index:s,id:`gallery-photo-${s}`})),U(m=>{L(q,"src",x()),i=tt(q,"",i,m)},[()=>({"aspect-ratio":D()})]),f(t,v)}),n(B,(t,r)=>S?.(t,r),()=>"grid grid-flow-col auto-cols-max gap-2 mx-1 my-1 items-center"),n(B,t=>a.tabList?.(t)),n(V,(t,r)=>S?.(t,r),()=>"overflow-hidden mt-1 mb-2"),n(V,t=>p.root?.(t)),dt(u,t=>k=t,()=>k),f(l,u),$()}nt(["click","pointerdown"]);const Rt=[36,43,70,102,124,142,156,242,288,289,295,361,400,488,496,515,557,607,623,645],qt=[124,289,400,488,607],et=[],F=(l,e,g,d)=>`https://picsum.photos/id/${l}/${d?g:e}/${d?e:g}.webp`;for(const l of Rt){const e=qt.includes(l);et.push({thumbnail:F(l,120,90,e),src:F(l,1600,1200,e),alt:"random picsum",sources:[{media:"(max-width: 599px)",srcset:F(l,600,450,e)},{media:"(min-width: 600px) and (max-width: 799px)",srcset:F(l,800,600,e)},{media:"(min-width: 800px) and (max-width: 1199px)",srcset:F(l,1200,900,e)},{media:"(min-width: 1200px)",srcset:F(l,1600,1200,e)}]})}const Ft=[...et];var jt=b('<div class="w-full flex justify-center"><div class="max-w-[600px] lg:max-w-[1000px]"><!></div></div>');function At(l){var e=jt(),g=c(e),d=c(g);Mt(d,{get photos(){return Ft},withNavArrows:!0,withShowFullscreen:!0}),f(l,e)}export{At as default};
