import{I as p,H as i,a7 as m,G as g,F as C}from"./AppCommon-CEfWotzS.js";import{i as d}from"./func-fOTgS_tI.js";import{a as W,f as h}from"./stores-Bv6KburJ.js";const y=(t,e,o=1/0)=>{if(e!==void 0)if(typeof e=="object"&&e&&o>=1)for(const s of Object.keys(e))Object.prototype.hasOwnProperty.call(e,s)&&(s==="__proto__"||s==="constructor"||(t[s]=y(t[s]??{},e[s],o-1)));else return e;return t},S=(t,e=d)=>{const o=p({}),s=e===d?t:i(()=>e(y({},t==null?void 0:t(),2)));return m(i(()=>y(y({},s==null?void 0:s(),2),o(),2)),{...o,own$:o,adaptedParent$:s,parent$:t})},F=Symbol("useSvelteSlot");function j(t,e){return o=>{const s=h(t,o);t=o,s&&e(s)}}const x=(t,e)=>e?(...o)=>{t(...o),e(...o)}:t,O=(t,e)=>{const o=p(e,{equal:Object.is});return m(i(()=>x(t,o())),{set:o.set,update:o.update})},P=({factory:t,$$slots:e,defaultConfig:o,widgetConfig:s,events:r,$$props:n})=>{const c=W(o),l={};for(const[a,b]of Object.entries(e))b&&(l[`slot${a[0].toUpperCase()}${a.substring(1)}`]=F);const f={...n};for(const a of Object.keys(r))f[a]=O(r[a],n[a]);const u=t({config:i(()=>({...c(),...s==null?void 0:s(),...l})),props:f});return{...u,patchChangedProps:j(n,u.patch)}},q=t=>typeof t=="function"&&!!t.prototype&&(t.prototype.$set||/^Proxy</.test(t.name))||typeof(t==null?void 0:t.render)=="function",_=(t=Symbol("widgetsConfig"))=>{const e=r=>{const n=g(t),c=S(n,r);return C(t,c),c},o=r=>{const n=g(t);return i(()=>n==null?void 0:n()[r])};return{widgetsDefaultConfigKey:t,createWidgetsDefaultConfig:e,getContextWidgetConfig:o,callWidgetFactory:({factory:r,widgetName:n=null,$$slots:c,defaultConfig:l={},events:f,$$props:u})=>P({factory:r,$$slots:c,defaultConfig:l,widgetConfig:n?o(n):null,events:f,$$props:u})}},{widgetsDefaultConfigKey:E,createWidgetsDefaultConfig:G,getContextWidgetConfig:H,callWidgetFactory:R}=_();export{G as a,R as c,q as i,F as u};
