import{n as k,a as O,L as F,I,f as c,e as f,h as u,s as g,j as _,d as n,p as C,m as L,a4 as P,i as S}from"./AppCommon-CTA2S8Vh.js";import{s as V}from"./snippet-C8bCsPaM.js";import{a as d}from"./actions-DwmA-Vw0.js";import{c as W}from"./config-x3Qr9_rb.js";import{c as q}from"./modal-DXSAeT5T-D-2O6O_T.js";import{c as h}from"./dom-DD1hAVZy-C1xEaPzR.js";import"./stores-CCAWz2dY.js";import"./index-client-SMdwsiDZ.js";import"./writables-e0tyaQpe-CAqbRUnG.js";import"./baseTransitions-BZTmf99k.js";import"./promise-Y53vc4Ia-B9JA-InD.js";import"./focusElement-CYLq9ACP.js";import"./isFocusable-Ckwus82R-adOM025a.js";import"./widget-CFLopPe7.js";var z=c("<button>✕</button>"),G=c('<div class="modal-backdrop"><button type="button">Close</button></div>'),H=c('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function J(a,o){O(o,!0);let i=F(o,"visible",15),r=I(o,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:y,directives:{closeButtonDirective:x,dialogDirective:D},api:B}=W(q,{get props(){return{visible:i(),closeOnOutsideClick:o.closeOnOutsideClick,...r}},defaultConfig:{closeButton:!0},events:{onVisibleChange:t=>{i(t)}}}),m=B;var M={api:m},l=H();f(l,t=>({onclose:m.close,...t}),[()=>({})]);var v=u(l),b=u(v);V(b,()=>o.children);var w=g(b,2);{var A=t=>{var e=z();f(e,s=>({...s}),[()=>({})]),d(e,(s,p)=>h?.(s,p),()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),d(e,s=>x?.(s)),n(t,e)};_(w,t=>{y.closeButton&&t(A)})}var E=g(v,2);{var j=t=>{var e=G(),s=u(e);s.__click=function(...p){m.close?.apply(this,p)},n(t,e)};_(E,t=>{o.closeOnOutsideClick&&t(j)})}return d(l,(t,e)=>h?.(t,e),()=>"modal modal-bottom sm:modal-middle"),d(l,t=>D?.(t)),n(a,l),C(M)}k(["click"]);async function K(a){const o=document.createElement("div");document.body.append(o);const i=L(J,{target:o,props:a});try{return await i.api.open()}catch{o.remove(),await P(i)}}const N=a=>{var o=Q();n(a,o)};var Q=c('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),R=c('<button class="btn" aria-haspopup="dialog">Open modal</button>');function nt(a,o){O(o,!1);const i=()=>K({children:N,closeOnOutsideClick:!0});S();var r=R();r.__click=i,n(a,r),C()}k(["click"]);export{nt as default};
