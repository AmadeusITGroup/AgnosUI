import{n as k,a as O,O as j,K as F,f as r,e as f,h as p,s as _,j as g,d as n,p as C,m as K,a4 as P,i as S}from"./AppCommon-C3njszSs.js";import{s as V}from"./snippet-Yh-CCAcC.js";import{a as c}from"./actions-D_tXn74T.js";import{c as W}from"./config-QQJJdXq_.js";import{c as q}from"./modal-7LX5_-yj-BFL_fk07.js";import{c as h}from"./dom-CzJpOnsw-6p6st5u1.js";import"./stores-Bp74MamO.js";import"./index-client-z5mHnK4A.js";import"./writables-e0tyaQpe-FyIvxmbc.js";import"./baseTransitions-XkLZTtHZ.js";import"./promise-XSP94FjG-C22_Ibus.js";import"./widget-dkm-rq65.js";var z=r("<button>✕</button>"),G=r('<div class="modal-backdrop"><button type="button">Close</button></div>'),H=r('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function I(a,t){O(t,!0);let i=j(t,"visible",15),u=F(t,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:y,directives:{closeButtonDirective:D,dialogDirective:x},api:B}=W(q,{get props(){return{visible:i(),closeOnOutsideClick:t.closeOnOutsideClick,...u}},defaultConfig:{closeButton:!0},events:{onVisibleChange:o=>{i(o)}}}),d=B;var l=H();f(l,o=>({onclose:d.close,...o}),[()=>({})]);var v=p(l),b=p(v);V(b,()=>t.children);var M=_(b,2);{var w=o=>{var e=z();f(e,s=>({...s}),[()=>({})]),c(e,(s,m)=>h?.(s,m),()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(e,s=>D?.(s)),n(o,e)};g(M,o=>{y.closeButton&&o(w)})}var A=_(v,2);{var E=o=>{var e=G(),s=p(e);s.__click=function(...m){d.close?.apply(this,m)},n(o,e)};g(A,o=>{t.closeOnOutsideClick&&o(E)})}return c(l,(o,e)=>h?.(o,e),()=>"modal modal-bottom sm:modal-middle"),c(l,o=>x?.(o)),n(a,l),C({api:d})}k(["click"]);async function J(a){const t=document.createElement("div");document.body.append(t);const i=K(I,{target:t,props:a});try{return await i.api.open()}catch{t.remove(),await P(i)}}const L=a=>{var t=Q();n(a,t)},N=(a,t)=>J({children:t,closeOnOutsideClick:!0});var Q=r('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),R=r('<button class="btn" aria-haspopup="dialog">Open modal</button>');function lt(a,t){O(t,!1),S();var i=R();i.__click=[N,L],n(a,i),C()}k(["click"]);export{lt as default};
