import{H as B,I as Je,a7 as ke,aa as Qe,S as Ye,i as Ze,s as Ge,R as ge,e as H,k as $e,a as h,b as j,r as x,u as te,y as ee,z as se,Y as Oe,Z as Ke,B as le,t as $,d as v,f as J,x as Ae,O as Ve,h as L,C as q,N as ve,c as z,m as U,g as W,ag as Xe,q as _e,a1 as ye,ae as xe,Q as pe,p as Re,D as de,E as he,J as Q,K as Y,L as Z,M as G}from"./AppCommon-M7DUBvbC.js";import{c as et}from"./config-GGxyuvAg.js";import{c as tt,o as st,a as lt,b as nt}from"./floatingUI-smPg0Yg0.js";import{c as ot}from"./focustrack-Ut14S1Jz.js";import{c as at}from"./navManager-YnJ_vJxI.js";import{a as it}from"./directive-di1mg7Ei.js";import{g as rt}from"./dom-HY1qC9Vk.js";import{n as Ce}from"./func-tK0QDe5R.js";import{w as ct,c as ft,b as ut,s as mt}from"./stores-WoBVc80A.js";import{S as He}from"./Slot-61Ngmrv5.js";const _t=t=>""+t,gt={id:void 0,ariaLabel:"Select",open:!1,disabled:!1,items:[],filterText:"",loading:!1,selected:[],navSelector:t=>t.querySelectorAll(".au-select-badge,input"),itemIdFn:_t,onOpenChange:Ce,onFilterTextChange:Ce,onSelectedChange:Ce,allowedPlacements:["bottom-start","top-start","bottom-end","top-end"],className:"",menuClassName:"",menuItemClassName:"",badgeClassName:"",slotBadgeLabel:({itemContext:t})=>t.item,slotItem:({itemContext:t})=>t.item};function pt(t){const[{id$:e,open$:l,filterText$:s,items$:n,itemIdFn$:o,onOpenChange$:p,onFilterTextChange$:c,onSelectedChange$:_,allowedPlacements$:r,navSelector$:i,...a},m]=ct(gt,t),{selected$:I}=a,C=B(()=>e()??rt()),d=ft(s,c),{hasFocus$:b,directive:N}=ot(),S=ut(p,[l,b],([u,g])=>u&&g),E=B(()=>{const u=new Map,g=o();for(const w of I()){const F=g(w);u.set(F,{item:w,id:g(w),selected:!0})}return u}),ne=B(()=>[...E().values()]),M=function(){const u=Je(0);return ke(u,g=>{const{length:w}=P();g!=null&&(w?g<0?g=w-1:g>=w&&(g=0):g=void 0),u.set(g)})}(),O=B(()=>{const u=new Map;if(S()){const g=E(),w=o();for(const F of n()){const D=w(F);u.set(D,{item:F,id:D,selected:g.has(D)})}}return u}),P=B(()=>S()?[...O().values()]:[]),K=B(()=>{const u=P(),g=M();return u.length&&g!=null?u[g]:void 0}),{directives:{floatingDirective:A,referenceDirective:oe},stores:{placement$:ae}}=tt({props:{computePositionOptions:ke(B(()=>({middleware:[st(5),lt({allowedPlacements:r()}),nt()]})))}}),{directive:ie,refreshElements:re,focusFirst:ce,focusLast:fe,focusLeft:V,focusRight:X}=at(),ue=B(()=>({keys:{Home:ce,End:fe,ArrowLeft:V,ArrowRight:X},selector:i()})),y=(u,g)=>{const w=u.target;re(),k.api.unselect(g),w instanceof HTMLElement&&setTimeout(()=>{V({event:u,referenceElement:w})||X({event:u,referenceElement:w})}),u.preventDefault()},k={...mt({id$:C,visibleItems$:P,highlighted$:K,open$:S,selectedContexts$:ne,filterText$:d,placement$:ae,...a}),patch:m,api:{clear(){I.set([])},select(u){k.api.toggleItem(u,!0)},unselect(u){k.api.toggleItem(u,!1)},toggleItem(u,g){const w=o(),F=w(u),R=E().has(F);g==null&&(g=!R),!(g&&!O().has(F)||!g&&!R)&&I.update(T=>{var me;if(T=[...T],g&&!R)T.push(u);else if(!g&&R){const be=T.findIndex(we=>w(we)===F);T.splice(be,1)}return(me=_())==null||me(T),T})},clearText(){},highlight(u){const g=P().findIndex(w=>w.item===u);M.set(g===-1?void 0:g)},highlightFirst(){M.set(0)},highlightPrevious(){M.update(u=>u!=null?u-1:-1)},highlightNext(){M.update(u=>u!=null?u+1:1/0)},highlightLast(){M.set(-1)},open:()=>k.api.toggle(!0),close:()=>k.api.toggle(!1),toggle(u){S.update(g=>u??!g)}},directives:{hasFocusDirective:N,floatingDirective:A,referenceDirective:oe,inputContainerDirective:it(ie,ue)},actions:{onInput({target:u}){const g=u.value;Qe(()=>{S.set(g!=null&&g!==""),d.set(g)})},onRemoveBadgeClick(u,g){y(u,g)},onInputKeydown(u){const{ctrlKey:g,key:w}=u;let F=!0;switch(w){case"ArrowDown":{S()?g?k.api.highlightLast():k.api.highlightNext():(k.api.open(),k.api.highlightFirst());break}case"ArrowUp":g?k.api.highlightFirst():k.api.highlightPrevious();break;case"Enter":{const D=K();D&&k.api.toggleItem(D.item);break}case"Escape":S.set(!1);break;default:F=!1}F&&u.preventDefault()},onBadgeKeydown(u,g){let w=!1;switch(u.key){case"Backspace":case"Delete":{y(u,g),w=!0;break}}w&&u.preventDefault()}}};return k}const dt=pt;function Le(t,e,l){const s=t.slice();s[49]=e[l];const n=s[49]===s[13];s[50]=n;const o=s[49].selected;return s[51]=o,s}const ht=t=>({itemContext:t[1]&262144,state:t[1]&33554432,widget:t[1]&128}),Ie=t=>({slot:"badgeLabel",itemContext:t[49],state:t[56],widget:t[38]}),bt=t=>({itemContext:t[1]&262144,state:t[1]&33554432,widget:t[1]&128}),Fe=t=>({slot:"item",itemContext:t[49],state:t[56],widget:t[38]}),wt=t=>t[1]&8388608,Ct=t=>({}),Ne=t=>({slot:"slot",...t[54]});function Se(t,e,l){const s=t.slice();return s[49]=e[l],s}const $t=t=>({itemContext:t[1]&262144,state:t[1]&33554432,widget:t[1]&128}),De=t=>({slot:"badgeLabel",itemContext:t[49],state:t[56],widget:t[38]}),kt=t=>({itemContext:t[1]&262144,state:t[1]&33554432,widget:t[1]&128}),Te=t=>({slot:"item",itemContext:t[49],state:t[56],widget:t[38]}),vt=t=>t[1]&8388608,Lt=t=>({}),Me=t=>({slot:"slot",...t[54]});function It(t){let e;const l=t[42].badgeLabel,s=Q(l,t,t[46],De);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&33849472)&&Y(s,l,n,n[46],e?G(l,n[46],o,$t):Z(n[46]),De)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function Ft(t){let e;const l=t[42].item,s=Q(l,t,t[46],Te);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&33849472)&&Y(s,l,n,n[46],e?G(l,n[46],o,kt):Z(n[46]),Te)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function Nt(t){let e,l,s;const n=[t[54]];var o=t[55];function p(c,_){let r={$$slots:{item:[Ft,({widget:i,state:a,itemContext:m})=>({38:i,56:a,49:m}),({widget:i,state:a,itemContext:m})=>[0,(i?128:0)|(a?33554432:0)|(m?262144:0)]],badgeLabel:[It,({widget:i,state:a,itemContext:m})=>({38:i,56:a,49:m}),({widget:i,state:a,itemContext:m})=>[0,(i?128:0)|(a?33554432:0)|(m?262144:0)]]},$$scope:{ctx:c}};for(let i=0;i<n.length;i+=1)r=q(r,n[i]);return _!==void 0&&_[1]&8388608&&(r=q(r,de(n,[he(c[54])]))),{props:r}}return o&&(e=pe(o,p(t))),{c(){e&&z(e.$$.fragment),l=Re()},m(c,_){e&&U(e,c,_),j(c,l,_),s=!0},p(c,_){if(_[1]&16777216&&o!==(o=c[55])){if(e){se();const r=e;v(r.$$.fragment,1,0,()=>{W(r,1)}),le()}o?(e=pe(o,p(c,_)),z(e.$$.fragment),$(e.$$.fragment,1),U(e,l.parentNode,l)):e=null}else if(o){const r=_[1]&8388608?de(n,[he(c[54])]):{};_[1]&33849472&&(r.$$scope={dirty:_,ctx:c}),e.$set(r)}},i(c){s||(e&&$(e.$$.fragment,c),s=!0)},o(c){e&&v(e.$$.fragment,c),s=!1},d(c){c&&J(l),e&&W(e,c)}}}function St(t){let e;const l=t[42].badgeLabel,s=Q(l,t,t[46],Me);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&8421376)&&Y(s,l,n,n[46],vt(o)||!e?Z(n[46]):G(l,n[46],o,Lt),Me)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function Pe(t,e){let l,s,n,o,p,c;s=new He({props:{slotContent:e[6],props:{state:e[7],widget:e[38],itemContext:e[49]},$$slots:{slot:[St,({props:r})=>({54:r}),({props:r})=>[0,r?8388608:0]],default:[Nt,({component:r,props:i})=>({55:r,54:i}),({component:r,props:i})=>[0,(r?16777216:0)|(i?8388608:0)]]},$$scope:{ctx:e}}});function _(...r){return e[44](e[49],...r)}return{key:t,first:null,c(){l=H("div"),z(s.$$.fragment),h(l,"tabindex","-1"),h(l,"class",n=`au-select-badge me-1 ${e[5]}`),this.first=l},m(r,i){j(r,l,i),U(s,l,null),o=!0,p||(c=te(l,"keydown",_),p=!0)},p(r,i){e=r;const a={};i[0]&64&&(a.slotContent=e[6]),i[0]&144&&(a.props={state:e[7],widget:e[38],itemContext:e[49]}),i[1]&25198592&&(a.$$scope={dirty:i,ctx:e}),s.$set(a),(!o||i[0]&32&&n!==(n=`au-select-badge me-1 ${e[5]}`))&&h(l,"class",n)},i(r){o||($(s.$$.fragment,r),o=!0)},o(r){v(s.$$.fragment,r),o=!1},d(r){r&&J(l),W(s),p=!1,c()}}}function Be(t){let e,l=[],s=new Map,n,o,p,c,_=ge(t[10]);const r=i=>i[49].id;for(let i=0;i<_.length;i+=1){let a=Le(t,_,i),m=r(a);s.set(m,l[i]=Ee(m,a))}return{c(){e=H("ul");for(let i=0;i<l.length;i+=1)l[i].c();h(e,"role","listbox"),h(e,"id",t[1]),h(e,"class",n="dropdown-menu show "+t[11]),h(e,"data-popper-placement",t[12])},m(i,a){j(i,e,a);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);o=!0,p||(c=[ee(t[35].call(null,e)),ee(t[34].call(null,e)),te(e,"mousedown",Xe(t[43]))],p=!0)},p(i,a){a[0]&58496|a[1]&59015296&&(_=ge(i[10]),se(),l=Oe(l,a,r,1,i,_,s,e,Ke,Ee,null,Le),le()),(!o||a[0]&2)&&h(e,"id",i[1]),(!o||a[0]&2048&&n!==(n="dropdown-menu show "+i[11]))&&h(e,"class",n),(!o||a[0]&4096)&&h(e,"data-popper-placement",i[12])},i(i){if(!o){for(let a=0;a<_.length;a+=1)$(l[a]);o=!0}},o(i){for(let a=0;a<l.length;a+=1)v(l[a]);o=!1},d(i){i&&J(e);for(let a=0;a<l.length;a+=1)l[a].d();p=!1,Ae(c)}}}function Dt(t){let e;const l=t[42].badgeLabel,s=Q(l,t,t[46],Ie);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&33849472)&&Y(s,l,n,n[46],e?G(l,n[46],o,ht):Z(n[46]),Ie)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function Tt(t){let e;const l=t[42].item,s=Q(l,t,t[46],Fe);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&33849472)&&Y(s,l,n,n[46],e?G(l,n[46],o,bt):Z(n[46]),Fe)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function Mt(t){let e,l,s;const n=[t[54]];var o=t[55];function p(c,_){let r={$$slots:{item:[Tt,({widget:i,state:a,itemContext:m})=>({38:i,56:a,49:m}),({widget:i,state:a,itemContext:m})=>[0,(i?128:0)|(a?33554432:0)|(m?262144:0)]],badgeLabel:[Dt,({widget:i,state:a,itemContext:m})=>({38:i,56:a,49:m}),({widget:i,state:a,itemContext:m})=>[0,(i?128:0)|(a?33554432:0)|(m?262144:0)]]},$$scope:{ctx:c}};for(let i=0;i<n.length;i+=1)r=q(r,n[i]);return _!==void 0&&_[1]&8388608&&(r=q(r,de(n,[he(c[54])]))),{props:r}}return o&&(e=pe(o,p(t))),{c(){e&&z(e.$$.fragment),l=Re()},m(c,_){e&&U(e,c,_),j(c,l,_),s=!0},p(c,_){if(_[1]&16777216&&o!==(o=c[55])){if(e){se();const r=e;v(r.$$.fragment,1,0,()=>{W(r,1)}),le()}o?(e=pe(o,p(c,_)),z(e.$$.fragment),$(e.$$.fragment,1),U(e,l.parentNode,l)):e=null}else if(o){const r=_[1]&8388608?de(n,[he(c[54])]):{};_[1]&33849472&&(r.$$scope={dirty:_,ctx:c}),e.$set(r)}},i(c){s||(e&&$(e.$$.fragment,c),s=!0)},o(c){e&&v(e.$$.fragment,c),s=!1},d(c){c&&J(l),e&&W(e,c)}}}function Pt(t){let e;const l=t[42].item,s=Q(l,t,t[46],Ne);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&8421376)&&Y(s,l,n,n[46],wt(o)||!e?Z(n[46]):G(l,n[46],o,Ct),Ne)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function Ee(t,e){let l,s,n,o,p,c,_,r;s=new He({props:{slotContent:e[15],props:{state:e[7],widget:e[38],itemContext:e[49]},$$slots:{slot:[Pt,({props:a})=>({54:a}),({props:a})=>[0,a?8388608:0]],default:[Mt,({component:a,props:m})=>({55:a,54:m}),({component:a,props:m})=>[0,(a?16777216:0)|(m?8388608:0)]]},$$scope:{ctx:e}}});function i(){return e[45](e[49])}return{key:t,first:null,c(){l=H("li"),z(s.$$.fragment),n=$e(),h(l,"role","option"),h(l,"aria-selected",o=e[51]),h(l,"class",p=`au-select-item dropdown-item position-relative ${e[14]}`),_e(l,"text-bg-primary",e[50]),_e(l,"selected",e[51]),ye(l,"cursor","pointer"),this.first=l},m(a,m){j(a,l,m),U(s,l,null),x(l,n),c=!0,_||(r=te(l,"click",i),_=!0)},p(a,m){e=a;const I={};m[0]&32768&&(I.slotContent=e[15]),m[0]&1152&&(I.props={state:e[7],widget:e[38],itemContext:e[49]}),m[1]&25198592&&(I.$$scope={dirty:m,ctx:e}),s.$set(I),(!c||m[0]&1024&&o!==(o=e[51]))&&h(l,"aria-selected",o),(!c||m[0]&16384&&p!==(p=`au-select-item dropdown-item position-relative ${e[14]}`))&&h(l,"class",p),(!c||m[0]&25600)&&_e(l,"text-bg-primary",e[50]),(!c||m[0]&17408)&&_e(l,"selected",e[51])},i(a){c||($(s.$$.fragment,a),c=!0)},o(a){v(s.$$.fragment,a),c=!1},d(a){a&&J(l),W(s),_=!1,r()}}}function Bt(t){let e,l,s=[],n=new Map,o,p,c,_,r,i,a,m=ge(t[4]);const I=d=>d[49].id;for(let d=0;d<m.length;d+=1){let b=Se(t,m,d),N=I(b);n.set(N,s[d]=Pe(N,b))}let C=t[3]&&t[10].length>0&&Be(t);return{c(){e=H("div"),l=H("div");for(let d=0;d<s.length;d+=1)s[d].c();o=$e(),p=H("input"),c=$e(),C&&C.c(),h(p,"id",t[0]),h(p,"aria-label",t[8]),h(p,"type","text"),h(p,"class","au-select-input flex-grow-1 border-0"),p.value=t[9],h(p,"aria-autocomplete","list"),h(p,"autocorrect","off"),h(p,"autocapitalize","none"),h(p,"autocomplete","off"),h(l,"role","combobox"),h(l,"class","d-flex align-items-center flex-wrap"),h(l,"aria-controls",t[1]),h(l,"aria-haspopup","listbox"),h(l,"aria-expanded",t[3]),h(e,"class",_="au-select dropdown border border-1 p-1 mb-3 d-block "+t[2])},m(d,b){j(d,e,b),x(e,l);for(let N=0;N<s.length;N+=1)s[N]&&s[N].m(l,null);x(l,o),x(l,p),x(e,c),C&&C.m(e,null),r=!0,i||(a=[te(p,"input",t[31]),te(p,"keydown",t[32]),ee(t[35].call(null,l)),ee(t[37].call(null,l)),ee(t[36].call(null,e))],i=!0)},p(d,b){b[0]&240|b[1]&59015300&&(m=ge(d[4]),se(),s=Oe(s,b,I,1,d,m,n,l,Ke,Pe,o,Se),le()),(!r||b[0]&1)&&h(p,"id",d[0]),(!r||b[0]&256)&&h(p,"aria-label",d[8]),(!r||b[0]&512&&p.value!==d[9])&&(p.value=d[9]),(!r||b[0]&2)&&h(l,"aria-controls",d[1]),(!r||b[0]&8)&&h(l,"aria-expanded",d[3]),d[3]&&d[10].length>0?C?(C.p(d,b),b[0]&1032&&$(C,1)):(C=Be(d),C.c(),$(C,1),C.m(e,null)):C&&(se(),v(C,1,1,()=>{C=null}),le()),(!r||b[0]&4&&_!==(_="au-select dropdown border border-1 p-1 mb-3 d-block "+d[2]))&&h(e,"class",_)},i(d){if(!r){for(let b=0;b<m.length;b+=1)$(s[b]);$(C),r=!0}},o(d){for(let b=0;b<s.length;b+=1)v(s[b]);v(C),r=!1},d(d){d&&J(e);for(let b=0;b<s.length;b+=1)s[b].d();C&&C.d(),i=!1,Ae(a)}}}function Et(t,e,l){let s,n,o,p,c,_,r,i,a,m,I,C,d,b,N,S,{$$slots:E={},$$scope:ne}=e;const M=Ve(E);let{open:O=!1}=e,{filterText:P=void 0}=e,{selected:K=void 0}=e;const A=et({factory:dt,widgetName:"select",$$slots:M,$$props:e,events:{onOpenChange(f){l(39,O=f)},onSelectedChange:f=>{l(41,K=f)},onFilterTextChange:f=>{l(40,P=f)}}}),{stores:{id$:oe,ariaLabel$:ae,badgeClassName$:ie,className$:re,filterText$:ce,highlighted$:fe,menuClassName$:V,menuItemClassName$:X,open$:ue,placement$:y,selectedContexts$:k,slotBadgeLabel$:u,slotItem$:g,visibleItems$:w},state$:F,actions:{onInput:D,onInputKeydown:R,onBadgeKeydown:T},directives:{floatingDirective:me,hasFocusDirective:be,referenceDirective:we,inputContainerDirective:qe}}=A;L(t,oe,f=>l(0,n=f)),L(t,ae,f=>l(8,a=f)),L(t,ie,f=>l(5,_=f)),L(t,re,f=>l(2,o=f)),L(t,ce,f=>l(9,m=f)),L(t,fe,f=>l(13,b=f)),L(t,V,f=>l(11,C=f)),L(t,X,f=>l(14,N=f)),L(t,ue,f=>l(3,p=f)),L(t,y,f=>l(12,d=f)),L(t,k,f=>l(4,c=f)),L(t,u,f=>l(6,r=f)),L(t,g,f=>l(15,S=f)),L(t,w,f=>l(10,I=f)),L(t,F,f=>l(7,i=f));function ze(f){xe.call(this,t,f)}const Ue=(f,je)=>T(je,f.item),We=f=>A.api.toggleItem(f.item);return t.$$set=f=>{l(47,e=q(q({},e),ve(f))),"open"in f&&l(39,O=f.open),"filterText"in f&&l(40,P=f.filterText),"selected"in f&&l(41,K=f.selected),"$$scope"in f&&l(46,ne=f.$$scope)},t.$$.update=()=>{A.patchChangedProps(e),t.$$.dirty[0]&1&&l(1,s=`${n}-menu`)},e=ve(e),[n,s,o,p,c,_,r,i,a,m,I,C,d,b,N,S,oe,ae,ie,re,ce,fe,V,X,ue,y,k,u,g,w,F,D,R,T,me,be,we,qe,A,O,P,K,E,ze,Ue,We,ne]}class Ot extends Ye{constructor(e){super(),Ze(this,e,Et,Bt,Ge,{open:39,filterText:40,selected:41},null,[-1,-1])}}const Qt=Ot;export{Qt as S};
