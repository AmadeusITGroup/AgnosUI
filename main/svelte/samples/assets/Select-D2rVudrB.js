import{G as O,H as Ve,ab as Le,aa as Xe,S as Ye,i as ye,s as xe,T as pe,l as B,e as j,k as $e,a as C,r as W,b as Q,v as oe,C as ne,w as K,D as ae,Z as Ke,$ as Re,E as ie,y as H,t as $,d as D,z as He,f as V,B as Ue,P as et,h as S,O as Ie,c as G,m as Z,g as J,ag as tt,u as me,a3 as st,ah as lt,R as de,q as qe,F as he,K as X,L as Y,M as y,N as x}from"./AppCommon-FWy1SVRQ.js";import{c as ot,S as ze}from"./Slot-D3m9il8U.js";import{c as nt,o as at,a as it,b as rt}from"./floatingUI-B1zxF7R7.js";import{c as ct}from"./focustrack-CP2bfAYz.js";import{c as ut}from"./navManager-DLNOjTcx.js";import{w as ft,g as _t,D as gt,B as mt,s as pt,k as dt,e as Ce,c as ke}from"./directive-DCYlDznf-gMBfoBMh.js";const ht={id:void 0,ariaLabel:"Select",open:!1,disabled:!1,items:[],filterText:"",loading:!1,selected:[],navSelector:t=>t.querySelectorAll(".au-select-badge,input"),itemIdFn:t=>""+t,onOpenChange:Ce,onFilterTextChange:Ce,onSelectedChange:Ce,allowedPlacements:["bottom-start","top-start","bottom-end","top-end"],className:"",menuClassName:"",menuItemClassName:"",badgeClassName:"",slotBadgeLabel:({itemContext:t})=>t.item,slotItem:({itemContext:t})=>t.item};function bt(t){const[{id$:e,open$:l,filterText$:s,items$:o,itemIdFn$:n,onOpenChange$:d,onFilterTextChange$:r,onSelectedChange$:g,allowedPlacements$:i,navSelector$:f,...c},a]=ft(ht,t),{selected$:h}=c,k=O(()=>e()??_t()),M=gt(s,r),{hasFocus$:v,directive:A}=ct(),F=mt(d,[l,v],([_,p])=>_&&p),m=O(()=>{const _=new Map,p=n();for(const w of h()){const N=p(w);_.set(N,{item:w,id:p(w),selected:!0})}return _}),b=O(()=>[...m().values()]),L=function(){const _=Ve(0);return Le(_,p=>{const{length:w}=E();p!=null&&(w?p<0?p=w-1:p>=w&&(p=0):p=void 0),_.set(p)})}(),U=O(()=>{const _=new Map;if(F()){const p=m(),w=n();for(const N of o()){const T=w(N);_.set(T,{item:N,id:T,selected:p.has(T)})}}return _}),E=O(()=>F()?[...U().values()]:[]),q=O(()=>{const _=E(),p=L();return _.length&&p!=null?_[p]:void 0}),{directives:{floatingDirective:R,referenceDirective:be},stores:{placement$:re}}=nt({props:{computePositionOptions:Le(O(()=>({middleware:[at(5),it({allowedPlacements:i()}),rt()]})))}}),{directive:ce,refreshElements:ue,focusFirst:fe,focusLast:_e,focusLeft:ee,focusRight:te}=ut(),ge=O(()=>({keys:{Home:fe,End:_e,ArrowLeft:ee,ArrowRight:te},selector:f()})),se=(_,p)=>{const w=_.target;ue(),I.api.unselect(p),w instanceof HTMLElement&&setTimeout(()=>{ee({event:_,referenceElement:w})||te({event:_,referenceElement:w})}),_.preventDefault()},I={...pt({id$:k,visibleItems$:E,highlighted$:q,open$:F,selectedContexts$:b,filterText$:M,placement$:re,...c}),patch:a,api:{clear(){h.set([])},select(_){I.api.toggleItem(_,!0)},unselect(_){I.api.toggleItem(_,!1)},toggleItem(_,p){const w=n(),N=w(_),z=m().has(N);p==null&&(p=!z),!(p&&!U().has(N)||!p&&!z)&&h.update(P=>{var le;if(P=[...P],p&&!z)P.push(_);else if(!p&&z){const we=P.findIndex(ve=>w(ve)===N);P.splice(we,1)}return(le=g())==null||le(P),P})},clearText(){},highlight(_){const p=E().findIndex(w=>w.item===_);L.set(p===-1?void 0:p)},highlightFirst(){L.set(0)},highlightPrevious(){L.update(_=>_!=null?_-1:-1)},highlightNext(){L.update(_=>_!=null?_+1:1/0)},highlightLast(){L.set(-1)},open:()=>I.api.toggle(!0),close:()=>I.api.toggle(!1),toggle(_){F.update(p=>_??!p)}},directives:{hasFocusDirective:A,floatingDirective:R,referenceDirective:be,inputContainerDirective:dt(ce,ge)},actions:{onInput({target:_}){const p=_.value;Xe(()=>{F.set(p!=null&&p!==""),M.set(p)})},onRemoveBadgeClick(_,p){se(_,p)},onInputKeydown(_){const{ctrlKey:p,key:w}=_;let N=!0;switch(w){case"ArrowDown":{F()?p?I.api.highlightLast():I.api.highlightNext():(I.api.open(),I.api.highlightFirst());break}case"ArrowUp":p?I.api.highlightFirst():I.api.highlightPrevious();break;case"Enter":{const T=q();T&&I.api.toggleItem(T.item);break}case"Escape":F.set(!1);break;default:N=!1}N&&_.preventDefault()},onBadgeKeydown(_,p){let w=!1;switch(_.key){case"Backspace":case"Delete":{se(_,p),w=!0;break}}w&&_.preventDefault()}}};return I}const wt=bt;function De(t,e,l){const s=t.slice();s[50]=e[l];const o=s[50]===s[13];s[51]=o;const n=s[50].selected;return s[52]=n,s}const vt=t=>({itemContext:t[1]&524288,state:t[1]&67108864,widget:t[1]&128}),Fe=t=>({itemContext:t[50],state:t[57],widget:t[38]}),Ct=t=>({itemContext:t[1]&524288,state:t[1]&67108864,widget:t[1]&128}),Se=t=>({itemContext:t[50],state:t[57],widget:t[38]}),$t=t=>t[1]&16777216,kt=t=>({}),Ne=t=>({...t[55]});function Te(t,e,l){const s=t.slice();return s[50]=e[l],s}const Lt=t=>({itemContext:t[1]&524288,state:t[1]&67108864,widget:t[1]&128}),Me=t=>({itemContext:t[50],state:t[57],widget:t[38]}),It=t=>({itemContext:t[1]&524288,state:t[1]&67108864,widget:t[1]&128}),Pe=t=>({itemContext:t[50],state:t[57],widget:t[38]}),Dt=t=>t[1]&16777216,Ft=t=>({}),Be=t=>({...t[55]});function St(t){let e;const l=t[43].badgeLabel,s=X(l,t,t[47],Me);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&67698816)&&Y(s,l,o,o[47],e?x(l,o[47],n,Lt):y(o[47]),Me)},i(o){e||($(s,o),e=!0)},o(o){D(s,o),e=!1},d(o){s&&s.d(o)}}}function Nt(t){let e;const l=t[43].item,s=X(l,t,t[47],Pe);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&67698816)&&Y(s,l,o,o[47],e?x(l,o[47],n,It):y(o[47]),Pe)},i(o){e||($(s,o),e=!0)},o(o){D(s,o),e=!1},d(o){s&&s.d(o)}}}function Tt(t){let e,l,s;const o=[t[55]];var n=t[56];function d(r,g){let i={$$slots:{item:[Nt,({itemContext:f,state:c,widget:a})=>({50:f,57:c,38:a}),({itemContext:f,state:c,widget:a})=>[0,(f?524288:0)|(c?67108864:0)|(a?128:0)]],badgeLabel:[St,({itemContext:f,state:c,widget:a})=>({50:f,57:c,38:a}),({itemContext:f,state:c,widget:a})=>[0,(f?524288:0)|(c?67108864:0)|(a?128:0)]]},$$scope:{ctx:r}};for(let f=0;f<o.length;f+=1)i=B(i,o[f]);return g!==void 0&&g[1]&16777216&&(i=B(i,H(o,[he(r[55])]))),{props:i}}return n&&(e=de(n,d(t))),{c(){e&&G(e.$$.fragment),l=qe()},m(r,g){e&&Z(e,r,g),Q(r,l,g),s=!0},p(r,g){if(g[1]&33554432&&n!==(n=r[56])){if(e){ae();const i=e;D(i.$$.fragment,1,0,()=>{J(i,1)}),ie()}n?(e=de(n,d(r,g)),G(e.$$.fragment),$(e.$$.fragment,1),Z(e,l.parentNode,l)):e=null}else if(n){const i=g[1]&16777216?H(o,[he(r[55])]):{};g[1]&67698816&&(i.$$scope={dirty:g,ctx:r}),e.$set(i)}},i(r){s||(e&&$(e.$$.fragment,r),s=!0)},o(r){e&&D(e.$$.fragment,r),s=!1},d(r){r&&V(l),e&&J(e,r)}}}function Mt(t){let e;const l=t[43].badgeLabel,s=X(l,t,t[47],Be);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&16842752)&&Y(s,l,o,o[47],Dt(n)||!e?y(o[47]):x(l,o[47],n,Ft),Be)},i(o){e||($(s,o),e=!0)},o(o){D(s,o),e=!1},d(o){s&&s.d(o)}}}function Ae(t,e){let l,s,o,n,d,r;s=new ze({props:{slotContent:e[6],props:{state:e[7],widget:e[38],itemContext:e[50]},$$slots:{slot:[Mt,({props:i})=>({55:i}),({props:i})=>[0,i?16777216:0]],default:[Tt,({component:i,props:f})=>({56:i,55:f}),({component:i,props:f})=>[0,(i?33554432:0)|(f?16777216:0)]]},$$scope:{ctx:e}}});function g(...i){return e[45](e[50],...i)}return{key:t,first:null,c(){l=j("div"),G(s.$$.fragment),C(l,"tabindex","-1"),C(l,"class",o=`au-select-badge me-1 ${e[5]}`),this.first=l},m(i,f){Q(i,l,f),Z(s,l,null),n=!0,d||(r=ne(l,"keydown",g),d=!0)},p(i,f){e=i;const c={};f[0]&64&&(c.slotContent=e[6]),f[0]&144&&(c.props={state:e[7],widget:e[38],itemContext:e[50]}),f[1]&50397184&&(c.$$scope={dirty:f,ctx:e}),s.$set(c),(!n||f[0]&32&&o!==(o=`au-select-badge me-1 ${e[5]}`))&&C(l,"class",o)},i(i){n||($(s.$$.fragment,i),n=!0)},o(i){D(s.$$.fragment,i),n=!1},d(i){i&&V(l),J(s),d=!1,r()}}}function Ee(t){let e,l=[],s=new Map,o,n,d,r,g=pe(t[10]);const i=a=>a[50].id;for(let a=0;a<g.length;a+=1){let h=De(t,g,a),k=i(h);s.set(k,l[a]=Oe(k,h))}let f=[{role:"listbox"},{id:t[1]},{"data-popper-placement":t[12]},{}],c={};for(let a=0;a<f.length;a+=1)c=B(c,f[a]);return{c(){e=j("ul");for(let a=0;a<l.length;a+=1)l[a].c();W(e,c)},m(a,h){Q(a,e,h);for(let k=0;k<l.length;k+=1)l[k]&&l[k].m(e,null);n=!0,d||(r=[K(t[35].call(null,e)),K(t[34].call(null,e)),K(o=ke.call(null,e,"dropdown-menu show "+t[11])),ne(e,"mousedown",tt(t[44]))],d=!0)},p(a,h){h[0]&58496|h[1]&118030464&&(g=pe(a[10]),ae(),l=Ke(l,h,i,1,a,g,s,e,Re,Oe,null,De),ie()),W(e,c=H(f,[{role:"listbox"},(!n||h[0]&2)&&{id:a[1]},(!n||h[0]&4096)&&{"data-popper-placement":a[12]},h[0]&2048&&{}])),o&&He(o.update)&&h[0]&2048&&o.update.call(null,"dropdown-menu show "+a[11])},i(a){if(!n){for(let h=0;h<g.length;h+=1)$(l[h]);n=!0}},o(a){for(let h=0;h<l.length;h+=1)D(l[h]);n=!1},d(a){a&&V(e);for(let h=0;h<l.length;h+=1)l[h].d();d=!1,Ue(r)}}}function Pt(t){let e;const l=t[43].badgeLabel,s=X(l,t,t[47],Fe);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&67698816)&&Y(s,l,o,o[47],e?x(l,o[47],n,vt):y(o[47]),Fe)},i(o){e||($(s,o),e=!0)},o(o){D(s,o),e=!1},d(o){s&&s.d(o)}}}function Bt(t){let e;const l=t[43].item,s=X(l,t,t[47],Se);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&67698816)&&Y(s,l,o,o[47],e?x(l,o[47],n,Ct):y(o[47]),Se)},i(o){e||($(s,o),e=!0)},o(o){D(s,o),e=!1},d(o){s&&s.d(o)}}}function At(t){let e,l,s;const o=[t[55]];var n=t[56];function d(r,g){let i={$$slots:{item:[Bt,({itemContext:f,state:c,widget:a})=>({50:f,57:c,38:a}),({itemContext:f,state:c,widget:a})=>[0,(f?524288:0)|(c?67108864:0)|(a?128:0)]],badgeLabel:[Pt,({itemContext:f,state:c,widget:a})=>({50:f,57:c,38:a}),({itemContext:f,state:c,widget:a})=>[0,(f?524288:0)|(c?67108864:0)|(a?128:0)]]},$$scope:{ctx:r}};for(let f=0;f<o.length;f+=1)i=B(i,o[f]);return g!==void 0&&g[1]&16777216&&(i=B(i,H(o,[he(r[55])]))),{props:i}}return n&&(e=de(n,d(t))),{c(){e&&G(e.$$.fragment),l=qe()},m(r,g){e&&Z(e,r,g),Q(r,l,g),s=!0},p(r,g){if(g[1]&33554432&&n!==(n=r[56])){if(e){ae();const i=e;D(i.$$.fragment,1,0,()=>{J(i,1)}),ie()}n?(e=de(n,d(r,g)),G(e.$$.fragment),$(e.$$.fragment,1),Z(e,l.parentNode,l)):e=null}else if(n){const i=g[1]&16777216?H(o,[he(r[55])]):{};g[1]&67698816&&(i.$$scope={dirty:g,ctx:r}),e.$set(i)}},i(r){s||(e&&$(e.$$.fragment,r),s=!0)},o(r){e&&D(e.$$.fragment,r),s=!1},d(r){r&&V(l),e&&J(e,r)}}}function Et(t){let e;const l=t[43].item,s=X(l,t,t[47],Ne);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&16842752)&&Y(s,l,o,o[47],$t(n)||!e?y(o[47]):x(l,o[47],n,kt),Ne)},i(o){e||($(s,o),e=!0)},o(o){D(s,o),e=!1},d(o){s&&s.d(o)}}}function Oe(t,e){let l,s,o,n,d,r,g,i;s=new ze({props:{slotContent:e[15],props:{state:e[7],widget:e[38],itemContext:e[50]},$$slots:{slot:[Et,({props:c})=>({55:c}),({props:c})=>[0,c?16777216:0]],default:[At,({component:c,props:a})=>({56:c,55:a}),({component:c,props:a})=>[0,(c?33554432:0)|(a?16777216:0)]]},$$scope:{ctx:e}}});function f(){return e[46](e[50])}return{key:t,first:null,c(){l=j("li"),G(s.$$.fragment),o=$e(),C(l,"role","option"),C(l,"aria-selected",n=e[52]),C(l,"class",d=`au-select-item dropdown-item position-relative ${e[14]}`),me(l,"text-bg-primary",e[51]),me(l,"selected",e[52]),st(l,"cursor","pointer"),this.first=l},m(c,a){Q(c,l,a),Z(s,l,null),oe(l,o),r=!0,g||(i=ne(l,"click",f),g=!0)},p(c,a){e=c;const h={};a[0]&32768&&(h.slotContent=e[15]),a[0]&1152&&(h.props={state:e[7],widget:e[38],itemContext:e[50]}),a[1]&50397184&&(h.$$scope={dirty:a,ctx:e}),s.$set(h),(!r||a[0]&1024&&n!==(n=e[52]))&&C(l,"aria-selected",n),(!r||a[0]&16384&&d!==(d=`au-select-item dropdown-item position-relative ${e[14]}`))&&C(l,"class",d),(!r||a[0]&25600)&&me(l,"text-bg-primary",e[51]),(!r||a[0]&17408)&&me(l,"selected",e[52])},i(c){r||($(s.$$.fragment,c),r=!0)},o(c){D(s.$$.fragment,c),r=!1},d(c){c&&V(l),J(s),g=!1,i()}}}function Ot(t){let e,l,s=[],o=new Map,n,d,r,g,i,f,c,a=pe(t[4]);const h=m=>m[50].id;for(let m=0;m<a.length;m+=1){let b=Te(t,a,m),L=h(b);o.set(L,s[m]=Ae(L,b))}let k=[{role:"combobox"},{"aria-controls":t[1]},{"aria-haspopup":"listbox"},{"aria-expanded":t[3]},{}],M={};for(let m=0;m<k.length;m+=1)M=B(M,k[m]);let v=t[3]&&t[10].length>0&&Ee(t),A=[{}],F={};for(let m=0;m<A.length;m+=1)F=B(F,A[m]);return{c(){e=j("div"),l=j("div");for(let m=0;m<s.length;m+=1)s[m].c();n=$e(),d=j("input"),r=$e(),v&&v.c(),C(d,"id",t[0]),C(d,"aria-label",t[8]),C(d,"type","text"),C(d,"class","au-select-input flex-grow-1 border-0"),d.value=t[9],C(d,"aria-autocomplete","list"),C(d,"autocorrect","off"),C(d,"autocapitalize","none"),C(d,"autocomplete","off"),W(l,M),W(e,F)},m(m,b){Q(m,e,b),oe(e,l);for(let L=0;L<s.length;L+=1)s[L]&&s[L].m(l,null);oe(l,n),oe(l,d),oe(e,r),v&&v.m(e,null),i=!0,f||(c=[ne(d,"input",t[31]),ne(d,"keydown",t[32]),K(t[35].call(null,l)),K(t[37].call(null,l)),K(ke.call(null,l,"d-flex align-items-center flex-wrap")),K(t[36].call(null,e)),K(g=ke.call(null,e,"au-select dropdown border border-1 p-1 mb-3 d-block "+t[2]))],f=!0)},p(m,b){b[0]&240|b[1]&118030468&&(a=pe(m[4]),ae(),s=Ke(s,b,h,1,m,a,o,l,Re,Ae,n,Te),ie()),(!i||b[0]&1)&&C(d,"id",m[0]),(!i||b[0]&256)&&C(d,"aria-label",m[8]),(!i||b[0]&512&&d.value!==m[9])&&(d.value=m[9]),W(l,M=H(k,[{role:"combobox"},(!i||b[0]&2)&&{"aria-controls":m[1]},{"aria-haspopup":"listbox"},(!i||b[0]&8)&&{"aria-expanded":m[3]},{}])),m[3]&&m[10].length>0?v?(v.p(m,b),b[0]&1032&&$(v,1)):(v=Ee(m),v.c(),$(v,1),v.m(e,null)):v&&(ae(),D(v,1,1,()=>{v=null}),ie()),W(e,F=H(A,[b[0]&4&&{}])),g&&He(g.update)&&b[0]&4&&g.update.call(null,"au-select dropdown border border-1 p-1 mb-3 d-block "+m[2])},i(m){if(!i){for(let b=0;b<a.length;b+=1)$(s[b]);$(v),i=!0}},o(m){for(let b=0;b<s.length;b+=1)D(s[b]);D(v),i=!1},d(m){m&&V(e);for(let b=0;b<s.length;b+=1)s[b].d();v&&v.d(),f=!1,Ue(c)}}}function Kt(t,e,l){let s,o,n,d,r,g,i,f,c,a,h,k,M,v,A,F,{$$slots:m={},$$scope:b}=e;const L=et(m);let{open:U=!1}=e,{filterText:E=void 0}=e,{selected:q=void 0}=e;const R=ot({factory:wt,widgetName:"select",$$slots:L,$$props:e,events:{onOpenChange(u){l(39,U=u)},onSelectedChange:u=>{l(41,q=u)},onFilterTextChange:u=>{l(40,E=u)}}}),be=R.api,{stores:{id$:re,ariaLabel$:ce,badgeClassName$:ue,className$:fe,filterText$:_e,highlighted$:ee,menuClassName$:te,menuItemClassName$:ge,open$:se,placement$:I,selectedContexts$:_,slotBadgeLabel$:p,slotItem$:w,visibleItems$:N},state$:T,actions:{onInput:z,onInputKeydown:P,onBadgeKeydown:le},directives:{floatingDirective:we,hasFocusDirective:ve,referenceDirective:We,inputContainerDirective:je}}=R;S(t,re,u=>l(0,o=u)),S(t,ce,u=>l(8,c=u)),S(t,ue,u=>l(5,g=u)),S(t,fe,u=>l(2,n=u)),S(t,_e,u=>l(9,a=u)),S(t,ee,u=>l(13,v=u)),S(t,te,u=>l(11,k=u)),S(t,ge,u=>l(14,A=u)),S(t,se,u=>l(3,d=u)),S(t,I,u=>l(12,M=u)),S(t,_,u=>l(4,r=u)),S(t,p,u=>l(6,i=u)),S(t,w,u=>l(15,F=u)),S(t,N,u=>l(10,h=u)),S(t,T,u=>l(7,f=u));function Ge(u){lt.call(this,t,u)}const Ze=(u,Qe)=>le(Qe,u.item),Je=u=>R.api.toggleItem(u.item);return t.$$set=u=>{l(48,e=B(B({},e),Ie(u))),"open"in u&&l(39,U=u.open),"filterText"in u&&l(40,E=u.filterText),"selected"in u&&l(41,q=u.selected),"$$scope"in u&&l(47,b=u.$$scope)},t.$$.update=()=>{R.patchChangedProps(e),t.$$.dirty[0]&1&&l(1,s=`${o}-menu`)},e=Ie(e),[o,s,n,d,r,g,i,f,c,a,h,k,M,v,A,F,re,ce,ue,fe,_e,ee,te,ge,se,I,_,p,w,N,T,z,P,le,we,ve,We,je,R,U,E,q,be,m,Ge,Ze,Je,b]}class Rt extends Ye{constructor(e){super(),ye(this,e,Kt,Ot,xe,{open:39,filterText:40,selected:41,api:42},null,[-1,-1])}get api(){return this.$$.ctx[42]}}const Gt=Rt;export{Gt as S};
