import{h as a,ae as c,g as b,Y as o,U as g,af as l,ag as d,ah as m}from"./AppCommon-DE0E2XGg.js";function h(e){a(e,e.v+1)}function k(e){let t=0,n=d(0),r;return()=>{c()&&(b(n),o(()=>(t===0&&(r=g(()=>e(()=>h(n)))),t+=1,()=>{l().then(()=>{t-=1,t===0&&(r==null||r(),r=void 0)})})))}}function S(e){let t;const n=k(u=>{let s=!1;const i=e.subscribe(f=>{t=f,s&&u()});return s=!0,i});function r(){return c()?(n(),t):m(e)}return"set"in e?{get current(){return r()},set current(u){e.set(u)}}:{get current(){return r()}}}export{k as c,S as f};
