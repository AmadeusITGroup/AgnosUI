import{H as B,I as Je,a7 as ke,aa as Qe,S as Ye,i as Ze,s as Ge,R as _e,e as H,k as $e,a as h,b as W,r as y,u as ee,y as x,z as te,Y as Oe,Z as Ke,B as se,t as $,d as v,f as j,x as Ae,O as Ve,h as L,C as ge,N as ve,c as q,m as z,g as U,ag as Xe,q as me,ae as ye,Q as de,p as Re,D as pe,E as he,J,K as Q,L as Y,M as Z}from"./AppCommon-Dw3RKqGG.js";import{c as xe}from"./config-RtIMwF9p.js";import{c as et,o as tt,a as st,b as lt}from"./floatingUI-sUR2hlW4.js";import{c as nt}from"./focustrack-0V0xYyuA.js";import{c as ot}from"./navManager-wjEDJeNE.js";import{a as at}from"./directive-zuhkEDBc.js";import{g as it}from"./dom-HY1qC9Vk.js";import{n as Ce}from"./func-tK0QDe5R.js";import{w as rt,c as ct,b as ft,s as ut}from"./stores-N5TxhjnF.js";import{S as He}from"./Slot-t2sXaz_w.js";const mt=t=>""+t,_t={id:void 0,ariaLabel:"Select",open:!1,disabled:!1,items:[],filterText:"",loading:!1,selected:[],navSelector:t=>t.querySelectorAll(".au-select-badge,input"),itemIdFn:mt,onOpenChange:Ce,onFilterTextChange:Ce,onSelectedChange:Ce,allowedPlacements:["bottom-start","top-start","bottom-end","top-end"],className:"",menuClassName:"",menuItemClassName:"",badgeClassName:"",slotBadgeLabel:({itemContext:t})=>t.item,slotItem:({itemContext:t})=>t.item};function gt(t){const[{id$:e,open$:l,filterText$:s,items$:n,itemIdFn$:o,onOpenChange$:d,onFilterTextChange$:c,onSelectedChange$:_,allowedPlacements$:r,navSelector$:i,...a},m]=rt(_t,t),{selected$:I}=a,C=B(()=>e()??it()),p=ct(s,c),{hasFocus$:b,directive:N}=nt(),S=ft(d,[l,b],([u,g])=>u&&g),E=B(()=>{const u=new Map,g=o();for(const w of I()){const F=g(w);u.set(F,{item:w,id:g(w),selected:!0})}return u}),le=B(()=>[...E().values()]),M=function(){const u=Je(0);return ke(u,g=>{const{length:w}=P();g!=null&&(w?g<0?g=w-1:g>=w&&(g=0):g=void 0),u.set(g)})}(),O=B(()=>{const u=new Map;if(S()){const g=E(),w=o();for(const F of n()){const D=w(F);u.set(D,{item:F,id:D,selected:g.has(D)})}}return u}),P=B(()=>S()?[...O().values()]:[]),K=B(()=>{const u=P(),g=M();return u.length&&g!=null?u[g]:void 0}),{directives:{floatingDirective:A,referenceDirective:ne},stores:{placement$:oe}}=et({props:{computePositionOptions:ke(B(()=>({middleware:[tt(5),st({allowedPlacements:r()}),lt()]})))}}),{directive:ae,refreshElements:ie,focusFirst:re,focusLast:ce,focusLeft:G,focusRight:V}=ot(),fe=B(()=>({keys:{Home:re,End:ce,ArrowLeft:G,ArrowRight:V},selector:i()})),X=(u,g)=>{const w=u.target;ie(),k.api.unselect(g),w instanceof HTMLElement&&setTimeout(()=>{G({event:u,referenceElement:w})||V({event:u,referenceElement:w})}),u.preventDefault()},k={...ut({id$:C,visibleItems$:P,highlighted$:K,open$:S,selectedContexts$:le,filterText$:p,placement$:oe,...a}),patch:m,api:{clear(){I.set([])},select(u){k.api.toggleItem(u,!0)},unselect(u){k.api.toggleItem(u,!1)},toggleItem(u,g){const w=o(),F=w(u),R=E().has(F);g==null&&(g=!R),!(g&&!O().has(F)||!g&&!R)&&I.update(T=>{var ue;if(T=[...T],g&&!R)T.push(u);else if(!g&&R){const be=T.findIndex(we=>w(we)===F);T.splice(be,1)}return(ue=_())==null||ue(T),T})},clearText(){},highlight(u){const g=P().findIndex(w=>w.item===u);M.set(g===-1?void 0:g)},highlightFirst(){M.set(0)},highlightPrevious(){M.update(u=>u!=null?u-1:-1)},highlightNext(){M.update(u=>u!=null?u+1:1/0)},highlightLast(){M.set(-1)},open:()=>k.api.toggle(!0),close:()=>k.api.toggle(!1),toggle(u){S.update(g=>u??!g)}},directives:{hasFocusDirective:N,floatingDirective:A,referenceDirective:ne,inputContainerDirective:at(ae,fe)},actions:{onInput({target:u}){const g=u.value;Qe(()=>{S.set(g!=null&&g!==""),p.set(g)})},onRemoveBadgeClick(u,g){X(u,g)},onInputKeydown(u){const{ctrlKey:g,key:w}=u;let F=!0;switch(w){case"ArrowDown":{S()?g?k.api.highlightLast():k.api.highlightNext():(k.api.open(),k.api.highlightFirst());break}case"ArrowUp":g?k.api.highlightFirst():k.api.highlightPrevious();break;case"Enter":{const D=K();D&&k.api.toggleItem(D.item);break}case"Escape":S.set(!1);break;default:F=!1}F&&u.preventDefault()},onBadgeKeydown(u,g){let w=!1;switch(u.key){case"Backspace":case"Delete":{X(u,g),w=!0;break}}w&&u.preventDefault()}}};return k}const dt=gt;function Le(t,e,l){const s=t.slice();s[49]=e[l];const n=s[49]===s[13];s[50]=n;const o=s[49].selected;return s[51]=o,s}const pt=t=>({itemContext:t[1]&262144,state:t[1]&33554432,widget:t[1]&128}),Ie=t=>({slot:"badgeLabel",itemContext:t[49],state:t[56],widget:t[38]}),ht=t=>({itemContext:t[1]&262144,state:t[1]&33554432,widget:t[1]&128}),Fe=t=>({slot:"item",itemContext:t[49],state:t[56],widget:t[38]}),bt=t=>t[1]&8388608,wt=t=>({}),Ne=t=>({slot:"slot",...t[54]});function Se(t,e,l){const s=t.slice();return s[49]=e[l],s}const Ct=t=>({itemContext:t[1]&262144,state:t[1]&33554432,widget:t[1]&128}),De=t=>({slot:"badgeLabel",itemContext:t[49],state:t[56],widget:t[38]}),$t=t=>({itemContext:t[1]&262144,state:t[1]&33554432,widget:t[1]&128}),Te=t=>({slot:"item",itemContext:t[49],state:t[56],widget:t[38]}),kt=t=>t[1]&8388608,vt=t=>({}),Me=t=>({slot:"slot",...t[54]});function Lt(t){let e;const l=t[42].badgeLabel,s=J(l,t,t[46],De);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&33849472)&&Q(s,l,n,n[46],e?Z(l,n[46],o,Ct):Y(n[46]),De)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function It(t){let e;const l=t[42].item,s=J(l,t,t[46],Te);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&33849472)&&Q(s,l,n,n[46],e?Z(l,n[46],o,$t):Y(n[46]),Te)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function Ft(t){let e,l,s;const n=[t[54]];var o=t[55];function d(c,_){let r={$$slots:{item:[It,({widget:i,state:a,itemContext:m})=>({38:i,56:a,49:m}),({widget:i,state:a,itemContext:m})=>[0,(i?128:0)|(a?33554432:0)|(m?262144:0)]],badgeLabel:[Lt,({widget:i,state:a,itemContext:m})=>({38:i,56:a,49:m}),({widget:i,state:a,itemContext:m})=>[0,(i?128:0)|(a?33554432:0)|(m?262144:0)]]},$$scope:{ctx:c}};if(_!==void 0&&_[1]&8388608)r=pe(n,[he(c[54])]);else for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{props:r}}return o&&(e=de(o,d(t))),{c(){e&&q(e.$$.fragment),l=Re()},m(c,_){e&&z(e,c,_),W(c,l,_),s=!0},p(c,_){if(_[1]&16777216&&o!==(o=c[55])){if(e){te();const r=e;v(r.$$.fragment,1,0,()=>{U(r,1)}),se()}o?(e=de(o,d(c,_)),q(e.$$.fragment),$(e.$$.fragment,1),z(e,l.parentNode,l)):e=null}else if(o){const r=_[1]&8388608?pe(n,[he(c[54])]):{};_[1]&33849472&&(r.$$scope={dirty:_,ctx:c}),e.$set(r)}},i(c){s||(e&&$(e.$$.fragment,c),s=!0)},o(c){e&&v(e.$$.fragment,c),s=!1},d(c){c&&j(l),e&&U(e,c)}}}function Nt(t){let e;const l=t[42].badgeLabel,s=J(l,t,t[46],Me);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&8421376)&&Q(s,l,n,n[46],kt(o)||!e?Y(n[46]):Z(l,n[46],o,vt),Me)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function Pe(t,e){let l,s,n,o,d,c;s=new He({props:{slotContent:e[6],props:{state:e[7],widget:e[38],itemContext:e[49]},$$slots:{slot:[Nt,({props:r})=>({54:r}),({props:r})=>[0,r?8388608:0]],default:[Ft,({component:r,props:i})=>({55:r,54:i}),({component:r,props:i})=>[0,(r?16777216:0)|(i?8388608:0)]]},$$scope:{ctx:e}}});function _(...r){return e[44](e[49],...r)}return{key:t,first:null,c(){l=H("div"),q(s.$$.fragment),h(l,"tabindex","-1"),h(l,"class",n=`au-select-badge me-1 ${e[5]}`),this.first=l},m(r,i){W(r,l,i),z(s,l,null),o=!0,d||(c=ee(l,"keydown",_),d=!0)},p(r,i){e=r;const a={};i[0]&64&&(a.slotContent=e[6]),i[0]&144&&(a.props={state:e[7],widget:e[38],itemContext:e[49]}),i[1]&25198592&&(a.$$scope={dirty:i,ctx:e}),s.$set(a),(!o||i[0]&32&&n!==(n=`au-select-badge me-1 ${e[5]}`))&&h(l,"class",n)},i(r){o||($(s.$$.fragment,r),o=!0)},o(r){v(s.$$.fragment,r),o=!1},d(r){r&&j(l),U(s),d=!1,c()}}}function Be(t){let e,l=[],s=new Map,n,o,d,c,_=_e(t[10]);const r=i=>i[49].id;for(let i=0;i<_.length;i+=1){let a=Le(t,_,i),m=r(a);s.set(m,l[i]=Ee(m,a))}return{c(){e=H("ul");for(let i=0;i<l.length;i+=1)l[i].c();h(e,"role","listbox"),h(e,"id",t[1]),h(e,"class",n="dropdown-menu show "+t[11]),h(e,"data-popper-placement",t[12])},m(i,a){W(i,e,a);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);o=!0,d||(c=[x(t[35].call(null,e)),x(t[34].call(null,e)),ee(e,"mousedown",Xe(t[43]))],d=!0)},p(i,a){a[0]&58496|a[1]&59015296&&(_=_e(i[10]),te(),l=Oe(l,a,r,1,i,_,s,e,Ke,Ee,null,Le),se()),(!o||a[0]&2)&&h(e,"id",i[1]),(!o||a[0]&2048&&n!==(n="dropdown-menu show "+i[11]))&&h(e,"class",n),(!o||a[0]&4096)&&h(e,"data-popper-placement",i[12])},i(i){if(!o){for(let a=0;a<_.length;a+=1)$(l[a]);o=!0}},o(i){for(let a=0;a<l.length;a+=1)v(l[a]);o=!1},d(i){i&&j(e);for(let a=0;a<l.length;a+=1)l[a].d();d=!1,Ae(c)}}}function St(t){let e;const l=t[42].badgeLabel,s=J(l,t,t[46],Ie);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&33849472)&&Q(s,l,n,n[46],e?Z(l,n[46],o,pt):Y(n[46]),Ie)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function Dt(t){let e;const l=t[42].item,s=J(l,t,t[46],Fe);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&33849472)&&Q(s,l,n,n[46],e?Z(l,n[46],o,ht):Y(n[46]),Fe)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function Tt(t){let e,l,s;const n=[t[54]];var o=t[55];function d(c,_){let r={$$slots:{item:[Dt,({widget:i,state:a,itemContext:m})=>({38:i,56:a,49:m}),({widget:i,state:a,itemContext:m})=>[0,(i?128:0)|(a?33554432:0)|(m?262144:0)]],badgeLabel:[St,({widget:i,state:a,itemContext:m})=>({38:i,56:a,49:m}),({widget:i,state:a,itemContext:m})=>[0,(i?128:0)|(a?33554432:0)|(m?262144:0)]]},$$scope:{ctx:c}};if(_!==void 0&&_[1]&8388608)r=pe(n,[he(c[54])]);else for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{props:r}}return o&&(e=de(o,d(t))),{c(){e&&q(e.$$.fragment),l=Re()},m(c,_){e&&z(e,c,_),W(c,l,_),s=!0},p(c,_){if(_[1]&16777216&&o!==(o=c[55])){if(e){te();const r=e;v(r.$$.fragment,1,0,()=>{U(r,1)}),se()}o?(e=de(o,d(c,_)),q(e.$$.fragment),$(e.$$.fragment,1),z(e,l.parentNode,l)):e=null}else if(o){const r=_[1]&8388608?pe(n,[he(c[54])]):{};_[1]&33849472&&(r.$$scope={dirty:_,ctx:c}),e.$set(r)}},i(c){s||(e&&$(e.$$.fragment,c),s=!0)},o(c){e&&v(e.$$.fragment,c),s=!1},d(c){c&&j(l),e&&U(e,c)}}}function Mt(t){let e;const l=t[42].item,s=J(l,t,t[46],Ne);return{c(){s&&s.c()},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o[1]&8421376)&&Q(s,l,n,n[46],bt(o)||!e?Y(n[46]):Z(l,n[46],o,wt),Ne)},i(n){e||($(s,n),e=!0)},o(n){v(s,n),e=!1},d(n){s&&s.d(n)}}}function Ee(t,e){let l,s,n,o,d,c,_,r;s=new He({props:{slotContent:e[15],props:{state:e[7],widget:e[38],itemContext:e[49]},$$slots:{slot:[Mt,({props:a})=>({54:a}),({props:a})=>[0,a?8388608:0]],default:[Tt,({component:a,props:m})=>({55:a,54:m}),({component:a,props:m})=>[0,(a?16777216:0)|(m?8388608:0)]]},$$scope:{ctx:e}}});function i(){return e[45](e[49])}return{key:t,first:null,c(){l=H("li"),q(s.$$.fragment),n=$e(),h(l,"role","option"),h(l,"aria-selected",o=e[51]),h(l,"class",d=`au-select-item dropdown-item position-relative ${e[14]}`),me(l,"text-bg-primary",e[50]),me(l,"selected",e[51]),this.first=l},m(a,m){W(a,l,m),z(s,l,null),y(l,n),c=!0,_||(r=ee(l,"click",i),_=!0)},p(a,m){e=a;const I={};m[0]&32768&&(I.slotContent=e[15]),m[0]&1152&&(I.props={state:e[7],widget:e[38],itemContext:e[49]}),m[1]&25198592&&(I.$$scope={dirty:m,ctx:e}),s.$set(I),(!c||m[0]&1024&&o!==(o=e[51]))&&h(l,"aria-selected",o),(!c||m[0]&16384&&d!==(d=`au-select-item dropdown-item position-relative ${e[14]}`))&&h(l,"class",d),(!c||m[0]&25600)&&me(l,"text-bg-primary",e[50]),(!c||m[0]&17408)&&me(l,"selected",e[51])},i(a){c||($(s.$$.fragment,a),c=!0)},o(a){v(s.$$.fragment,a),c=!1},d(a){a&&j(l),U(s),_=!1,r()}}}function Pt(t){let e,l,s=[],n=new Map,o,d,c,_,r,i,a,m=_e(t[4]);const I=p=>p[49].id;for(let p=0;p<m.length;p+=1){let b=Se(t,m,p),N=I(b);n.set(N,s[p]=Pe(N,b))}let C=t[3]&&t[10].length>0&&Be(t);return{c(){e=H("div"),l=H("div");for(let p=0;p<s.length;p+=1)s[p].c();o=$e(),d=H("input"),c=$e(),C&&C.c(),h(d,"id",t[0]),h(d,"aria-label",t[8]),h(d,"type","text"),h(d,"class","au-select-input flex-grow-1 border-0"),d.value=t[9],h(d,"aria-autocomplete","list"),h(d,"autocorrect","off"),h(d,"autocapitalize","none"),h(d,"autocomplete","off"),h(l,"role","combobox"),h(l,"class","d-flex align-items-center flex-wrap"),h(l,"aria-controls",t[1]),h(l,"aria-haspopup","listbox"),h(l,"aria-expanded",t[3]),h(e,"class",_="au-select dropdown border border-1 p-1 mb-3 d-block "+t[2])},m(p,b){W(p,e,b),y(e,l);for(let N=0;N<s.length;N+=1)s[N]&&s[N].m(l,null);y(l,o),y(l,d),y(e,c),C&&C.m(e,null),r=!0,i||(a=[ee(d,"input",t[31]),ee(d,"keydown",t[32]),x(t[35].call(null,l)),x(t[37].call(null,l)),x(t[36].call(null,e))],i=!0)},p(p,b){b[0]&240|b[1]&59015300&&(m=_e(p[4]),te(),s=Oe(s,b,I,1,p,m,n,l,Ke,Pe,o,Se),se()),(!r||b[0]&1)&&h(d,"id",p[0]),(!r||b[0]&256)&&h(d,"aria-label",p[8]),(!r||b[0]&512&&d.value!==p[9])&&(d.value=p[9]),(!r||b[0]&2)&&h(l,"aria-controls",p[1]),(!r||b[0]&8)&&h(l,"aria-expanded",p[3]),p[3]&&p[10].length>0?C?(C.p(p,b),b[0]&1032&&$(C,1)):(C=Be(p),C.c(),$(C,1),C.m(e,null)):C&&(te(),v(C,1,1,()=>{C=null}),se()),(!r||b[0]&4&&_!==(_="au-select dropdown border border-1 p-1 mb-3 d-block "+p[2]))&&h(e,"class",_)},i(p){if(!r){for(let b=0;b<m.length;b+=1)$(s[b]);$(C),r=!0}},o(p){for(let b=0;b<s.length;b+=1)v(s[b]);v(C),r=!1},d(p){p&&j(e);for(let b=0;b<s.length;b+=1)s[b].d();C&&C.d(),i=!1,Ae(a)}}}function Bt(t,e,l){let s,n,o,d,c,_,r,i,a,m,I,C,p,b,N,S,{$$slots:E={},$$scope:le}=e;const M=Ve(E);let{open:O=!1}=e,{filterText:P=void 0}=e,{selected:K=void 0}=e;const A=xe({factory:dt,widgetName:"select",$$slots:M,$$props:e,events:{onOpenChange(f){l(39,O=f)},onSelectedChange:f=>{l(41,K=f)},onFilterTextChange:f=>{l(40,P=f)}}}),{stores:{id$:ne,ariaLabel$:oe,badgeClassName$:ae,className$:ie,filterText$:re,highlighted$:ce,menuClassName$:G,menuItemClassName$:V,open$:fe,placement$:X,selectedContexts$:k,slotBadgeLabel$:u,slotItem$:g,visibleItems$:w},state$:F,actions:{onInput:D,onInputKeydown:R,onBadgeKeydown:T},directives:{floatingDirective:ue,hasFocusDirective:be,referenceDirective:we,inputContainerDirective:qe}}=A;L(t,ne,f=>l(0,n=f)),L(t,oe,f=>l(8,a=f)),L(t,ae,f=>l(5,_=f)),L(t,ie,f=>l(2,o=f)),L(t,re,f=>l(9,m=f)),L(t,ce,f=>l(13,b=f)),L(t,G,f=>l(11,C=f)),L(t,V,f=>l(14,N=f)),L(t,fe,f=>l(3,d=f)),L(t,X,f=>l(12,p=f)),L(t,k,f=>l(4,c=f)),L(t,u,f=>l(6,r=f)),L(t,g,f=>l(15,S=f)),L(t,w,f=>l(10,I=f)),L(t,F,f=>l(7,i=f));function ze(f){ye.call(this,t,f)}const Ue=(f,je)=>T(je,f.item),We=f=>A.api.toggleItem(f.item);return t.$$set=f=>{l(47,e=ge(ge({},e),ve(f))),"open"in f&&l(39,O=f.open),"filterText"in f&&l(40,P=f.filterText),"selected"in f&&l(41,K=f.selected),"$$scope"in f&&l(46,le=f.$$scope)},t.$$.update=()=>{A.patchChangedProps(e),t.$$.dirty[0]&1&&l(1,s=`${n}-menu`)},e=ve(e),[n,s,o,d,c,_,r,i,a,m,I,C,p,b,N,S,ne,oe,ae,ie,re,ce,G,V,fe,X,k,u,g,w,F,D,R,T,ue,be,we,qe,A,O,P,K,E,ze,Ue,We,le]}class Et extends Ye{constructor(e){super(),Ze(this,e,Bt,Pt,Ge,{open:39,filterText:40,selected:41},null,[-1,-1])}}const Jt=Et;export{Jt as S};
