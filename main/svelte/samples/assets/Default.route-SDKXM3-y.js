import{n as w,p as A,O as W,K as q,t as c,d as m,b as O,e as C,h as y,j as x,c as n,a as E,m as z,a3 as D,i as G}from"./AppCommon-CsXJDRZ3.js";import{s as H}from"./snippet-B5aMU-E6.js";import{a as p}from"./actions-kl0KjzIn.js";import{c as I}from"./config-TUPcxXVO.js";import{c as J}from"./modal-D3wGIDlj-DNTKVJQY.js";import{c as M}from"./dom-gfxqXJpK-BenLeVwg.js";import"./stores-BElQIA3m.js";import"./index-client-BaNbKOMT.js";import"./writables-CgpOQ4hA-DwO4tqpW.js";import"./baseTransitions-Bdi_u5YA.js";import"./promise-XSP94FjG-Bz_ckb1K.js";import"./widget-DeVncyQM.js";var L=c('<form method="dialog"><button>✕</button></form>'),N=c('<form method="dialog" class="modal-backdrop"><button>Close</button></form>'),Q=c('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function R(a,t){A(t,!0);let e=W(t,"visible",15),f=q(t,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:j,directives:{closeButtonDirective:u,dialogDirective:b},api:B}=I(J,{get props(){return{visible:e(),closeOnOutsideClick:t.closeOnOutsideClick,...f}},defaultConfig:{closeButton:!0},events:{onVisibleChange:o=>{e(o)}}}),v=B;var l=Q();let _;var g=m(l),h=m(g);H(h,()=>t.children);var F=O(h,2);{var K=o=>{var r=L(),s=m(r);let d;p(s,(i,V)=>{var k;return(k=M)==null?void 0:k(i,V)},()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),p(s,i=>u==null?void 0:u(i)),y(i=>d=x(s,d,{...i}),[()=>({})]),n(o,r)};C(F,o=>{j.closeButton&&o(K)})}var P=O(g,2);{var S=o=>{var r=N(),s=m(r);s.__click=function(...d){var i;(i=v.close)==null||i.apply(this,d)},n(o,r)};C(P,o=>{t.closeOnOutsideClick&&o(S)})}return p(l,(o,r)=>{var s;return(s=M)==null?void 0:s(o,r)},()=>"modal modal-bottom sm:modal-middle"),p(l,o=>b==null?void 0:b(o)),y(o=>_=x(l,_,{onclose:v.close,...o}),[()=>({})]),n(a,l),E({api:v})}w(["click"]);async function T(a){const t=document.createElement("div");document.body.append(t);const e=z(R,{target:t,props:a});try{return await e.api.open()}catch{t.remove(),await D(e)}}const U=a=>{var t=Y();n(a,t)},X=(a,t)=>T({children:t,closeOnOutsideClick:!0});var Y=c('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),Z=c('<button class="btn" aria-haspopup="dialog">Open modal</button>');function mt(a,t){A(t,!1),G();var e=Z();e.__click=[X,U],n(a,e),E()}w(["click"]);export{mt as default};
