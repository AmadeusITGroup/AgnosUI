import{h as B,p as A,M as V,s as C,c as O,d as y,b as n,a as E,t as c,L as W,e as m,l as w,g as D,q as M,m as j,a0 as z,i as G}from"./AppCommon-DP2utHPF.js";import{s as H}from"./snippet-CpZ0a9Mm.js";import{a as u}from"./actions-DrwIzhOO.js";import{c as I}from"./config-B5mXcbCA.js";import{c as J}from"./modal-DP-4I7vf-BnB_vCn5.js";import{c as x}from"./directive-CKEccryv-BFmMCvZ2.js";import"./index-client-U6W4bQpJ.js";import"./writables-DCiBdIBK-DCvGaMs2.js";import"./baseTransitions-PVnSmaGt.js";import"./promise-CY2U8bTP-CFFafMrR.js";var K=c('<form method="dialog"><button>✕</button></form>'),Q=c('<form method="dialog" class="modal-backdrop"><button>Close</button></form>'),R=c('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function T(s,t){A(t,!0);let e=V(t,"visible",15),d=W(t,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:p,directives:{closeButtonDirective:b,dialogDirective:P},api:q}=I({factory:J,widgetName:"modal",get props(){return{visible:e(),closeOnOutsideClick:t.closeOnOutsideClick,...d}},enablePatchChanged:!0,defaultConfig:{closeButton:!0},events:{onVisibleChange:o=>{e(o)}}}),v=q;var i=R();const F=M(()=>({}));let _;var h=m(i),k=m(h);H(k,()=>t.children);var L=C(k,2);O(L,()=>p.closeButton,o=>{var a=K(),l=m(a);const f=M(()=>({}));let r;u(l,(g,S)=>x(g,S),()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),u(l,g=>b(g)),y(()=>r=w(l,r,{...D(f)})),n(o,a)});var N=C(h,2);return O(N,()=>t.closeOnOutsideClick,o=>{var a=Q(),l=m(a);l.__click=function(...f){var r;(r=v.close)==null||r.apply(this,f)},n(o,a)}),u(i,(o,a)=>x(o,a),()=>"modal modal-bottom sm:modal-middle"),u(i,o=>P(o)),y(()=>_=w(i,_,{onclose:v.close,...D(F)})),n(s,i),E({api:v})}B(["click"]);async function U(s){const t=document.createElement("div");document.body.append(t);const e=j(T,{target:t,props:s});try{return await e.api.open()}finally{t.remove(),z(e)}}const X=(s,t)=>U({children:t,closeOnOutsideClick:!0});var Y=c('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),Z=c('<button class="btn" aria-haspopup="dialog">Open modal</button>');function ct(s,t){A(t,!1);const e=p=>{var b=Y();n(p,b)};G();var d=Z();d.__click=[X,e],n(s,d),E()}B(["click"]);export{ct as default};
