import{a0 as N,a8 as b,I as f,aa as l}from"./AppCommon-B0o63QXa.js";import{a as y,b as d}from"./stores-DWGGzlfa.js";const $=e=>{const t=e.length;if(t===0)return null;let r=e[0];for(let s=1;s<t&&r;s++){const n=e[s];for(;r&&r!==n;){const o=r.compareDocumentPosition(n);if(o&Node.DOCUMENT_POSITION_CONTAINED_BY)break;if(o&Node.DOCUMENT_POSITION_CONTAINS){r=n;break}else if(o&Node.DOCUMENT_POSITION_DISCONNECTED)return null;r=r.parentElement}}return r};function j(e=document.body){e.getBoundingClientRect()}const w=(e,t)=>{t&&t.length>0&&e.classList.add(...t)},k=(e,t)=>{t&&t.length>0&&e.classList.remove(...t)};function O(e,t,r){return e.addEventListener(t,r),function(){e.removeEventListener(t,r)}}let g=0;const P=()=>`auId-${g++}`,v=e=>e!=null&&e!==!1;function h(e,t){let r=new Set;return t.subscribe(s=>{const n=new Set(`${s??""}`.split(" "));n.delete("");const o=e.classList;for(const i of r)n.has(i)||o.remove(i);o.add(...n),r=n})}function C(e,t,r){return r.subscribe(s=>{v(s)?e.setAttribute(t,""+(s===!0?"":s)):e.removeAttribute(t)})}function S(e,t,r){return t==="class"?h(e,r):C(e,t,r)}function D(e,t,r){return r.subscribe(s=>{const n=e.style;n[t]=""+(v(s)?s:"")})}function I(e,t,r){const s=r.subscribe(n=>{e.classList.toggle(t,n)});return()=>{s(),e.classList.remove(t)}}const A=(e,t)=>r=>{let s=!0,n;const o=t.subscribe(i=>{var u;s?(s=!1,n=e(r,i)):(u=n==null?void 0:n.update)==null||u.call(n,i)});return{destroy(){var i;(i=n==null?void 0:n.destroy)==null||i.call(n),o()}}},T=N(void 0),U=e=>A(e,T),x=(e,t=!0)=>()=>{const r=e.subscribe(y);return{destroy:async()=>{t&&await 0,r()}}},M=e=>(t,r)=>(e(r),{update:e}),m={equal:Object.is},_=()=>{const e=f([],m);return b(e,{register:t=>{let r=!1;return e.update(s=>[...s,t]),()=>{r||(r=!0,e.update(s=>{const n=s.indexOf(t);if(n>-1){const o=[...s];return o.splice(n,1),o}return s}))}}})},R=()=>{const e=_();return{elements$:b(e),directive:t=>({destroy:e.register(t)})}},q=()=>{const e=f(null,m);return{element$:b(e),directive:t=>{let r=!1;return e.update(s=>s?(console.error("The directive cannot be used on multiple elements.",s,t),s):(r=!0,t)),r?{destroy(){e.update(s=>t===s?null:s)}}:void 0}}},B=(...e)=>(t,r)=>{const s=l(()=>e.map(n=>n(t,r)));return{update(n){l(()=>s.forEach(o=>{var i;return(i=o==null?void 0:o.update)==null?void 0:i.call(o,n)}))},destroy(){l(()=>s.reverse().forEach(n=>{var o;return(o=n==null?void 0:n.destroy)==null?void 0:o.call(n)}))}}},F=e=>(t,r)=>{const s=[],n=f(r),{events:o,attributes:i,styles:u,classNames:p}=e(n);for(const[a,c]of Object.entries(o??{}))s.push(O(t,a,c));for(const[a,c]of Object.entries(i??{}))c!=null&&s.push(S(t,a,d(c)));for(const[a,c]of Object.entries(u??{}))c&&s.push(D(t,a,d(c)));for(const[a,c]of Object.entries(p??{}))s.push(I(t,a,d(c)));return{update:a=>n.set(a),destroy:()=>s.forEach(a=>a())}};export{A as a,U as b,R as c,x as d,q as e,M as f,P as g,k as h,w as i,j,F as k,$ as l,B as m,_ as r};
