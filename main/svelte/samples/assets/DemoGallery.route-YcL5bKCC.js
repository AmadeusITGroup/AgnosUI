import{a as Z,f as h,e as y,j as P,h as c,d as p,p as $,b as ot,g as o,c as J,s as j,O,t as V,S as L,P as U,X as tt,a6 as st,l as X,L as A,R as it,T as K,a2 as lt,n as nt,J as ct}from"./AppCommon-BG3D0hoH.js";import{h as E}from"./html-B0RHV_on.js";import{a as n}from"./actions-BN-UTcPE.js";import{b as dt}from"./this-DcLF1K8V.js";import{c as Q}from"./config-B9nn4lwx.js";import{c as S}from"./dom-Bcg9ORcA-B6C2HfvT.js";import{p as vt,n as ut}from"./next-qIJV01AO.js";import{c as Y}from"./index-DK7Qqaxs.js";import"./stores-D75qazkM.js";import"./index-client-Byp24lUF.js";import"./writables-e0tyaQpe-OzivoShI.js";import"./navManager-D34sE2k-.js";import"./isFocusable-Ckwus82R-adOM025a.js";import"./widget-AXAoQffJ.js";var mt=h('<span class="absolute top-1/2 -translate-y-1/2 left-1/2 loading loading-spinner loading-lg text-primary"></span>'),pt=h("<source/>"),ht=h('<!> <picture class="flex justify-center"><!> <img class="select-none object-contain"/></picture>',1),ft=h('<div class="skeleton w-full h-full"></div>'),bt=h("<div><!></div>");function gt(l,e){Z(e,!0);let f=J(!1);var d=bt();y(d,a=>({...a}),[()=>({})]);var D=c(d);{var w=a=>{var u=ht(),G=ot(u);{var W=b=>{var m=mt();p(b,m)};P(G,b=>{o(f)||b(W)})}var _=j(G,2),k=c(_);O(k,17,()=>e.sources,U,(b,m)=>{let I=()=>o(m).media,T=()=>o(m).srcset;var C=pt();V(()=>{L(C,"media",I()),L(C,"srcset",T())}),p(b,C)});var M=j(k,2);let R;V(()=>{L(M,"alt",e.alt),L(M,"src",e.src),R=tt(M,"",R,{"aspect-ratio":e.aspectRatio})}),st("load",M,()=>X(f,!0)),p(a,u)},N=a=>{var u=ft();p(a,u)};P(D,a=>{e.loadRequested?a(w):a(N,!1)})}n(d,(a,u)=>S?.(a,u),()=>"relative basis-full min-w-0 shrink-0 grow-0 flex justify-center"),n(d,(a,u)=>e.slide?.(a,u),()=>({id:e.id,index:e.index})),p(l,d),$()}const wt=`<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" /></svg>
`,_t='<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25" /></svg>';var xt=h('<div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between"><button><!></button> <button><!></button></div>'),yt=h('<div class="absolute right-5 bottom-5 flex"><button class="btn btn-primary btn-sm md:btn-md btn-square opacity-75 hover:opacity-100"><!></button></div>'),St=h('<button><img class="select-none" alt="random picsum" loading="lazy"/></button>'),kt=h('<div class="grid grid-flow-row max-h-dvh"><div><div class="flex max-h-full"></div> <!> <!></div> <div><div></div></div></div>');function Mt(l,e){Z(e,!0);let f=A(e,"withNavArrows",3,!1),d=A(e,"withShowFullscreen",3,!1),D=A(e,"aspectRatio",3,4/3),w=J(it(e.photos.map((t,r)=>({...t,loadRequested:r===0}))));K(()=>{X(w,e.photos.map((t,r)=>({...t,loadRequested:r===0})),!0)});const{state:N,directives:a}=Q(Y),{directives:u,api:{scrollTo:G}}=Q(Y,{props:{dragFree:!0,containScroll:"keepSnaps"}});let W=ct(()=>!!document?.fullscreenEnabled&&d()),_=J(!1),k;const M=()=>{o(_)?document.exitFullscreen():k.requestFullscreen(),X(_,!o(_))};K(()=>{const t=N.selectedScrollSnap;lt(()=>{G(t),o(w)[t].loadRequested=!0,t>0&&(o(w)[t-1].loadRequested=!0),t<o(w).length-1&&(o(w)[t+1].loadRequested=!0)})});const R=t=>t.preventDefault();var b=kt(),m=c(b);y(m,t=>({...t}),[()=>({})]);var I=c(m);O(I,21,()=>o(w),U,(t,r,s)=>{let x=()=>o(r).src,v=()=>o(r).alt,q=()=>o(r).sources,i=()=>o(r).loadRequested;gt(t,{get src(){return x()},get alt(){return v()},get sources(){return q()},get loadRequested(){return i()},get aspectRatio(){return D()},id:`gallery-photo-${s}`,index:s,get slide(){return a.slide}})});var T=j(I,2);{var C=t=>{var r=xt(),s=c(r);y(s,i=>({onpointerdown:R,...i}),[()=>({})]);var x=c(s);E(x,()=>vt),n(s,(i,g)=>S?.(i,g),()=>"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100"),n(s,i=>a.scrollPrev?.(i));var v=j(s,2);y(v,i=>({onpointerdown:R,...i}),[()=>({})]);var q=c(v);E(q,()=>ut),n(v,(i,g)=>S?.(i,g),()=>"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100"),n(v,i=>a.scrollNext?.(i)),p(t,r)};P(T,t=>{f()&&t(C)})}var rt=j(T,2);{var at=t=>{var r=yt(),s=c(r);s.__click=M,s.__pointerdown=R;var x=c(s);E(x,()=>o(_)?_t:wt),V(()=>L(s,"aria-label",o(_)?"leave fullscreen":"open photo in fullscreen")),p(t,r)};P(rt,t=>{o(W)&&t(at)})}n(m,(t,r)=>S?.(t,r),()=>"overflow-hidden relative cursor-grab active:cursor-grabbing"),n(m,t=>a.root?.(t));var B=j(m,2);y(B,t=>({...t}),[()=>({})]);var H=c(B);y(H,t=>({...t}),[()=>({})]),O(H,21,()=>e.photos,U,(t,r,s)=>{let x=()=>o(r).thumbnail;var v=St();y(v,g=>({...g}),[()=>({})]);var q=c(v);let i;n(v,(g,z)=>S?.(g,z),()=>["ring-primary cursor-pointer",N.selectedScrollSnap===s&&"ring-3"]),n(v,(g,z)=>a.tabIndicator?.(g,z),()=>({index:s,id:`gallery-photo-${s}`})),V(()=>{L(q,"src",x()),i=tt(q,"",i,{"aspect-ratio":D()})}),p(t,v)}),n(H,(t,r)=>S?.(t,r),()=>"grid grid-flow-col auto-cols-max gap-2 mx-1 my-1 items-center"),n(H,t=>a.tabList?.(t)),n(B,(t,r)=>S?.(t,r),()=>"overflow-hidden mt-1 mb-2"),n(B,t=>u.root?.(t)),dt(b,t=>k=t,()=>k),p(l,b),$()}nt(["click","pointerdown"]);const Rt=[36,43,70,102,124,142,156,242,288,289,295,361,400,488,496,515,557,607,623,645],qt=[124,289,400,488,607],et=[],F=(l,e,f,d)=>`https://picsum.photos/id/${l}/${d?f:e}/${d?e:f}.webp`;for(const l of Rt){const e=qt.includes(l);et.push({thumbnail:F(l,120,90,e),src:F(l,1600,1200,e),alt:"random picsum",sources:[{media:"(max-width: 599px)",srcset:F(l,600,450,e)},{media:"(min-width: 600px) and (max-width: 799px)",srcset:F(l,800,600,e)},{media:"(min-width: 800px) and (max-width: 1199px)",srcset:F(l,1200,900,e)},{media:"(min-width: 1200px)",srcset:F(l,1600,1200,e)}]})}const Ft=[...et];var jt=h('<div class="w-full flex justify-center"><div class="max-w-[600px] lg:max-w-[1000px]"><!></div></div>');function Et(l){var e=jt(),f=c(e),d=c(f);Mt(d,{get photos(){return Ft},withNavArrows:!0,withShowFullscreen:!0}),p(l,e)}export{Et as default};
