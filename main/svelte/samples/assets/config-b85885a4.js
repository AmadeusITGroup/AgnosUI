import{$ as p,Z as a,a9 as y,E as u,D as m}from"./index-d88d3c67.js";import{i as d}from"./directive-8965f686.js";import{c as W,f as b}from"./stores-018f8970.js";const g=(t,e,o=1/0)=>{if(e!==void 0)if(typeof e=="object"&&e&&o>=1)for(const s of Object.keys(e))t[s]=g(t[s]??{},e[s],o-1);else return e;return t},S=(t,e=d)=>{const o=p({}),s=e===d?t:a(()=>e(g({},t==null?void 0:t(),2)));return y(a(()=>g(g({},s==null?void 0:s(),2),o(),2)),{...o,own$:o,adaptedParent$:s,parent$:t})},h=Symbol("useSvelteSlot");function v(t){let e={};return o=>{const s=b(e,o);e=o,s&&t(s)}}const x=(t,e)=>e?(...o)=>{t(...o),e(...o)}:t,F=t=>{const e=p(void 0,{equal:Object.is});return y(a(()=>x(t,e())),{set:e.set,update:e.update})},j=({factory:t,$$slots:e,defaultConfig:o,widgetConfig:s,events:c})=>{const r=W(o),n={};for(const[i,C]of Object.entries(e))C&&(n[`slot${i[0].toUpperCase()}${i.substring(1)}`]=h);const l={};for(const i of Object.keys(c))l[i]=F(c[i]);const f=t({config:a(()=>({...r(),...s==null?void 0:s(),...n})),props:l});return{...f,patchChangedProps:v(f.patch)}},E=t=>typeof t=="function"&&!!t.prototype&&(t.prototype.$set||/^Proxy</.test(t.name))||typeof(t==null?void 0:t.render)=="function",P=(t=Symbol("widgetsConfig"))=>{const e=c=>{const r=u(t),n=S(r,c);return m(t,n),n},o=c=>{const r=u(t);return a(()=>r==null?void 0:r()[c])};return{widgetsDefaultConfigKey:t,createWidgetsDefaultConfig:e,getContextWidgetConfig:o,callWidgetFactory:({factory:c,widgetName:r=null,$$slots:n,defaultConfig:l={},events:f})=>j({factory:c,$$slots:n,defaultConfig:l,widgetConfig:r?o(r):null,events:f})}},{widgetsDefaultConfigKey:I,createWidgetsDefaultConfig:R,getContextWidgetConfig:$,callWidgetFactory:q}=P();export{R as a,q as c,E as i,h as u};
