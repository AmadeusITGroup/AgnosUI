import{F as s,G as F}from"./index-JF5LP1Fp.js";import{w as N,c as P,s as T,I as _}from"./stores-Vnvk_jRI.js";import{d as H,e as h,i as I,t as d,a as c,b as f}from"./writables-l7uBzEt8.js";import{n as m}from"./func-tK0QDe5R.js";const R={rating:0,tabindex:0,maxRating:10,disabled:!1,readonly:!1,resettable:!0,ariaValueTextFn:(e,g)=>`${e} out of ${g}`,onHover:m,onLeave:m,onRatingChange:m,className:"",slotStar:({fill:e})=>String.fromCharCode(e===100?9733:9734),ariaLabel:"Rating",ariaLabelledBy:""};function z(){return{...R}}const M={rating:h,tabindex:h,maxRating:{normalizeValue:e=>I(e)?Math.max(0,e):_},disabled:d,readonly:d,resettable:d,ariaValueTextFn:c,onHover:c,onLeave:c,onRatingChange:c,className:f,ariaLabel:f,ariaLabelledBy:f};function G(e){const[{rating$:g,tabindex$:v,ariaValueTextFn$:y,onHover$:w,onLeave$:x,onRatingChange$:L,...u},r]=N(R,e,M),{maxRating$:n,disabled$:p,readonly$:V,resettable$:A}=u,C=s(()=>p()?-1:v()),o=P(L,[g,n],([a,t])=>H(a,t)),l=F(0),i=s(()=>!p()&&!V()),b=s(()=>{const a=o(),t=l();return t!==0?t:a}),k=s(()=>y()(b(),n())),D=s(()=>{const a=b();return Array.from({length:n()},(t,$)=>({fill:Math.round(Math.max(Math.min(a-$,1),0)*100),index:$}))});return{...T({ariaValueText$:k,isInteractive$:i,rating$:o,stars$:D,tabindex$:C,visibleRating$:b,...u}),patch:r,actions:{click:a=>{i()&&a>0&&a<=n()&&r({rating:o()===a&&A()?0:a})},hover:a=>{i()&&a>0&&a<=n()&&(l.set(a),w()(a))},leave:()=>{i()&&(x()(l()),l.set(0))},handleKey(a){if(i()){const{key:t}=a;switch(t){case"ArrowLeft":case"ArrowDown":r({rating:o()-1});break;case"ArrowRight":case"ArrowUp":r({rating:o()+1});break;case"Home":case"PageDown":r({rating:0});break;case"End":case"PageUp":r({rating:n()});break;default:return}a.preventDefault(),a.stopPropagation()}}},directives:{},api:{}}}export{G as c,z as g};
