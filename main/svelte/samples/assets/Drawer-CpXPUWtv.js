import{a0 as a,a1 as Me,$ as N,a3 as se,a4 as ne,a as de,s as J,b as M,p as le,h as V,n as P,K as ve,O as Te,P as Ve,f as Pe,d as j,c as A,w as He}from"./AppCommon-fKgCL6YI.js";import{a as y}from"./actions-Ck4r4m0h.js";import{S as Q}from"./Slot-DLvDzdYz.js";import{c as Ee}from"./config-5oAnyDkp.js";import{p as oe,r as Be,a as Ne,s as Ae,f as Oe}from"./focusElement-C974rgaF.js";import{c as We}from"./pointerdownPosition-CADawOhP.js";import{c as ce}from"./baseTransitions--AwQDa3X.js";import{n as v,d as G,e as Ie,m as g,a as h,i as Le,f as Fe,g as Re}from"./dom-BPD8lUxd-BXl1zwuB.js";import{w as Xe,b as Ye,s as qe,t as T}from"./stores-DBcJ-LkE.js";import{c as pe}from"./widget-D35XOKjg.js";import{c as k,d as Ke,b as p,e as Ue,t as O}from"./writables-DYGjj5T3-BuJtDJfU.js";import{g as je}from"./textDirection-cNgt24LJ-sg3JWs5A.js";import{e as Ge}from"./extendWidget-DdVDan8s.js";import{c as Je,a as Qe}from"./collapse-B7J7HK0W-_EN1grng.js";import{f as Ze}from"./fade-uOobJKgw-C4sJdGCA.js";const ei={animated:!0,ariaDescribedBy:"",ariaLabelledBy:"",backdropClass:"",backdropTransition:v,className:"w-full",visible:!1,container:typeof window<"u"?document.body:null,transition:v,verticalTransition:v,onHidden:v,onShown:v,onSizeChange:v,onVisibleChange:v,onMinimizedChange:v,onMaximizedChange:v,onResizingChange:v,resizable:!1,backdrop:!0,bodyScroll:!1,size:null,focusOnInit:!0},ii={animated:k,ariaDescribedBy:O,ariaLabelledBy:O,backdropClass:O,backdropTransition:p,className:O,visible:k,transition:p,verticalTransition:p,container:Ue,onHidden:p,onShown:p,onSizeChange:p,onVisibleChange:p,onMinimizedChange:p,onMaximizedChange:p,onResizingChange:p,resizable:k,backdrop:k,bodyScroll:k,size:Ke,focusOnInit:k},ti=pe("drawer",b=>{const[{backdrop$:i,backdropTransition$:l,backdropClass$:f,bodyScroll$:u,transition$:z,verticalTransition$:S,visible$:C,container$:w,className$:$,size$:W,animated$:m,ariaDescribedBy$:Z,ariaLabelledBy$:I,onHidden$:H,onShown$:E,onSizeChange$:L,onVisibleChange$:F,onMinimizedChange$:R,onMaximizedChange$:c,onResizingChange$:r,focusOnInit$:n,...X},Y]=Xe(ei,b,ii),_=Ye(W,L,e=>e&&Math.round(e)),t=a(()=>["block-start","block-end"].some(s=>$().includes(s))),o=ce({props:{animated:m,animatedOnInit:m,transition:Me(a(()=>t()?S():z())),visible:C,onVisibleChange:F,onHidden:H,onShown:E}}),x=G(oe,a(()=>({container:w()}))),{directive:be,element$:q}=Ie(),ue=g(be,h(()=>({attributes:{class:$,role:N("dialog"),"aria-describedby":Z,"aria-labelledby":I,"aria-modal":N("true"),tabIndex:N("-1")},styles:{position:a(()=>{const e=w();return e&&Le(e)&&e!==document.body?"relative":"fixed"}),outline:N("none")},events:{keydown:async e=>{e.key==="Escape"&&await o.api.hide()}}}))),ee=ce({props:{animated:m,transition:l}}),me=G(oe,a(()=>{const e=w(),s=e?o.stores.element$():void 0;return{container:e,insertBefore:s?.parentElement===e?s:void 0}})),fe=a(()=>(u()||(U()?Ne():Be()),!i()||U())),ge=h(()=>({attributes:{class:f,"data-agnos-ignore-inert":T},events:{click:async()=>await o.api.hide()}})),he=a(()=>["inline-start","block-start"].some(e=>$().includes(e))?1:-1),ie=se(void 0),te=se(void 0);function K(e){const s=q(),d=t();e=Math.round(Math.max(0,e)),s.style[d?"height":"width"]=`${e}px`;const D=Math.round(s[d?"offsetHeight":"offsetWidth"]);return _.set(D),ie.set(e!=null&&(e<D||e===0)),te.set(!!e&&e>D),D}const we=g(We(e=>{const s=q(),d=t(),D=je(s)==="ltr"?1:-1,ze=d?1:D,Se=s[d?"offsetHeight":"offsetWidth"],ae=d?"clientY":"clientX",Ce=e[ae],_e=he();let B=!1;return{onMove(xe){K(Se+ze*_e*(xe[ae]-Ce)),B||(B=!0,r()(!0))},onEnd(){s.style[d?"height":"width"]="",B&&(r()(!1),B=!1)}}}),h(()=>({events:{keydown:e=>{const{key:s}=e,d=_()||q()?.[t()?"offsetHeight":"offsetWidth"];if(d!=null)switch(s){case"ArrowLeft":case"ArrowDown":r()(!0),K(d-10),r()(!1);break;case"ArrowRight":case"ArrowUp":r()(!0),K(d+10),r()(!1);break}}}}))),re=o.stores.visible$,$e=a(()=>o.stores.transitioning$()||ee.stores.transitioning$()),U=a(()=>!$e()&&!re()),De=a(()=>{const e=ie();e!=null&&ne(()=>R()(e))}),ye=a(()=>{const e=te();e!=null&&ne(()=>c()(e))}),ke=a(()=>{De(),ye()});return{...qe({...X,backdropClass$:f,className$:$,container$:w,size$:_,visible$:re,backdropHidden$:fe,hidden$:U,isVertical$:t}),patch:Y,api:{open:o.api.show,close:o.api.hide},directives:{drawerPortalDirective:x,drawerDirective:g(Re(ke),ue,G(Ae,a(()=>!u())),o.directives.directive,Fe(Oe,n)),backdropPortalDirective:me,backdropDirective:g(ee.directives.directive,ge),splitterDirective:we}}}),ri={structure:void 0,header:void 0,children:void 0},ai={structure:void 0,header:void 0,children:void 0},si={backdropTransition:Ze,transition:Qe,verticalTransition:Je},ni=pe("drawer",b=>{const i=Ge(ti,ri,ai,si)(b);return{...i,directives:{...i.directives,drawerDirective:g(h(()=>({classNames:{"au-drawer":T,show:i.stores.visible$},styles:{"--bs-drawer-size":a(()=>{const l=i.stores.size$();return l==null?void 0:l+"px"})}})),i.directives.drawerDirective),backdropDirective:g(i.directives.backdropDirective,h(()=>({classNames:{"au-drawer-backdrop":T,show:i.stores.visible$}}))),splitterDirective:g(i.directives.splitterDirective,h(()=>({classNames:{"au-splitter":T}}))),containerDirective:h(()=>({classNames:{"au-drawer-container":T}}))}}}),oi=ni;var ci=P('<div class="au-drawer-content"><div class="au-drawer-header"><!></div> <div class="au-drawer-body"><!></div></div>');function di(b,i){de(i,!0);let l=ve(i,["$$slots","$$events","$$legacy"]);var f=ci(),u=V(f),z=V(u);Q(z,{get content(){return i.state.header},get props(){return l}});var S=J(u,2),C=V(S);Q(C,{get content(){return i.state.children},get props(){return l}}),M(b,f),le()}const li=(b,i=Ve)=>{di(b,He(i))};var vi=P("<div></div>"),pi=P("<div><div><!></div> <!></div>"),bi=P("<div></div>"),ui=P("<!> <!>",1);function Vi(b,i){de(i,!0);let l=Te(i,"visible",15),f=ve(i,["$$slots","$$events","$$legacy","visible"]);const u=Ee(oi,{get props(){return{...f,visible:l()}},defaultConfig:{structure:li},events:{onVisibleChange:c=>{l(c)}}}),{directives:{backdropDirective:z,backdropPortalDirective:S,drawerDirective:C,drawerPortalDirective:w,containerDirective:$,splitterDirective:W},state:m}=u;var I={api:u.api},H=ui(),E=Pe(H);{var L=c=>{var r=pi();A(r,t=>({...t}),[()=>({})]);var n=V(r);A(n,t=>({...t}),[()=>({})]);var X=V(n);Q(X,{get content(){return m.structure},get props(){return u}}),y(n,t=>$?.(t));var Y=J(n,2);{var _=t=>{var o=vi();A(o,x=>({tabindex:"0",...x}),[()=>({})]),y(o,x=>W?.(x)),M(t,o)};j(Y,t=>{m.resizable&&t(_)})}y(r,t=>w?.(t)),y(r,t=>C?.(t)),M(c,r)};j(E,c=>{m.hidden||c(L)})}var F=J(E,2);{var R=c=>{var r=bi();A(r,n=>({...n}),[()=>({})]),y(r,n=>S?.(n)),y(r,n=>z?.(n)),M(c,r)};j(F,c=>{m.backdropHidden||c(R)})}return M(b,H),le(I)}export{Vi as D};
