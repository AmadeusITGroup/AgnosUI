import{e as E,p as P,M as D,s as C,c as O,d as y,b as n,a as q,t as c,L as G,k as d,l as w,g as M,q as x,m as H,a0 as I,i as J}from"./AppCommon-C8th3JWG.js";import{s as K}from"./snippet-DR72IjbS.js";import{a as m}from"./actions-B6To-NSG.js";import{c as Q}from"./config-CC1Dpxee.js";import{c as R}from"./modal-DP-4I7vf-Dou5CUCm.js";import{c as A}from"./directive-CKEccryv-CjsmjpgW.js";import"./index-client-DZwLQsoi.js";import"./writables-DCiBdIBK-BMnIMCZ2.js";import"./baseTransitions-DOHyDib7.js";import"./promise-CY2U8bTP-BShj48_r.js";var T=c('<form method="dialog"><button>✕</button></form>'),U=c('<form method="dialog" class="modal-backdrop"><button>Close</button></form>'),X=c('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function Y(a,t){P(t,!0);let e=D(t,"visible",15),B=G(t,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:F,directives:{closeButtonDirective:p,dialogDirective:u},api:L}=Q({factory:R,widgetName:"modal",get props(){return{visible:e(),closeOnOutsideClick:t.closeOnOutsideClick,...B}},enablePatchChanged:!0,defaultConfig:{closeButton:!0},events:{onVisibleChange:o=>{e(o)}}}),b=L;var i=X();const N=x(()=>({}));let _;var g=d(i),h=d(g);K(h,()=>t.children);var S=C(h,2);{var V=o=>{var l=T(),s=d(l);const f=x(()=>({}));let r;m(s,(v,z)=>{var k;return(k=A)==null?void 0:k(v,z)},()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),m(s,v=>p==null?void 0:p(v)),y(()=>r=w(s,r,{...M(f)})),n(o,l)};O(S,o=>{F.closeButton&&o(V)})}var W=C(g,2);{var j=o=>{var l=U(),s=d(l);s.__click=function(...f){var r;(r=b.close)==null||r.apply(this,f)},n(o,l)};O(W,o=>{t.closeOnOutsideClick&&o(j)})}return m(i,(o,l)=>{var s;return(s=A)==null?void 0:s(o,l)},()=>"modal modal-bottom sm:modal-middle"),m(i,o=>u==null?void 0:u(o)),y(()=>_=w(i,_,{onclose:b.close,...M(N)})),n(a,i),q({api:b})}E(["click"]);async function Z(a){const t=document.createElement("div");document.body.append(t);const e=H(Y,{target:t,props:a});try{return await e.api.open()}finally{t.remove(),I(e)}}const $=a=>{var t=ot();n(a,t)},tt=(a,t)=>Z({children:t,closeOnOutsideClick:!0});var ot=c('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),at=c('<button class="btn" aria-haspopup="dialog">Open modal</button>');function ut(a,t){P(t,!1),J();var e=at();e.__click=[tt,$],n(a,e),q()}E(["click"]);export{ut as default};
