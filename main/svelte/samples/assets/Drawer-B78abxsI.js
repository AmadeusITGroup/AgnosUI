import{Z as a,$ as _e,Y as N,a1 as se,a2 as oe,s as J,b as M,I as de,h as V,l as H,a as xe,L as Me,M as Te,f as Ve,d as j,p as He,c as A,v as Pe}from"./AppCommon-oTLQLI58.js";import{a as k}from"./actions-BtbG2ZeO.js";import{S as K}from"./Slot-CBsZCGhb.js";import{c as Ee}from"./config-gdYvfPcX.js";import{p as ne,r as Be,a as Ne,s as Ae,f as Ie}from"./focusElement-DyA8bLWa.js";import{c as Le}from"./pointerdownPosition-_HGXiFu0.js";import{c as ce}from"./baseTransitions-j0mHgCaG.js";import{n as v,d as G,e as Oe,m as $,a as h,i as We,f as Fe,g as Re}from"./dom-BPD8lUxd-gAwdG87-.js";import{w as Ye,b as Xe,s as qe,t as T}from"./stores-CDni8kz3.js";import{c as le}from"./widget-DiMgAHf5.js";import{c as z,d as Ue,b as p,e as Ze,t as I}from"./writables-DYGjj5T3-yk8a-m8_.js";import{g as je}from"./textDirection-cNgt24LJ-sg3JWs5A.js";import{e as Ge}from"./extendWidget-D3lZ5Nk9.js";import{c as Je,a as Ke}from"./collapse-B7J7HK0W-D7wlgRa9.js";import{f as Qe}from"./fade-uOobJKgw-CrYe_NIp.js";const ei={animated:!0,ariaDescribedBy:"",ariaLabelledBy:"",backdropClass:"",backdropTransition:v,className:"w-full",visible:!1,container:typeof window<"u"?document.body:null,transition:v,verticalTransition:v,onHidden:v,onShown:v,onSizeChange:v,onVisibleChange:v,onMinimizedChange:v,onMaximizedChange:v,onResizingChange:v,resizable:!1,backdrop:!0,bodyScroll:!1,size:null,focusOnInit:!0},ii={animated:z,ariaDescribedBy:I,ariaLabelledBy:I,backdropClass:I,backdropTransition:p,className:I,visible:z,transition:p,verticalTransition:p,container:Ze,onHidden:p,onShown:p,onSizeChange:p,onVisibleChange:p,onMinimizedChange:p,onMaximizedChange:p,onResizingChange:p,resizable:z,backdrop:z,bodyScroll:z,size:Ue,focusOnInit:z},ti=le("drawer",b=>{const[{backdrop$:t,backdropTransition$:c,backdropClass$:g,bodyScroll$:u,transition$:w,verticalTransition$:S,visible$:C,container$:m,className$:D,size$:L,animated$:f,ariaDescribedBy$:Q,ariaLabelledBy$:O,onHidden$:P,onShown$:E,onSizeChange$:W,onVisibleChange$:F,onMinimizedChange$:R,onMaximizedChange$:d,onResizingChange$:r,focusOnInit$:o,...Y},X]=Ye(ei,b,ii),_=Xe(L,W,e=>e&&Math.round(e)),i=a(()=>["block-start","block-end"].some(s=>D().includes(s))),n=ce({props:{animated:f,animatedOnInit:f,transition:_e(a(()=>i()?S():w())),visible:C,onVisibleChange:F,onHidden:P,onShown:E}}),x=G(ne,a(()=>({container:m()}))),{directive:ve,element$:q}=Oe(),pe=$(ve,h(()=>({attributes:{class:D,role:N("dialog"),"aria-describedby":Q,"aria-labelledby":O,"aria-modal":N("true"),tabIndex:N("-1")},styles:{position:a(()=>{const e=m();return e&&We(e)&&e!==document.body?"relative":"fixed"}),outline:N("none")},events:{keydown:async e=>{e.key==="Escape"&&await n.api.hide()}}}))),ee=ce({props:{animated:f,transition:c}}),be=G(ne,a(()=>{const e=m(),s=e?n.stores.element$():void 0;return{container:e,insertBefore:s?.parentElement===e?s:void 0}})),ue=a(()=>(u()||(Z()?Ne():Be()),!t()||Z())),me=h(()=>({attributes:{class:g,"data-agnos-ignore-inert":T},events:{click:async()=>await n.api.hide()}})),fe=a(()=>["inline-start","block-start"].some(e=>D().includes(e))?1:-1),ie=se(void 0),te=se(void 0);function U(e){const s=q(),l=i();e=Math.round(Math.max(0,e)),s.style[l?"height":"width"]=`${e}px`;const y=Math.round(s[l?"offsetHeight":"offsetWidth"]);return _.set(y),ie.set(e!=null&&(e<y||e===0)),te.set(!!e&&e>y),y}const ge=$(Le(e=>{const s=q(),l=i(),y=je(s)==="ltr"?1:-1,ye=l?1:y,ke=s[l?"offsetHeight":"offsetWidth"],ae=l?"clientY":"clientX",ze=e[ae],Se=fe();let B=!1;return{onMove(Ce){U(ke+ye*Se*(Ce[ae]-ze)),B||(B=!0,r()(!0))},onEnd(){s.style[l?"height":"width"]="",B&&(r()(!1),B=!1)}}}),h(()=>({events:{keydown:e=>{const{key:s}=e,l=_()||q()?.[i()?"offsetHeight":"offsetWidth"];if(l!=null)switch(s){case"ArrowLeft":case"ArrowDown":r()(!0),U(l-10),r()(!1);break;case"ArrowRight":case"ArrowUp":r()(!0),U(l+10),r()(!1);break}}}}))),re=n.stores.visible$,$e=a(()=>n.stores.transitioning$()||ee.stores.transitioning$()),Z=a(()=>!$e()&&!re()),he=a(()=>{const e=ie();e!=null&&oe(()=>R()(e))}),we=a(()=>{const e=te();e!=null&&oe(()=>d()(e))}),De=a(()=>{he(),we()});return{...qe({...Y,backdropClass$:g,className$:D,container$:m,size$:_,visible$:re,backdropHidden$:ue,hidden$:Z,isVertical$:i}),patch:X,api:{open:n.api.show,close:n.api.hide},directives:{drawerPortalDirective:x,drawerDirective:$(Re(De),pe,G(Ae,a(()=>!u())),n.directives.directive,Fe(Ie,o)),backdropPortalDirective:be,backdropDirective:$(ee.directives.directive,me),splitterDirective:ge}}}),ri={structure:void 0,header:void 0,children:void 0},ai={structure:void 0,header:void 0,children:void 0},si={backdropTransition:Qe,transition:Ke,verticalTransition:Je},oi=le("drawer",b=>{const t=Ge(ti,ri,ai,si)(b);return{...t,directives:{...t.directives,drawerDirective:$(h(()=>({classNames:{"au-drawer":T,show:t.stores.visible$},styles:{"--bs-drawer-size":a(()=>{const c=t.stores.size$();return c==null?void 0:c+"px"})}})),t.directives.drawerDirective),backdropDirective:$(t.directives.backdropDirective,h(()=>({classNames:{"au-drawer-backdrop":T,show:t.stores.visible$}}))),splitterDirective:$(t.directives.splitterDirective,h(()=>({classNames:{"au-splitter":T}}))),containerDirective:h(()=>({classNames:{"au-drawer-container":T}}))}}}),ni=oi;var ci=H('<div class="au-drawer-content"><div class="au-drawer-header"><!></div> <div class="au-drawer-body"><!></div></div>');function di(b,t){let c=de(t,["$$slots","$$events","$$legacy"]),{state:g}=c;var u=ci(),w=V(u),S=V(w);K(S,{get content(){return g.header},get props(){return c}});var C=J(w,2),m=V(C);K(m,{get content(){return g.children},get props(){return c}}),M(b,u)}const li=(b,t=Te)=>{di(b,Pe(t))};var vi=H("<div></div>"),pi=H("<div><div><!></div> <!></div>"),bi=H("<div></div>"),ui=H("<!> <!>",1);function Vi(b,t){xe(t,!0);let c=Me(t,"visible",15),g=de(t,["$$slots","$$events","$$legacy","visible"]);const u=Ee(ni,{get props(){return{...g,visible:c()}},defaultConfig:{structure:li},events:{onVisibleChange:d=>{c(d)}}}),{directives:{backdropDirective:w,backdropPortalDirective:S,drawerDirective:C,drawerPortalDirective:m,containerDirective:D,splitterDirective:L},state:f}=u;var O={api:u.api},P=ui(),E=Ve(P);{var W=d=>{var r=pi();A(r,i=>({...i}),[()=>({})]);var o=V(r);A(o,i=>({...i}),[()=>({})]);var Y=V(o);K(Y,{get content(){return f.structure},get props(){return u}}),k(o,i=>D?.(i));var X=J(o,2);{var _=i=>{var n=vi();A(n,x=>({tabindex:"0",...x}),[()=>({})]),k(n,x=>L?.(x)),M(i,n)};j(X,i=>{f.resizable&&i(_)})}k(r,i=>m?.(i)),k(r,i=>C?.(i)),M(d,r)};j(E,d=>{f.hidden||d(W)})}var F=J(E,2);{var R=d=>{var r=bi();A(r,o=>({...o}),[()=>({})]),k(r,o=>S?.(o)),k(r,o=>w?.(o)),M(d,r)};j(F,d=>{f.backdropHidden||d(R)})}return M(b,P),He(O)}export{Vi as D};
