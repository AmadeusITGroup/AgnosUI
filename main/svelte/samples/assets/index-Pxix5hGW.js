import{w as le,s as fe,t as jt}from"./stores-DJDejC1S.js";import{a as st,m as Rt,o as Xt,b as Yt}from"./dom-gfxqXJpK-BjHLPE4k.js";import{a0 as V,$ as dt,ae as it,ag as ct}from"./AppCommon-CSq__kFJ.js";import{c as de,t as qt,b as pt,g as Ut,e as Pt,h as pe,a as ge}from"./writables-CgpOQ4hA-SHY0FBdd.js";import{c as me}from"./navManager-Ctx4oid7.js";import{c as he}from"./widget-59XcPKZ1.js";function wt(t){return typeof t=="number"}function At(t){return typeof t=="string"}function xt(t){return typeof t=="boolean"}function Qt(t){return Object.prototype.toString.call(t)==="[object Object]"}function M(t){return Math.abs(t)}function Ft(t){return Math.sign(t)}function mt(t,n){return M(t-n)}function Se(t,n){if(t===0||n===0||M(t)<=M(n))return 0;const e=mt(M(t),M(n));return M(e/t)}function be(t){return Math.round(t*100)/100}function ht(t){return St(t).map(Number)}function _(t){return t[vt(t)]}function vt(t){return Math.max(0,t.length-1)}function Mt(t,n){return n===vt(t)}function Kt(t,n=0){return Array.from(Array(t),(e,s)=>n+s)}function St(t){return Object.keys(t)}function Jt(t,n){return[t,n].reduce((e,s)=>(St(s).forEach(c=>{const r=e[c],o=s[c],u=Qt(r)&&Qt(o);e[c]=u?Jt(r,o):o}),e),{})}function Dt(t,n){return typeof n.MouseEvent<"u"&&t instanceof n.MouseEvent}function ve(t,n){const e={start:s,center:c,end:r};function s(){return 0}function c(i){return r(i)/2}function r(i){return n-i}function o(i,a){return At(t)?e[t](i):t(n,i,a)}return{measure:o}}function bt(){let t=[];function n(c,r,o,u={passive:!0}){let i;if("addEventListener"in c)c.addEventListener(r,o,u),i=()=>c.removeEventListener(r,o,u);else{const a=c;a.addListener(o),i=()=>a.removeListener(o)}return t.push(i),s}function e(){t=t.filter(c=>c())}const s={add:n,clear:e};return s}function ye(t,n,e,s){const c=bt(),r=1e3/60;let o=null,u=0,i=0;function a(){c.add(t,"visibilitychange",()=>{t.hidden&&l()})}function h(){S(),c.clear()}function d(b){if(!i)return;o||(o=b,e(),e());const f=b-o;for(o=b,u+=f;u>=r;)e(),u-=r;const p=u/r;s(p),i&&(i=n.requestAnimationFrame(d))}function g(){i||(i=n.requestAnimationFrame(d))}function S(){n.cancelAnimationFrame(i),o=null,u=0,i=0}function l(){o=null,u=0}return{init:a,destroy:h,start:g,stop:S,update:e,render:s}}function xe(t,n){const e=n==="rtl",s=t==="y",c=s?"y":"x",r=s?"x":"y",o=!s&&e?-1:1,u=h(),i=d();function a(l){const{height:m,width:b}=l;return s?m:b}function h(){return s?"top":e?"right":"left"}function d(){return s?"bottom":e?"left":"right"}function g(l){return l*o}return{scroll:c,cross:r,startEdge:u,endEdge:i,measureSize:a,direction:g}}function et(t=0,n=0){const e=M(t-n);function s(a){return a<t}function c(a){return a>n}function r(a){return s(a)||c(a)}function o(a){return r(a)?s(a)?t:n:a}function u(a){return e?a-e*Math.ceil((a-n)/e):a}return{length:e,max:n,min:t,constrain:o,reachedAny:r,reachedMax:c,reachedMin:s,removeOffset:u}}function Zt(t,n,e){const{constrain:s}=et(0,t),c=t+1;let r=o(n);function o(g){return e?M((c+g)%c):s(g)}function u(){return r}function i(g){return r=o(g),d}function a(g){return h().set(u()+g)}function h(){return Zt(t,u(),e)}const d={get:u,set:i,add:a,clone:h};return d}function Le(t,n,e,s,c,r,o,u,i,a,h,d,g,S,l,m,b,f,p){const{cross:y,direction:I}=t,D=["INPUT","SELECT","TEXTAREA"],T={passive:!1},L=bt(),E=bt(),N=et(50,225).constrain(S.measure(20)),$={mouse:300,touch:400},A={mouse:500,touch:600},x=l?43:25;let P=!1,C=0,B=0,Z=!1,Y=!1,q=!1,U=!1;function at(v){if(!p)return;function w(z){(xt(p)||p(v,z))&&lt(z)}const O=n;L.add(O,"dragstart",z=>z.preventDefault(),T).add(O,"touchmove",()=>{},T).add(O,"touchend",()=>{}).add(O,"touchstart",w).add(O,"mousedown",w).add(O,"touchcancel",k).add(O,"contextmenu",k).add(O,"click",K,!0)}function j(){L.clear(),E.clear()}function nt(){const v=U?e:n;E.add(v,"touchmove",H,T).add(v,"touchend",k).add(v,"mousemove",H,T).add(v,"mouseup",k)}function ot(v){const w=v.nodeName||"";return D.includes(w)}function Q(){return(l?A:$)[U?"mouse":"touch"]}function ut(v,w){const O=d.add(Ft(v)*-1),z=h.byDistance(v,!l).distance;return l||M(v)<N?z:b&&w?z*.5:h.byIndex(O.get(),0).distance}function lt(v){const w=Dt(v,s);U=w,q=l&&w&&!v.buttons&&P,P=mt(c.get(),o.get())>=2,!(w&&v.button!==0)&&(ot(v.target)||(Z=!0,r.pointerDown(v),a.useFriction(0).useDuration(0),c.set(o),nt(),C=r.readPoint(v),B=r.readPoint(v,y),g.emit("pointerDown")))}function H(v){if(!Dt(v,s)&&v.touches.length>=2)return k(v);const O=r.readPoint(v),z=r.readPoint(v,y),R=mt(O,C),X=mt(z,B);if(!Y&&!U&&(!v.cancelable||(Y=R>X,!Y)))return k(v);const W=r.pointerMove(v);R>m&&(q=!0),a.useFriction(.3).useDuration(.75),u.start(),c.add(I(W)),v.preventDefault()}function k(v){const O=h.byDistance(0,!1).index!==d.get(),z=r.pointerUp(v)*Q(),R=ut(I(z),O),X=Se(z,R),W=x-10*X,J=f+X/50;Y=!1,Z=!1,E.clear(),a.useDuration(W).useFriction(J),i.distance(R,!l),U=!1,g.emit("pointerUp")}function K(v){q&&(v.stopPropagation(),v.preventDefault(),q=!1)}function G(){return Z}return{init:at,destroy:j,pointerDown:G}}function Ee(t,n){let s,c;function r(d){return d.timeStamp}function o(d,g){const l=`client${(g||t.scroll)==="x"?"X":"Y"}`;return(Dt(d,n)?d:d.touches[0])[l]}function u(d){return s=d,c=d,o(d)}function i(d){const g=o(d)-o(c),S=r(d)-r(s)>170;return c=d,S&&(s=d),g}function a(d){if(!s||!c)return 0;const g=o(c)-o(s),S=r(d)-r(s),l=r(d)-r(c)>170,m=g/S;return S&&!l&&M(m)>.1?m:0}return{pointerDown:u,pointerMove:i,pointerUp:a,readPoint:o}}function Ie(){function t(e){const{offsetTop:s,offsetLeft:c,offsetWidth:r,offsetHeight:o}=e;return{top:s,right:c+r,bottom:s+o,left:c,width:r,height:o}}return{measure:t}}function Te(t){function n(s){return t*(s/100)}return{measure:n}}function Ne(t,n,e,s,c,r,o){const u=[t].concat(s);let i,a,h=[],d=!1;function g(b){return c.measureSize(o.measure(b))}function S(b){if(!r)return;a=g(t),h=s.map(g);function f(p){for(const y of p){if(d)return;const I=y.target===t,D=s.indexOf(y.target),T=I?a:h[D],L=g(I?t:s[D]);if(M(L-T)>=.5){b.reInit(),n.emit("resize");break}}}i=new ResizeObserver(p=>{(xt(r)||r(b,p))&&f(p)}),e.requestAnimationFrame(()=>{u.forEach(p=>i.observe(p))})}function l(){d=!0,i&&i.disconnect()}return{init:S,destroy:l}}function Pe(t,n,e,s,c,r){let o=0,u=0,i=c,a=r,h=t.get(),d=0;function g(){const T=s.get()-t.get(),L=!i;let E=0;return L?(o=0,e.set(s),t.set(s),E=T):(e.set(t),o+=T/i,o*=a,h+=o,t.add(o),E=h-d),u=Ft(E),d=h,D}function S(){const T=s.get()-n.get();return M(T)<.001}function l(){return i}function m(){return u}function b(){return o}function f(){return y(c)}function p(){return I(r)}function y(T){return i=T,D}function I(T){return a=T,D}const D={direction:m,duration:l,velocity:b,seek:g,settled:S,useBaseFriction:p,useBaseDuration:f,useFriction:I,useDuration:y};return D}function Ae(t,n,e,s,c){const r=c.measure(10),o=c.measure(50),u=et(.1,.99);let i=!1;function a(){return!(i||!t.reachedAny(e.get())||!t.reachedAny(n.get()))}function h(S){if(!a())return;const l=t.reachedMin(n.get())?"min":"max",m=M(t[l]-n.get()),b=e.get()-n.get(),f=u.constrain(m/o);e.subtract(b*f),!S&&M(b)<r&&(e.set(t.constrain(e.get())),s.useDuration(25).useBaseFriction())}function d(S){i=!S}return{shouldConstrain:a,constrain:h,toggleActive:d}}function De(t,n,e,s,c){const r=et(-n+t,0),o=d(),u=h(),i=g();function a(l,m){return mt(l,m)<=1}function h(){const l=o[0],m=_(o),b=o.lastIndexOf(l),f=o.indexOf(m)+1;return et(b,f)}function d(){return e.map((l,m)=>{const{min:b,max:f}=r,p=r.constrain(l),y=!m,I=Mt(e,m);return y?f:I||a(b,p)?b:a(f,p)?f:p}).map(l=>parseFloat(l.toFixed(3)))}function g(){if(n<=t+c)return[r.max];if(s==="keepSnaps")return o;const{min:l,max:m}=u;return o.slice(l,m)}return{snapsContained:i,scrollContainLimit:u}}function we(t,n,e){const s=n[0],c=e?s-t:_(n);return{limit:et(c,s)}}function Fe(t,n,e,s){const r=n.min+.1,o=n.max+.1,{reachedMin:u,reachedMax:i}=et(r,o);function a(g){return g===1?i(e.get()):g===-1?u(e.get()):!1}function h(g){if(!a(g))return;const S=t*(g*-1);s.forEach(l=>l.add(S))}return{loop:h}}function Me(t){const{max:n,length:e}=t;function s(r){const o=r-n;return e?o/-e:0}return{get:s}}function $e(t,n,e,s,c){const{startEdge:r,endEdge:o}=t,{groupSlides:u}=c,i=d().map(n.measure),a=g(),h=S();function d(){return u(s).map(m=>_(m)[o]-m[0][r]).map(M)}function g(){return s.map(m=>e[r]-m[r]).map(m=>-M(m))}function S(){return u(a).map(m=>m[0]).map((m,b)=>m+i[b])}return{snaps:a,snapsAligned:h}}function Ce(t,n,e,s,c,r){const{groupSlides:o}=c,{min:u,max:i}=s,a=h();function h(){const g=o(r),S=!t||n==="keepSnaps";return e.length===1?[r]:S?g:g.slice(u,i).map((l,m,b)=>{const f=!m,p=Mt(b,m);if(f){const y=_(b[0])+1;return Kt(y)}if(p){const y=vt(r)-_(b)[0]+1;return Kt(y,_(b)[0])}return l})}return{slideRegistry:a}}function Oe(t,n,e,s,c){const{reachedAny:r,removeOffset:o,constrain:u}=s;function i(l){return l.concat().sort((m,b)=>M(m)-M(b))[0]}function a(l){const m=t?o(l):u(l),b=n.map((p,y)=>({diff:h(p-m,0),index:y})).sort((p,y)=>M(p.diff)-M(y.diff)),{index:f}=b[0];return{index:f,distance:m}}function h(l,m){const b=[l,l+e,l-e];if(!t)return l;if(!m)return i(b);const f=b.filter(p=>Ft(p)===m);return f.length?i(f):_(b)-e}function d(l,m){const b=n[l]-c.get(),f=h(b,m);return{index:l,distance:f}}function g(l,m){const b=c.get()+l,{index:f,distance:p}=a(b),y=!t&&r(b);if(!m||y)return{index:f,distance:l};const I=n[f]-p,D=l+h(I,0);return{index:f,distance:D}}return{byDistance:g,byIndex:d,shortcut:h}}function ke(t,n,e,s,c,r,o){function u(d){const g=d.distance,S=d.index!==n.get();r.add(g),g&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),S&&(e.set(n.get()),n.set(d.index),o.emit("select"))}function i(d,g){const S=c.byDistance(d,g);u(S)}function a(d,g){const S=n.clone().set(d),l=c.byIndex(S.get(),g);u(l)}return{distance:i,index:a}}function ze(t,n,e,s,c,r,o,u){const i={passive:!0,capture:!0};let a=0;function h(S){if(!u)return;function l(m){if(new Date().getTime()-a>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const p=e.findIndex(y=>y.includes(m));wt(p)&&(c.useDuration(0),s.index(p,0),o.emit("slideFocus"))}r.add(document,"keydown",d,!1),n.forEach((m,b)=>{r.add(m,"focus",f=>{(xt(u)||u(S,f))&&l(b)},i)})}function d(S){S.code==="Tab"&&(a=new Date().getTime())}return{init:h}}function gt(t){let n=t;function e(){return n}function s(i){n=o(i)}function c(i){n+=o(i)}function r(i){n-=o(i)}function o(i){return wt(i)?i:i.get()}return{get:e,set:s,add:c,subtract:r}}function Wt(t,n){const e=t.scroll==="x"?o:u,s=n.style;let c=null,r=!1;function o(g){return`translate3d(${g}px,0px,0px)`}function u(g){return`translate3d(0px,${g}px,0px)`}function i(g){if(r)return;const S=be(t.direction(g));S!==c&&(s.transform=e(S),c=S)}function a(g){r=!g}function h(){r||(s.transform="",n.getAttribute("style")||n.removeAttribute("style"))}return{clear:h,to:i,toggleActive:a}}function Ve(t,n,e,s,c,r,o,u,i){const h=ht(c),d=ht(c).reverse(),g=f().concat(p());function S(L,E){return L.reduce((N,$)=>N-c[$],E)}function l(L,E){return L.reduce((N,$)=>S(N,E)>0?N.concat([$]):N,[])}function m(L){return r.map((E,N)=>({start:E-s[N]+.5+L,end:E+n-.5+L}))}function b(L,E,N){const $=m(E);return L.map(A=>{const x=N?0:-e,P=N?e:0,C=N?"end":"start",B=$[A][C];return{index:A,loopPoint:B,slideLocation:gt(-1),translate:Wt(t,i[A]),target:()=>u.get()>B?x:P}})}function f(){const L=o[0],E=l(d,L);return b(E,e,!1)}function p(){const L=n-o[0]-1,E=l(h,L);return b(E,-e,!0)}function y(){return g.every(({index:L})=>{const E=h.filter(N=>N!==L);return S(E,n)<=.1})}function I(){g.forEach(L=>{const{target:E,translate:N,slideLocation:$}=L,A=E();A!==$.get()&&(N.to(A),$.set(A))})}function D(){g.forEach(L=>L.translate.clear())}return{canLoop:y,clear:D,loop:I,loopPoints:g}}function Be(t,n,e){let s,c=!1;function r(i){if(!e)return;function a(h){for(const d of h)if(d.type==="childList"){i.reInit(),n.emit("slidesChanged");break}}s=new MutationObserver(h=>{c||(xt(e)||e(i,h))&&a(h)}),s.observe(t,{childList:!0})}function o(){s&&s.disconnect(),c=!0}return{init:r,destroy:o}}function He(t,n,e,s){const c={};let r=null,o=null,u,i=!1;function a(){u=new IntersectionObserver(l=>{i||(l.forEach(m=>{const b=n.indexOf(m.target);c[b]=m}),r=null,o=null,e.emit("slidesInView"))},{root:t.parentElement,threshold:s}),n.forEach(l=>u.observe(l))}function h(){u&&u.disconnect(),i=!0}function d(l){return St(c).reduce((m,b)=>{const f=parseInt(b),{isIntersecting:p}=c[f];return(l&&p||!l&&!p)&&m.push(f),m},[])}function g(l=!0){if(l&&r)return r;if(!l&&o)return o;const m=d(l);return l&&(r=m),l||(o=m),m}return{init:a,destroy:h,get:g}}function Ge(t,n,e,s,c,r){const{measureSize:o,startEdge:u,endEdge:i}=t,a=e[0]&&c,h=l(),d=m(),g=e.map(o),S=b();function l(){if(!a)return 0;const p=e[0];return M(n[u]-p[u])}function m(){if(!a)return 0;const p=r.getComputedStyle(_(s));return parseFloat(p.getPropertyValue(`margin-${i}`))}function b(){return e.map((p,y,I)=>{const D=!y,T=Mt(I,y);return D?g[y]+h:T?g[y]+d:I[y+1][u]-p[u]}).map(M)}return{slideSizes:g,slideSizesWithGaps:S,startGap:h,endGap:d}}function _e(t,n,e,s,c,r,o,u,i){const{startEdge:a,endEdge:h,direction:d}=t,g=wt(e);function S(f,p){return ht(f).filter(y=>y%p===0).map(y=>f.slice(y,y+p))}function l(f){return f.length?ht(f).reduce((p,y,I)=>{const D=_(p)||0,T=D===0,L=y===vt(f),E=c[a]-r[D][a],N=c[a]-r[y][h],$=!s&&T?d(o):0,A=!s&&L?d(u):0,x=M(N-A-(E+$));return I&&x>n+i&&p.push(y),L&&p.push(f.length),p},[]).map((p,y,I)=>{const D=Math.max(I[y-1]||0);return f.slice(D,p)}):[]}function m(f){return g?S(f,e):l(f)}return{groupSlides:m}}function je(t,n,e,s,c,r,o){const{align:u,axis:i,direction:a,startIndex:h,loop:d,duration:g,dragFree:S,dragThreshold:l,inViewThreshold:m,slidesToScroll:b,skipSnaps:f,containScroll:p,watchResize:y,watchSlides:I,watchDrag:D,watchFocus:T}=r,L=2,E=Ie(),N=E.measure(n),$=e.map(E.measure),A=xe(i,a),x=A.measureSize(N),P=Te(x),C=ve(u,x),B=!d&&!!p,Z=d||!!p,{slideSizes:Y,slideSizesWithGaps:q,startGap:U,endGap:at}=Ge(A,N,$,e,Z,c),j=_e(A,x,b,d,N,$,U,at,L),{snaps:nt,snapsAligned:ot}=$e(A,C,N,$,j),Q=-_(nt)+_(q),{snapsContained:ut,scrollContainLimit:lt}=De(x,Q,ot,p,L),H=B?ut:ot,{limit:k}=we(Q,H,d),K=Zt(vt(H),h,d),G=K.clone(),F=ht(e),v=({dragHandler:rt,scrollBody:Tt,scrollBounds:Nt,options:{loop:yt}})=>{yt||Nt.constrain(rt.pointerDown()),Tt.seek()},w=({scrollBody:rt,translate:Tt,location:Nt,offsetLocation:yt,previousLocation:ne,scrollLooper:oe,slideLooper:re,dragHandler:se,animation:ie,eventHandler:zt,scrollBounds:ce,options:{loop:Vt}},Bt)=>{const Ht=rt.settled(),ae=!ce.shouldConstrain(),Gt=Vt?Ht:Ht&&ae,_t=Gt&&!se.pointerDown();_t&&ie.stop();const ue=Nt.get()*Bt+ne.get()*(1-Bt);yt.set(ue),Vt&&(oe.loop(rt.direction()),re.loop()),Tt.to(yt.get()),_t&&zt.emit("settle"),Gt||zt.emit("scroll")},O=ye(s,c,()=>v(It),rt=>w(It,rt)),z=.68,R=H[K.get()],X=gt(R),W=gt(R),J=gt(R),tt=gt(R),ft=Pe(X,J,W,tt,g,z),Lt=Oe(d,H,Q,k,tt),Et=ke(O,K,G,ft,Lt,tt,o),Ct=Me(k),Ot=bt(),te=He(n,e,o,m),{slideRegistry:kt}=Ce(B,p,H,lt,j,F),ee=ze(t,e,kt,Et,ft,Ot,o,T),It={ownerDocument:s,ownerWindow:c,eventHandler:o,containerRect:N,slideRects:$,animation:O,axis:A,dragHandler:Le(A,t,s,c,tt,Ee(A,c),X,O,Et,ft,Lt,K,o,P,S,l,f,z,D),eventStore:Ot,percentOfView:P,index:K,indexPrevious:G,limit:k,location:X,offsetLocation:J,previousLocation:W,options:r,resizeHandler:Ne(n,o,c,e,A,y,E),scrollBody:ft,scrollBounds:Ae(k,J,tt,ft,P),scrollLooper:Fe(Q,k,J,[X,J,W,tt]),scrollProgress:Ct,scrollSnapList:H.map(Ct.get),scrollSnaps:H,scrollTarget:Lt,scrollTo:Et,slideLooper:Ve(A,x,Q,Y,q,nt,H,J,e),slideFocus:ee,slidesHandler:Be(n,o,I),slidesInView:te,slideIndexes:F,slideRegistry:kt,slidesToScroll:j,target:tt,translate:Wt(A,n)};return It}function Re(){let t={},n;function e(a){n=a}function s(a){return t[a]||[]}function c(a){return s(a).forEach(h=>h(n,a)),i}function r(a,h){return t[a]=s(a).concat([h]),i}function o(a,h){return t[a]=s(a).filter(d=>d!==h),i}function u(){t={}}const i={init:e,emit:c,off:o,on:r,clear:u};return i}const qe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Ue(t){function n(r,o){return Jt(r,o||{})}function e(r){const o=r.breakpoints||{},u=St(o).filter(i=>t.matchMedia(i).matches).map(i=>o[i]).reduce((i,a)=>n(i,a),{});return n(r,u)}function s(r){return r.map(o=>St(o.breakpoints||{})).reduce((o,u)=>o.concat(u),[]).map(t.matchMedia)}return{mergeOptions:n,optionsAtMedia:e,optionsMediaQueries:s}}function Qe(t){let n=[];function e(r,o){return n=o.filter(({options:u})=>t.optionsAtMedia(u).active!==!1),n.forEach(u=>u.init(r,t)),o.reduce((u,i)=>Object.assign(u,{[i.name]:i}),{})}function s(){n=n.filter(r=>r.destroy())}return{init:e,destroy:s}}function $t(t,n,e){const s=t.ownerDocument,c=s.defaultView,r=Ue(c),o=Qe(r),u=bt(),i=Re(),{mergeOptions:a,optionsAtMedia:h,optionsMediaQueries:d}=r,{on:g,off:S,emit:l}=i,m=A;let b=!1,f,p=a(qe,$t.globalOptions),y=a(p),I=[],D,T,L;function E(){const{container:F,slides:v}=y;T=(At(F)?t.querySelector(F):F)||t.children[0];const O=At(v)?T.querySelectorAll(v):v;L=[].slice.call(O||T.children)}function N(F){const v=je(t,T,L,s,c,F,i);if(F.loop&&!v.slideLooper.canLoop()){const w=Object.assign({},F,{loop:!1});return N(w)}return v}function $(F,v){b||(p=a(p,F),y=h(p),I=v||I,E(),f=N(y),d([p,...I.map(({options:w})=>w)]).forEach(w=>u.add(w,"change",A)),y.active&&(f.translate.to(f.location.get()),f.animation.init(),f.slidesInView.init(),f.slideFocus.init(G),f.eventHandler.init(G),f.resizeHandler.init(G),f.slidesHandler.init(G),f.options.loop&&f.slideLooper.loop(),T.offsetParent&&L.length&&f.dragHandler.init(G),D=o.init(G,I)))}function A(F,v){const w=j();x(),$(a({startIndex:w},F),v),i.emit("reInit")}function x(){f.dragHandler.destroy(),f.eventStore.clear(),f.translate.clear(),f.slideLooper.clear(),f.resizeHandler.destroy(),f.slidesHandler.destroy(),f.slidesInView.destroy(),f.animation.destroy(),o.destroy(),u.clear()}function P(){b||(b=!0,u.clear(),x(),i.emit("destroy"),i.clear())}function C(F,v,w){!y.active||b||(f.scrollBody.useBaseFriction().useDuration(v===!0?0:y.duration),f.scrollTo.index(F,w||0))}function B(F){const v=f.index.add(1).get();C(v,F,-1)}function Z(F){const v=f.index.add(-1).get();C(v,F,1)}function Y(){return f.index.add(1).get()!==j()}function q(){return f.index.add(-1).get()!==j()}function U(){return f.scrollSnapList}function at(){return f.scrollProgress.get(f.offsetLocation.get())}function j(){return f.index.get()}function nt(){return f.indexPrevious.get()}function ot(){return f.slidesInView.get()}function Q(){return f.slidesInView.get(!1)}function ut(){return D}function lt(){return f}function H(){return t}function k(){return T}function K(){return L}const G={canScrollNext:Y,canScrollPrev:q,containerNode:k,internalEngine:lt,destroy:P,off:S,on:g,emit:l,plugins:ut,previousScrollSnap:nt,reInit:m,rootNode:H,scrollNext:B,scrollPrev:Z,scrollProgress:at,scrollSnapList:U,scrollTo:C,selectedScrollSnap:j,slideNodes:K,slidesInView:ot,slidesNotInView:Q};return $(n,e),setTimeout(()=>i.emit("init"),0),G}$t.globalOptions=void 0;const Ke={align:"center",container:null,containScroll:"trimSnaps",direction:"ltr",dragFree:!1,dragThreshold:10,duration:25,loop:!1,skipSnaps:!1,plugins:[],showNavigationArrows:!0,showNavigationIndicators:!0,ariaPrevLabel:"Select previous slide",ariaNextLabel:"Select next slide",ariaIndicatorLabel:t=>`Select slide ${t+1}`},Xe={dragFree:pt,plugins:ge,align:Pt(["start","center","end"]),container:pe,containScroll:Pt([!1,"trimSnaps","keepSnaps"]),direction:Pt(["ltr","rtl"]),dragThreshold:Ut,duration:Ut,loop:pt,skipSnaps:pt,showNavigationArrows:pt,showNavigationIndicators:pt,ariaPrevLabel:qt,ariaNextLabel:qt,ariaIndicatorLabel:de};function Ye(t,n){let e;const s=it(!1),c=it(!1),r=it(!0),o=it(0),u=it(!1),i=it([]),a=V(()=>({options:t(),plugins:n?n():[]}));return{directive:Xt(Yt((h,{options:d,plugins:g})=>{if(e)throw new Error("Only one Embla directive can be attached per carousel widget !");return e=$t(h,d,g),e.on("scroll",()=>{s.set(!0)}),e.on("settle",()=>{s.set(!1)}),e.on("select",S=>{r.set(S.canScrollNext()),c.set(S.canScrollPrev()),o.set(S.selectedScrollSnap())}),e.on("init",()=>{u.set(!0)}),e.on("reInit",S=>{r.set(S.canScrollNext()),c.set(S.canScrollPrev()),s.set(!1),o.set(S.selectedScrollSnap())}),e.on("slidesChanged",S=>{i.set(S.slideNodes())}),r.set(e.canScrollNext()),c.set(e.canScrollPrev()),i.set(e.slideNodes()),{update:({options:S,plugins:l})=>{e.reInit(S,l)},destroy:()=>{e==null||e.destroy(),e=void 0,u.set(!1),s.set(!1),c.set(!1),r.set(!0),o.set(0),i.set([])}}}),a),stores:{scrolling$:ct(s),canScrollPrev$:ct(c),canScrollNext$:ct(r),selectedScrollSnap$:ct(o),initialized$:ct(u),slideNodes$:ct(i)},get api(){return e}}}const on=he("carousel",t=>{const[{align$:n,container$:e,containScroll$:s,direction$:c,dragFree$:r,dragThreshold$:o,duration$:u,loop$:i,skipSnaps$:a,plugins$:h,ariaPrevLabel$:d,ariaNextLabel$:g,ariaIndicatorLabel$:S,showNavigationIndicators$:l,...m},b]=le(Ke,t,Xe),f=V(()=>({align:n(),container:e(),containScroll:s(),direction:c(),dragFree:r(),dragThreshold:o(),duration:u(),loop:i(),skipSnaps:a()})),p=Ye(f,h),{stores:{slideNodes$:y,...I}}=p,{directive:D,refreshElements:T,focusPrevious:L,focusNext:E,focusFirst:N,focusLast:$}=me(),A={keys:{ArrowLeft:L,ArrowRight:E,Home:N,End:$},selector:x=>x.querySelectorAll("[role='tab']")};return{...fe({...I,...m,direction$:c,showNavigationIndicators$:l}),patch:b,api:{scrollPrev:x=>{var P,C;(C=(P=p.api)==null?void 0:P.scrollPrev)==null||C.call(P,x)},scrollNext:x=>{var P,C;(C=(P=p.api)==null?void 0:P.scrollNext)==null||C.call(P,x)},scrollTo:(x,P)=>{var C,B;(B=(C=p.api)==null?void 0:C.scrollTo)==null||B.call(C,x,P)},plugins:()=>{var x,P;return(P=(x=p.api)==null?void 0:x.plugins)==null?void 0:P.call(x)},emblaApi:()=>p.api},directives:{root:Rt(p.directive,st(()=>({classNames:{"au-carousel":jt},attributes:{role:dt("region"),"aria-roledescription":dt("carousel"),dir:c}}))),scrollPrev:st(()=>({attributes:{"aria-label":d,disabled:V(()=>!p.stores.canScrollPrev$()||void 0)},events:{click:()=>{var x;return(x=p.api)==null?void 0:x.scrollPrev()},pointerdown:x=>x.preventDefault(),touchstart:x=>x.stopPropagation()}})),scrollNext:st(()=>({attributes:{"aria-label":g,disabled:V(()=>!p.stores.canScrollNext$()||void 0)},events:{click:()=>{var x;return(x=p.api)==null?void 0:x.scrollNext()},pointerdown:x=>x.preventDefault(),touchstart:x=>x.stopPropagation()}})),tabList:Rt(Xt(D,dt(A)),Yt(()=>({destroy:y.subscribe(()=>{T()})})),st(()=>({attributes:{role:dt("tablist")}}))),tabIndicator:st(x=>({events:{click:()=>{var P;(P=p.api)==null||P.scrollTo(x().index,x().jump??!0)}},attributes:{"aria-label":V(()=>S()(x().index)),"aria-selected":V(()=>x().index===p.stores.selectedScrollSnap$()?"true":void 0),"aria-controls":V(()=>x().id),role:dt("tab"),tabindex:V(()=>x().index===p.stores.selectedScrollSnap$()?"0":"-1")}})),slide:st(x=>{const P=V(()=>x().index===p.stores.selectedScrollSnap$());return{attributes:{id:V(()=>x().id),"aria-hidden":V(()=>P()?void 0:"true"),role:V(()=>l()?"tabpanel":"group"),"aria-roledescription":V(()=>l()?void 0:"slide"),tabindex:V(()=>l()&&P()?"0":void 0)},classNames:{"au-carousel-slide":jt}}})}}});export{on as c};
