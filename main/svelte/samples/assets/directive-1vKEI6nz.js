import{a0 as f,a8 as a,I as b,aa as i}from"./AppCommon-CGu-6ZZU.js";import{n as p}from"./func-fOTgS_tI.js";const v=(r,o)=>s=>{let t=!0,e;const d=o.subscribe(u=>{var l;t?(t=!1,e=r(s,u)):(l=e==null?void 0:e.update)==null||l.call(e,u)});return{destroy(){var u;(u=e==null?void 0:e.destroy)==null||u.call(e),d()}}},y=f(void 0),$=r=>v(r,y),h=(r,o=!0)=>()=>{const s=r.subscribe(p);return{destroy:async()=>{o&&await 0,s()}}},n=r=>(o,s)=>(r(s),{update:r}),c={equal:Object.is},m=()=>{const r=b([],c);return a(r,{register:o=>{let s=!1;return r.update(t=>[...t,o]),()=>{s||(s=!0,r.update(t=>{const e=t.indexOf(o);if(e>-1){const d=[...t];return d.splice(e,1),d}return t}))}}})},A=()=>{const r=m();return{elements$:a(r),directive:o=>({destroy:r.register(o)})}},x=()=>{const r=b(null,c);return{element$:a(r),directive:o=>{let s=!1;return r.update(t=>t?(console.error("The directive cannot be used on multiple elements.",t,o),t):(s=!0,o)),s?{destroy(){r.update(t=>o===t?null:t)}}:void 0}}},O=(...r)=>(o,s)=>{const t=i(()=>r.map(e=>e(o,s)));return{update(e){i(()=>t.forEach(d=>{var u;return(u=d==null?void 0:d.update)==null?void 0:u.call(d,e)}))},destroy(){i(()=>t.reverse().forEach(e=>{var d;return(d=e==null?void 0:e.destroy)==null?void 0:d.call(e)}))}}};export{v as a,$ as b,A as c,h as d,x as e,n as f,O as m,m as r};
