import{a0 as a,a1 as we,a3 as K,$ as H,a as ne,K as oe,f as N,b as ce,h as L,s as G,j as J,d as x,p as de,e as z,O as M,P as $e,v as De}from"./AppCommon-eHSu19bS.js";import{a as _}from"./actions-D9Du0QLm.js";import{S as Q}from"./Slot-CC1OmWak.js";import{c as ye}from"./config-DoT28kdU.js";import{p as ie,r as ke,a as _e,f as Ce,s as Te}from"./focusElement-a_BRidor.js";import{c as re}from"./baseTransitions-Cb48hFlh.js";import{n as u,d as R,m as C,a as f}from"./dom-Bcg9ORcA-CVNNjcJh.js";import{w as Se,b as ae,s as He,t as P}from"./stores-BZYYu7K_.js";import{c as le}from"./widget-DYj0ZdLE.js";import{c as V,b as m,d as se,e as Ve,t as F}from"./writables-e0tyaQpe-DtuhrqNN.js";import{e as Pe}from"./extendWidget-M4_41E8J.js";import{c as xe,a as Ne}from"./collapse-CVjUhnIz-D8H1Y_o-.js";import{f as We}from"./fade-uOobJKgw-CHCKxYFl.js";const Be={animated:!0,ariaDescribedBy:"",ariaLabelledBy:"",backdropClass:"",backdropTransition:u,className:"w-full",visible:!1,container:typeof window<"u"?document.body:null,transition:u,verticalTransition:u,onHidden:u,onShown:u,width:200,height:200,onWidthChange:u,onHeightChange:u,onVisibleChange:u,resizable:!1,backdrop:!0,bodyScroll:!1},Ie={animated:V,ariaDescribedBy:F,ariaLabelledBy:F,backdropClass:F,backdropTransition:m,className:F,visible:V,transition:m,verticalTransition:m,container:Ve,onHidden:m,onShown:m,width:se(0,1/0),height:se(0,1/0),onWidthChange:m,onHeightChange:m,onVisibleChange:m,resizable:V,backdrop:V,bodyScroll:V},Ee=le("drawer",d=>{const[{backdrop$:t,backdropTransition$:p,backdropClass$:l,bodyScroll$:w,transition$:y,verticalTransition$:b,visible$:T,container$:c,className$:h,animated$:$,ariaDescribedBy$:S,ariaLabelledBy$:v,onHidden$:D,onShown$:g,width$:W,height$:O,onWidthChange$:A,onHeightChange$:X,onVisibleChange$:r,...s},n]=Se(Be,d,Ie),o=a(()=>["block-start","block-end"].some(k=>h().includes(k))),i=re({props:{animated:$,animatedOnInit:$,transition:we(a(()=>o()?b():y())),visible:T,onVisibleChange:r,onHidden:D,onShown:g}}),B=ae(W,A),I=ae(O,X),ve=R(ie,a(()=>({container:c()}))),pe=f(()=>({attributes:{class:h,role:H("dialog"),"aria-describedby":S,"aria-labelledby":v,"aria-modal":H("true"),tabIndex:H("-1")},styles:{width:a(()=>o()?"100%":`${B()}px`),height:a(()=>o()?`${I()}px`:"100%"),position:a(()=>c()!==document.body&&c()!==null?"relative":"fixed"),outline:H("none")},events:{keydown:async e=>{const{key:k}=e;k==="Escape"&&await i.api.hide()}}})),be=f(()=>({styles:{width:a(()=>o()?"100%":`${B()}px`),height:a(()=>o()?`${I()}px`:"100%")}})),U=re({props:{animated:$,transition:p}}),he=R(ie,a(()=>{const e=c(),k=e?i.stores.element$():void 0;return{container:e,insertBefore:k?.parentElement===e?k:void 0}})),ge=a(()=>(w()||(q()?_e():ke()),!t()||q())),ue=f(()=>({attributes:{class:l,"data-agnos-ignore-inert":P},events:{click:async()=>{await i.api.hide()}}})),Z=a(()=>["inline-start","block-start"].some(e=>h().includes(e))?1:-1),Y=K(0),j=K(0),E=K(0),me=f(()=>({attributes:{draggable:H("true")},events:{dragstart:e=>{j.set(o()?e.clientY:e.clientX),Y.set(o()?I():B()),e.dataTransfer?.setDragImage(new Image,0,0)},dragend:e=>{document.body.style.cursor="",ee(e)},dragover:e=>{e.preventDefault()},drag:e=>{ee(e)}}})),ee=e=>{!o()&&e.clientX>0?(E.set(Y()+Z()*(e.clientX-j())),B.set(E())):o()&&e.clientY>0&&(E.set(Y()+Z()*(e.clientY-j())),I.set(E()))},te=i.stores.visible$,fe=a(()=>i.stores.transitioning$()||U.stores.transitioning$()),q=a(()=>!fe()&&!te());return{...He({...s,backdropClass$:l,className$:h,container$:c,visible$:te,backdropHidden$:ge,hidden$:q}),patch:n,api:{open:i.api.show,close:i.api.hide},directives:{containerDirective:be,drawerPortalDirective:ve,drawerDirective:C(i.directives.directive,R(Te,a(()=>!w())),pe,Ce),backdropPortalDirective:he,backdropDirective:C(U.directives.directive,ue),splitterDirective:me}}}),Fe={structure:void 0,header:void 0,children:void 0},ze={structure:void 0,header:void 0,children:void 0},Le={backdropTransition:We,transition:Ne,verticalTransition:xe},Oe=le("drawer",d=>{const t=Pe(Ee,Fe,ze,Le)(d);return{...t,directives:{...t.directives,drawerDirective:C(t.directives.drawerDirective,f(()=>({classNames:{"au-drawer":P,show:t.stores.visible$}}))),backdropDirective:C(t.directives.backdropDirective,f(()=>({classNames:{"au-drawer-backdrop":P,show:t.stores.visible$}}))),splitterDirective:C(t.directives.splitterDirective,f(()=>({classNames:{"au-splitter":P}}))),containerDirective:C(t.directives.containerDirective,f(()=>({classNames:{"au-drawer-container":P}})))}}}),Ae=Oe;var Xe=N("<div></div>"),Ye=N('<div class="au-drawer-header"><!></div> <div class="au-drawer-body"><!></div> <!>',1);function je(d,t){ne(t,!0);let p=oe(t,["$$slots","$$events","$$legacy"]),{state:l,directives:w}=p;var y=Ye(),b=ce(y),T=L(b);Q(T,{get content(){return l.header},get props(){return p}});var c=G(b,2),h=L(c);Q(h,{get content(){return l.children},get props(){return p}});var $=G(c,2);{var S=v=>{var D=Xe();z(D,g=>({...g}),[()=>({})]),_(D,g=>w.splitterDirective?.(g)),x(v,D)};J($,v=>{l.resizable&&v(S)})}x(d,y),de()}const qe=(d,t=$e)=>{je(d,De(t))};var Ke=N("<div><div><!></div></div>"),Me=N("<div></div>"),Re=N("<!> <!>",1);function dt(d,t){ne(t,!0);let p=M(t,"width",15),l=M(t,"height",15),w=M(t,"visible",15),y=oe(t,["$$slots","$$events","$$legacy","width","height","visible"]);const b=ye(Ae,{get props(){return{...y,width:p(),height:l(),visible:w()}},defaultConfig:{structure:qe},events:{onWidthChange:r=>{p(r)},onHeightChange:r=>{l(r)},onVisibleChange:r=>{w(r)}}}),{directives:{backdropDirective:T,backdropPortalDirective:c,drawerDirective:h,drawerPortalDirective:$,containerDirective:S},state:v}=b,D=b.api;var g=Re(),W=ce(g);{var O=r=>{var s=Ke();z(s,i=>({...i}),[()=>({})]);var n=L(s);z(n,i=>({...i}),[()=>({})]);var o=L(n);Q(o,{get content(){return v.structure},get props(){return b}}),_(n,i=>S?.(i)),_(s,i=>$?.(i)),_(s,i=>h?.(i)),x(r,s)};J(W,r=>{v.hidden||r(O)})}var A=G(W,2);{var X=r=>{var s=Me();z(s,n=>({...n}),[()=>({})]),_(s,n=>c?.(n)),_(s,n=>T?.(n)),x(r,s)};J(A,r=>{v.backdropHidden||r(X)})}return x(d,g),de({api:D})}export{dt as D};
