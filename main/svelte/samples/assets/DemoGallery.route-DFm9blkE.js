import{p as at,t as g,e as Q,d as c,h as F,j as C,c as b,a as rt,f as dt,g as o,b as Y,s as G,P as J,S as I,Q as K,as as ot,a2 as ct,l as O,M as U,R as D,X as $,Y as ut,n as vt,L as mt}from"./AppCommon-BhqekdnF.js";import{h as X}from"./html-CX2b64yE.js";import{a as v}from"./actions-DZjIkt8l.js";import{b as ft}from"./this-BetWL9OH.js";import{c as tt}from"./config-D_LJ3MBe.js";import{c as N}from"./dom-gfxqXJpK-Cwq939KW.js";import{p as ht,n as pt}from"./next-qIJV01AO.js";import{c as et}from"./index-BDmAFivv.js";import"./stores-C9PduWJD.js";import"./index-client-C1tMzqxv.js";import"./writables-CgpOQ4hA-BIau_gmo.js";var bt=g('<span class="absolute top-1/2 -translate-y-1/2 left-1/2 loading loading-spinner loading-lg text-primary"></span>'),gt=g("<source>"),wt=g('<!> <picture class="flex justify-center"><!> <img class="select-none object-contain"></picture>',1),_t=g('<div class="skeleton w-full h-full"></div>'),xt=g("<div><!></div>");function yt(l,e){at(e,!0);let w=Y(!1);var u=xt();let B;var y=c(u);{var T=s=>{var h=wt(),p=dt(h);{var M=m=>{var R=bt();b(m,R)};Q(p,m=>{o(w)||m(M)})}var H=G(p,2),V=c(H);J(V,17,()=>e.sources,K,(m,R)=>{let W=()=>o(R).media,z=()=>o(R).srcset;var P=gt();F(()=>{I(P,"media",W()),I(P,"srcset",z())}),b(m,P)});var S=G(V,2);let j;F(()=>{I(S,"alt",e.alt),I(S,"src",e.src),j=ot(S,"",j,{"aspect-ratio":e.aspectRatio})}),ct("load",S,()=>O(w,!0)),b(s,h)},i=s=>{var h=_t();b(s,h)};Q(y,s=>{e.loadRequested?s(T):s(i,!1)})}v(u,(s,h)=>{var p;return(p=N)==null?void 0:p(s,h)},()=>"relative basis-full min-w-0 shrink-0 grow-0 flex justify-center"),v(u,(s,h)=>{var p;return(p=e.slide)==null?void 0:p.call(e,s,h)},()=>({id:e.id,index:e.index})),F(s=>B=C(u,B,{...s}),[()=>({})]),b(l,u),rt()}const St=`<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" /></svg>
`,kt='<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25" /></svg>';var Mt=g('<div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between"><button><!></button> <button><!></button></div>'),Rt=g('<div class="absolute right-5 bottom-5 flex"><button class="btn btn-primary btn-sm md:btn-md btn-square opacity-75 hover:opacity-100"><!></button></div>'),qt=g('<button><img class="select-none" alt="random picsum" loading="lazy"></button>'),Ft=g('<div class="grid grid-flow-row max-h-dvh"><div><div class="flex max-h-full"></div> <!> <!></div> <div><div class="grid grid-flow-col auto-cols-max gap-2 mx-1 my-1 items-center" role="tablist"></div></div></div>');function jt(l,e){at(e,!0);let w=U(e,"withNavArrows",3,!1),u=U(e,"withShowFullscreen",3,!1),B=U(e,"aspectRatio",3,4/3),y=Y(D(e.photos.map((t,a)=>({...t,loadRequested:a===0}))));$(()=>{O(y,D(e.photos.map((t,a)=>({...t,loadRequested:a===0}))))});const{state:T,directives:i}=tt({factory:et,widgetName:"carousel"}),{directives:s,api:{scrollTo:h}}=tt({factory:et,widgetName:"carousel",props:{dragFree:!0,containScroll:"keepSnaps"}});let p=mt(()=>!!(document!=null&&document.fullscreenEnabled)&&u()),M=Y(!1),H;const V=()=>{o(M)?document.exitFullscreen():H.requestFullscreen(),O(M,!o(M))};$(()=>{const t=T.selectedScrollSnap;ut(()=>{h(t),o(y)[t].loadRequested=!0,t>0&&(o(y)[t-1].loadRequested=!0),t<o(y).length-1&&(o(y)[t+1].loadRequested=!0)})});const S=t=>t.preventDefault();var j=Ft(),m=c(j);let R;var W=c(m);J(W,21,()=>o(y),K,(t,a,r)=>{let k=()=>o(a).src,_=()=>o(a).alt,x=()=>o(a).sources,q=()=>o(a).loadRequested;yt(t,{get src(){return k()},get alt(){return _()},get sources(){return x()},get loadRequested(){return q()},get aspectRatio(){return B()},id:`gallery-photo-${r??""}`,index:r,get slide(){return i.slide}})});var z=G(W,2);{var P=t=>{var a=Mt(),r=c(a);let k;var _=c(r);X(_,()=>ht),v(r,(n,d)=>{var f;return(f=N)==null?void 0:f(n,d)},()=>"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100"),v(r,n=>{var d;return(d=i.scrollPrev)==null?void 0:d.call(i,n)});var x=G(r,2);let q;var E=c(x);X(E,()=>pt),v(x,(n,d)=>{var f;return(f=N)==null?void 0:f(n,d)},()=>"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100"),v(x,n=>{var d;return(d=i.scrollNext)==null?void 0:d.call(i,n)}),F((n,d)=>{k=C(r,k,{onpointerdown:S,...n}),q=C(x,q,{onpointerdown:S,...d})},[()=>({}),()=>({})]),b(t,a)};Q(z,t=>{w()&&t(P)})}var lt=G(z,2);{var it=t=>{var a=Rt(),r=c(a);r.__click=V,r.__pointerdown=S;var k=c(r);X(k,()=>o(M)?kt:St),F(()=>I(r,"aria-label",o(M)?"leave fullscreen":"open photo in fullscreen")),b(t,a)};Q(lt,t=>{o(p)&&t(it)})}v(m,(t,a)=>{var r;return(r=N)==null?void 0:r(t,a)},()=>"overflow-hidden relative cursor-grab active:cursor-grabbing"),v(m,t=>{var a;return(a=i.root)==null?void 0:a.call(i,t)});var A=G(m,2);let Z;var nt=c(A);J(nt,21,()=>e.photos,K,(t,a,r)=>{let k=()=>o(a).thumbnail;var _=qt();let x;var q=c(_);let E;v(_,(n,d)=>{var f;return(f=N)==null?void 0:f(n,d)},()=>["ring-primary cursor-pointer",T.selectedScrollSnap===r&&"ring-3"]),v(_,(n,d)=>{var f;return(f=i.tabIndicator)==null?void 0:f.call(i,n,d)},()=>({index:r,id:`gallery-photo-${r}`})),F(n=>{x=C(_,x,{...n}),I(q,"src",k()),E=ot(q,"",E,{"aspect-ratio":B()})},[()=>({})]),b(t,_)}),v(A,(t,a)=>{var r;return(r=N)==null?void 0:r(t,a)},()=>"overflow-hidden mt-1 mb-2"),v(A,t=>{var a;return(a=s.root)==null?void 0:a.call(s,t)}),ft(j,t=>H=t,()=>H),F((t,a)=>{R=C(m,R,{...t}),Z=C(A,Z,{...a})},[()=>({}),()=>({})]),b(l,j),rt()}vt(["click","pointerdown"]);const Lt=[36,43,70,102,124,142,156,242,288,289,295,361,400,488,496,515,557,607,623,645],Ct=[124,289,400,488,607],st=[],L=(l,e,w,u)=>`https://picsum.photos/id/${l}/${u?w:e}/${u?e:w}.webp`;for(const l of Lt){const e=Ct.includes(l);st.push({thumbnail:L(l,120,90,e),src:L(l,1600,1200,e),alt:"random picsum",sources:[{media:"(max-width: 599px)",srcset:L(l,600,450,e)},{media:"(min-width: 600px) and (max-width: 799px)",srcset:L(l,800,600,e)},{media:"(min-width: 800px) and (max-width: 1199px)",srcset:L(l,1200,900,e)},{media:"(min-width: 1200px)",srcset:L(l,1600,1200,e)}]})}const Nt=[...st];var Gt=g('<div class="w-full flex justify-center"><div class="max-w-[600px] lg:max-w-[1000px]"><!></div></div>');function Ut(l){var e=Gt(),w=c(e),u=c(w);jt(u,{photos:Nt,withNavArrows:!0,withShowFullscreen:!0}),b(l,e)}export{Ut as default};
