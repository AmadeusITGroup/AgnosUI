import{a0 as p,Z as a,a1 as y,E as u,D as m}from"./index-14bf255f.js";import{i as d}from"./directiveUtils-0f196314.js";import{t as W,f as b}from"./stores-0a381eb7.js";const g=(t,e,o=1/0)=>{if(e!==void 0)if(typeof e=="object"&&e&&o>=1)for(const s of Object.keys(e))t[s]=g(t[s]??{},e[s],o-1);else return e;return t},S=(t,e=d)=>{const o=p({}),s=e===d?t:a(()=>e(g({},t==null?void 0:t(),2)));return y(a(()=>g(g({},s==null?void 0:s(),2),o(),2)),{...o,own$:o,adaptedParent$:s,parent$:t})},h=Symbol("useSvelteSlot");function v(t){let e={};return o=>{const s=b(e,o);e=o,s&&t(s)}}const x=(t,e)=>e?(...o)=>{t(...o),e(...o)}:t,F=t=>{const e=p(void 0,{equal:Object.is});return y(a(()=>x(t,e())),{set:e.set,update:e.update})},j=({factory:t,$$slots:e,defaultConfig:o,widgetConfig:s,events:n})=>{const r=W(o),c={};for(const[i,C]of Object.entries(e))C&&(c[`slot${i[0].toUpperCase()}${i.substring(1)}`]=h);const l={};for(const i of Object.keys(n))l[i]=F(n[i]);const f=t({config:a(()=>({...r(),...s==null?void 0:s(),...c})),props:l});return{...f,patchChangedProps:v(f.patch)}},E=t=>typeof t=="function"&&!!t.prototype&&(t.prototype.$set||/^Proxy</.test(t.name))||typeof(t==null?void 0:t.render)=="function",P=(t=Symbol("widgetsConfig"))=>{const e=n=>{const r=u(t),c=S(r,n);return m(t,c),c},o=n=>{const r=u(t);return a(()=>r==null?void 0:r()[n])};return{widgetsDefaultConfigKey:t,createWidgetsDefaultConfig:e,getContextWidgetConfig:o,callWidgetFactory:({factory:n,widgetName:r=null,$$slots:c,defaultConfig:l={},events:f})=>j({factory:n,$$slots:c,defaultConfig:l,widgetConfig:r?o(r):null,events:f})}},{widgetsDefaultConfigKey:I,createWidgetsDefaultConfig:R,getContextWidgetConfig:q,callWidgetFactory:U}=P();export{R as a,U as c,E as i,h as u};
