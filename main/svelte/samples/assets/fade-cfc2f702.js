const h=()=>{},S=r=>!!r,e=(r,s=S)=>{let i;const c=new Promise(n=>i=n);let o=()=>{t(),o=h},t=h;return t=r.subscribe(n=>{s(n)&&(i(n),o())}),o===h&&t(),{promise:c,unsubscribe(){o()}}},g=(r,s)=>{let i;const c=new Promise(n=>i=n);let o=()=>{r.removeEventListener(s,t),o=h};const t=n=>{n.target===r&&(i(n),o())};return r.addEventListener(s,t),{promise:c,unsubscribe(){o()}}},T=r=>{let s;return{promise:new Promise(i=>{s=setTimeout(()=>{s=void 0,i()},r)}),unsubscribe(){s&&(clearTimeout(s),s=void 0)}}};function w(r=document.body){r.getBoundingClientRect()}const f=(r,s)=>{s&&s.length>0&&r.classList.add(...s)},a=(r,s)=>{s&&s.length>0&&r.classList.remove(...s)};function v(r){return window.getComputedStyle(r).transitionProperty!=="none"}function z(r){const{transitionDelay:s,transitionDuration:i}=window.getComputedStyle(r),c=parseFloat(s),o=parseFloat(i);return(c+o)*1e3}const F=()=>{},d=r=>async(s,i,c,o,t)=>{const n=r(s,i,c,t)??F;if(c&&v(s)){const b=g(o,"abort"),u=g(s,"transitionend"),p=T(z(s));await Promise.race([b.promise,u.promise,p.promise]),b.unsubscribe(),u.unsubscribe(),p.unsubscribe()}o.aborted||n()},D=({animationPendingClasses:r,animationPendingShowClasses:s,animationPendingHideClasses:i,showClasses:c,hideClasses:o})=>d((t,n,b,u)=>{if(a(t,c),a(t,o),b){if(a(t,n==="show"?i:s),!u.started){u.started=!0;const p=n==="show"?o:c;f(t,p),w(t),a(t,p)}f(t,r),w(t),f(t,n==="show"?s:i)}return()=>{a(t,r),a(t,s),a(t,i),f(t,n==="show"?c:o)}}),y=({dimension:r="height",showClasses:s,hideClasses:i,animationPendingClasses:c}={})=>d((o,t,n,b)=>{if(n){let{maxSize:u,minSize:p}=b;u||(a(o,c),a(o,i),f(o,s),u=o.getBoundingClientRect()[r]+"px",b.maxSize=u),p||(a(o,c),a(o,s),f(o,i),p=o.getBoundingClientRect()[r]+"px",b.minSize=p),a(o,s),a(o,i);const l=t==="show"?[p,u]:[u,p];o.style[r]=l[0],w(o),f(o,c),w(o),o.style[r]=l[1]}else a(o,t==="show"?i:s);return()=>{a(o,c),f(o,t==="show"?s:i),o.style[r]=""}}),L={dimension:"height",hideClasses:["collapse"],showClasses:["collapse","show"],animationPendingClasses:["collapsing"]},E={dimension:"width",hideClasses:["collapse","collapse-horizontal"],showClasses:["collapse","collapse-horizontal","show"],animationPendingClasses:["collapsing","collapse-horizontal"]},B=y(L),R=y(E),x=D({animationPendingClasses:["fade"],animationPendingShowClasses:["show"],showClasses:["show"],hideClasses:["d-none"]});export{R as a,B as c,x as f,e as p};
