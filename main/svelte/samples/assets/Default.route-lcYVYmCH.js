import{n as M,p as A,O as V,K as W,t as c,d as m,b as O,e as C,h as y,j as w,c as n,a as E,m as q,a3 as z,i as D}from"./AppCommon-B-ROr4aU.js";import{s as G}from"./snippet-DFOQFhBJ.js";import{a as p}from"./actions-Cbyr4fVv.js";import{c as H}from"./config-ZUzlAODH.js";import{c as I}from"./modal-CGK3h9pR-C7OYaZ8F.js";import{c as x}from"./dom-gfxqXJpK-CVUkDlT_.js";import"./stores-DWJrwGVR.js";import"./index-client-hhUEBj_e.js";import"./writables-CgpOQ4hA-BLtlctEd.js";import"./baseTransitions-BKaaUOED.js";import"./promise-XSP94FjG-CHur0jPm.js";var J=c('<form method="dialog"><button>✕</button></form>'),L=c('<form method="dialog" class="modal-backdrop"><button>Close</button></form>'),Q=c('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function R(a,t){A(t,!0);let e=V(t,"visible",15),v=W(t,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:P,directives:{closeButtonDirective:u,dialogDirective:b},api:j}=H({factory:I,widgetName:"modal",get props(){return{visible:e(),closeOnOutsideClick:t.closeOnOutsideClick,...v}},enablePatchChanged:!0,defaultConfig:{closeButton:!0},events:{onVisibleChange:o=>{e(o)}}}),f=j;var r=Q();let g;var h=m(r),_=m(h);G(_,()=>t.children);var B=O(_,2);{var F=o=>{var l=J(),s=m(l);let d;p(s,(i,S)=>{var k;return(k=x)==null?void 0:k(i,S)},()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),p(s,i=>u==null?void 0:u(i)),y(i=>d=w(s,d,{...i}),[()=>({})]),n(o,l)};C(B,o=>{P.closeButton&&o(F)})}var K=O(h,2);{var N=o=>{var l=L(),s=m(l);s.__click=function(...d){var i;(i=f.close)==null||i.apply(this,d)},n(o,l)};C(K,o=>{t.closeOnOutsideClick&&o(N)})}return p(r,(o,l)=>{var s;return(s=x)==null?void 0:s(o,l)},()=>"modal modal-bottom sm:modal-middle"),p(r,o=>b==null?void 0:b(o)),y(o=>g=w(r,g,{onclose:f.close,...o}),[()=>({})]),n(a,r),E({api:f})}M(["click"]);async function T(a){const t=document.createElement("div");document.body.append(t);const e=q(R,{target:t,props:a});try{return await e.api.open()}catch{t.remove(),await z(e)}}const U=a=>{var t=Y();n(a,t)},X=(a,t)=>T({children:t,closeOnOutsideClick:!0});var Y=c('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),Z=c('<button class="btn" aria-haspopup="dialog">Open modal</button>');function dt(a,t){A(t,!1),D();var e=Z();e.__click=[X,U],n(a,e),E()}M(["click"]);export{dt as default};
