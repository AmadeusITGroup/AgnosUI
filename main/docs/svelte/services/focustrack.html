<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="robots" content="noindex" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="icon" type="image/svg+xml" href="../../../agnosui-logo.svg" />
		
		<link href="../../../_app/immutable/assets/0.NNfg1p8Q.css" rel="stylesheet">
		<link href="../../../_app/immutable/assets/Heading.yv4Axiq2.css" rel="stylesheet">
		<link href="../../../_app/immutable/assets/Code.o2R87A-P.css" rel="stylesheet">
		<link href="../../../_app/immutable/assets/Sample.1UAvL4C0.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../_app/immutable/entry/start.k8pK-dgs.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/entry.8gY8MdSf.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/scheduler.vIqS6afm.js">
		<link rel="modulepreload" href="../../../_app/immutable/entry/app.HoP0HKOK.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/preload-helper.0HuHagjb.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.mkZVwcvc.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/0.UM7gN47y.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Svg.IE75k4rD.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/stores.gGQr04JG.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/stores.BnfkgK-D.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/app.J_zXB9CR.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/directive.w6odE-wb.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/collapse.-2ydjFD6.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/dom.Gn-nzOYw.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/3.z53Zy0U-.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/15.vaZvzEJ_.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Markdown.t1Tw2PSx.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/tooltip.Rh69Shr6.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Heading.fCeLiGgF.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Header.CGaENsKL.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Code.GrR6sSDf.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Sample.Azlxi07Z.js"><title>AgnosUI - Focus track for svelte</title><!-- HEAD_svelte-1rwl7k1_START --><meta name="description" content="Documentation for services focustrack"><!-- HEAD_svelte-1rwl7k1_END --><!-- HEAD_svelte-1fpim28_START --><!-- HEAD_svelte-1fpim28_END -->
		<title>AgnosUI</title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div id="root">   <div class="agnos-ui svelte-cj19qs"><nav class="demo-nav-top navbar navbar-dark bg-primary bg-gradient svelte-cj19qs"><div class="container-fluid"><a class="navbar-brand" href="../../../">AgnosUI</a> <div class="align-items-center d-none d-md-flex"><div class="d-flex align-items-center"></div> <a class="nav-link text-white ms-3 svelte-cj19qs active" href="../../../docs/angular/getting-started/installation" aria-current="page">Documentation</a> <a class="nav-link text-white ms-3 svelte-cj19qs" href="../../../blog/2024-01-12">Blog</a> <a class="nav-link text-white ms-3" href="https://github.com/AmadeusITGroup/AgnosUI" aria-label="link to GitHub repository" target="_blank"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
</svg><!-- HTML_TAG_END --></span></a> <a class="nav-link text-white ms-3" href="https://twitter.com/AgnosUI" aria-label="link to twitter / x account" target="_blank"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter-x" viewBox="0 0 16 16">
  <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/>
</svg><!-- HTML_TAG_END --></span></a> <span class="ms-3 text-white">v0.0.0</span></div> <div class="d-block d-md-none"><button class="text-white btn d-flex align-items-center pe-0" aria-expanded="false"> <span class="svg icon-20 me-1"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
  <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
</svg><!-- HTML_TAG_END --></span></button>   <dialog class="svelte-7z99pq"><div class="menu-title text-center border-bottom pb-2 svelte-7z99pq"><span class="menu-title-text svelte-7z99pq">AgnosUI</span> <button type="button" class="btn-close pb-3 pe-3 svelte-7z99pq" aria-label="Close menu"></button></div> <nav class="navbar navbar-light flex-column align-items-stretch"><a class="nav-item nav-link svelte-1anas1w active" href="../../../docs/angular/getting-started/installation" aria-current="page">Documentation</a> <hr> <a class="nav-item nav-link svelte-1anas1w" href="../../../blog/2024-01-12">Blog</a> <hr></nav> <div class="d-flex justify-content-center"><a class="nav-link" href="https://github.com/AmadeusITGroup/AgnosUI" aria-label="link to GitHub repository" target="_blank"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
</svg><!-- HTML_TAG_END --></span></a> <a class="nav-link ms-3" href="https://twitter.com/AgnosUI" aria-label="link to twitter / x account" target="_blank"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter-x" viewBox="0 0 16 16">
  <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/>
</svg><!-- HTML_TAG_END --></span></a> <div class="ms-3"><span class="mt-4">v0.0.0</span></div></div> </dialog></div></div></nav> <div class="demo-main d-flex flex-column svelte-cj19qs"><div class="container-xxl"><div class="row flex-wrap flex-sm-nowrap align-content-between"><aside class="demo-sidebar d-none d-md-flex align-items-center align-items-sm-start col-auto side-menu me-3 svelte-cj19qs"><nav class="w-100 mt-1"><strong class="d-flex w-100 align-items-center fw-semibold" data-svelte-h="svelte-1cmn3jf">Framework</strong> <div class="col flex-grow-0"><div class="btn-group btn-group-sm me-2 my-2 bg-white" role="group" aria-label="Basic radio toggle button group"><a href="../../../docs/angular/services/focustrack" class="btn btn-outline-primary" aria-current="true">Angular</a> <a href="../../../docs/react/services/focustrack" class="btn btn-outline-primary" aria-current="true">React</a> <a href="../../../docs/svelte/services/focustrack" class="btn btn-outline-primary active" aria-current="page">Svelte</a></div></div> <div class="mb-2"><button class="btn p-1 d-flex align-items-center btn-header fw-semibold w-100 justify-content-between svelte-etyned" aria-expanded="false">Getting started <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 100 100" class="ms-1 svelte-etyned"><rect class="horizontal svelte-etyned" x="20" y="45" width="60" height="10" fill="black"></rect><rect class="vertical svelte-etyned" x="45" y="20" width="10" height="60" fill="black"></rect></svg></button> <div class="contents collapse"><div> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/getting-started/introduction">Introduction </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/getting-started/installation">Installation </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/getting-started/core-values">Core values </a></div> </div> </div><div class="mb-2"><button class="btn p-1 d-flex align-items-center btn-header fw-semibold w-100 justify-content-between svelte-etyned" aria-expanded="false">Headless <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 100 100" class="ms-1 svelte-etyned"><rect class="horizontal svelte-etyned" x="20" y="45" width="60" height="10" fill="black"></rect><rect class="vertical svelte-etyned" x="45" y="20" width="10" height="60" fill="black"></rect></svg></button> <div class="contents collapse"><div> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/headless/introduction">Introduction </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/headless/configuration">Configuration </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/headless/slots">Slots </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/headless/directives">Directives </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/headless/transitions">Transitions </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/headless/extending">Extending </a></div> </div> </div><div class="mb-2"><button class="btn p-1 d-flex align-items-center btn-header fw-semibold w-100 justify-content-between svelte-etyned" aria-expanded="false">Bootstrap flavor <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 100 100" class="ms-1 svelte-etyned"><rect class="horizontal svelte-etyned" x="20" y="45" width="60" height="10" fill="black"></rect><rect class="vertical svelte-etyned" x="45" y="20" width="10" height="60" fill="black"></rect></svg></button> <div class="contents collapse"><div> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/bootstrap-flavor/introduction">Introduction </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/bootstrap-flavor/customization">Customization </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/bootstrap-flavor/extending">Extending </a></div> </div> </div><div class="mb-2"><button class="btn p-1 d-flex align-items-center btn-header fw-semibold w-100 justify-content-between svelte-etyned" aria-expanded="false">Components <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 100 100" class="ms-1 svelte-etyned"><rect class="horizontal svelte-etyned" x="20" y="45" width="60" height="10" fill="black"></rect><rect class="vertical svelte-etyned" x="45" y="20" width="10" height="60" fill="black"></rect></svg></button> <div class="contents collapse"><div> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/components/accordion/examples">Accordion </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/components/alert/examples">Alert </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/components/modal/examples">Modal </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/components/pagination/examples">Pagination </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/components/progressbar/examples">Progressbar </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/components/rating/examples">Rating </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/components/select/examples">Select </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/components/slider/examples">Slider </a></div> </div> </div><div class="mb-2"><button class="btn p-1 d-flex align-items-center btn-header fw-semibold w-100 justify-content-between svelte-etyned" aria-expanded="true">Services <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 100 100" class="ms-1 svelte-etyned"><rect class="horizontal svelte-etyned" x="20" y="45" width="60" height="10" fill="black"></rect><rect class="vertical svelte-etyned expanded" x="45" y="20" width="10" height="60" fill="black"></rect></svg></button> <div class="contents"><div> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/services/introduction">Introduction </a> <a class="menu-item menu-item-sidenav active" aria-current="page" href="../../../docs/svelte/services/focustrack">Focustrack </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/services/floating-ui">Floating UI </a> <a class="menu-item menu-item-sidenav" href="../../../docs/svelte/services/intersection">Intersection </a></div> </div> </div></nav></aside> <div class="pb-4 col"><div class="demo-mobile-menu d-block d-lg-none svelte-cj19qs"><div class="d-flex align-items-center justify-content-between"><button class="d-md-none text-dark d-flex align-items-center btn btn-link link-underline link-underline-opacity-0" aria-expanded="false"> <span class="svg icon-20 me-1"><!-- HTML_TAG_START --><svg data-v-5b7ea3a9="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24"
    class="menu-icon">
    <path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path>
    <path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path>
    <path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path>
    <path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path>
</svg><!-- HTML_TAG_END --></span><span class="menu-text" data-svelte-h="svelte-pf72vn">Menu</span></button> <button class="text-dark d-flex align-items-center btn btn-link link-underline link-underline-opacity-0" aria-expanded="false"><span class="menu-text" data-svelte-h="svelte-mykh62">On this page</span>  <span class="svg icon-20 me-1"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
</svg><!-- HTML_TAG_END --></span></button></div>   <dialog class="svelte-7z99pq"><div class="menu-title text-center border-bottom pb-2 svelte-7z99pq"><span class="menu-title-text svelte-7z99pq"></span> <button type="button" class="btn-close pb-3 pe-3 svelte-7z99pq" aria-label="Close menu"></button></div>  </dialog></div> <div>  <header class="bg-light pt-4 px-4 px-lg-5 d-flex mb-4 align-items-center title  pb-4"><div class="row align-items-center w-100"><h1 class="col-auto me-auto me-md-none mb-0 p-0 p-md-3 text-center text-md-start w-100">Focus track</h1></div> </header><section><h2 id="motivation" class=" svelte-1fw63p">Motivation <a class="anchor-link svelte-1fw63p" href="#motivation" aria-label="link to Motivation"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!-- HTML_TAG_END --></span></a></h2><p>In a web application, there is often a requirement to determine whether an element or any of its descendants currently has focus, typically for accessibility purposes. Developers commonly devise their own methods to track this information. In AgnosUI, we provide a utility in core services that AgnosUI components leverage for this purpose.
Utilize the globally readable signal <code>activeElement$</code> to monitor the current focused item. If your focus is solely on your DOM element and its descendants, you have the option to generate a custom signal using the <code>HasFocus</code> factory.</p></section><section><h2 id="service-overview" class=" svelte-1fw63p">Service Overview <a class="anchor-link svelte-1fw63p" href="#service-overview" aria-label="link to Service Overview"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!-- HTML_TAG_END --></span></a></h2><p>This service exports functionality related to managing focus within a web application. It includes a readable signal, <code>activeElement$</code>, representing the currently active HTML element, and a factory function, <code>createHasFocus()</code>, that creates an object implementing the <code>HasFocus</code> interface.</p><p>To install the core part, open your project's terminal and run the following command:</p><div class="bg-light-subtle doc p-1 d-flex flex-nowrap align-items-start py-2  px-2 px-sm-4 svelte-c63mpx"> <pre class="mb-0 align-self-center svelte-c63mpx" tabindex="0"><code><!-- HTML_TAG_START -->npm i @agnos-ui/core<!-- HTML_TAG_END --></code></pre> <button class="btn flex-grow-0 flex-shrink-0 ms-auto" aria-label="copy to clipboard"> <span class="svg align-middle icon-20"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"/>
  <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"/>
</svg><!-- HTML_TAG_END --></span></button> </div><h3 id="`activeelement$`-readable-signal" class=" svelte-1fw63p">`activeElement$` Readable Signal <a class="anchor-link svelte-1fw63p" href="#`activeelement$`-readable-signal" aria-label="link to `activeElement$` Readable Signal"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!-- HTML_TAG_END --></span></a></h3><p><code>activeElement$</code> is a readable signal that provides information about the currently focused HTML element.
When at least a consumer starts listening its value, it sets the active element to the current <code>document.activeElement</code>.
The active element is updated each time a <code>focusin</code>/ <code>focusout</code> event is triggered on the <code>document.documentElement</code>.
The event listeners are removed when the number of listeners fall to 0.</p><h3 id="`createhasfocus`-factory" class=" svelte-1fw63p">`createHasFocus` Factory <a class="anchor-link svelte-1fw63p" href="#`createhasfocus`-factory" aria-label="link to `createHasFocus` Factory"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!-- HTML_TAG_END --></span></a></h3><p><code>createHasFocus</code> is a factory function that creates an object conforming to the <code>HasFocus</code> interface.
It provides:</p><ul><li><code>directive</code> that can be apply to elements to track if the focus is on one of the elements or on one of their descendent. </li><li><code>hasFocus$</code> signal (that internally uses the <code>activeElement$</code> signal) that say if the focus is actually among the elements (or their descendent) targeted by the directive. </li></ul></section><section><h2 id="usage" class=" svelte-1fw63p">Usage <a class="anchor-link svelte-1fw63p" href="#usage" aria-label="link to Usage"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!-- HTML_TAG_END --></span></a></h2><p>Whenever you want to check which element of the DOM has the focus, you can simply import the signal <code>activeElement$</code> and <code>subscribe</code> to it.</p><h3 id="in-action" class=" svelte-1fw63p">In action <a class="anchor-link svelte-1fw63p" href="#in-action" aria-label="link to In action"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!-- HTML_TAG_END --></span></a></h3><div class="mb-4 py-2 px-0 px-sm-3"><div class="position-relative border"> <iframe class="demo-sample d-block" title="Focustrack"></iframe></div> <div class="btn-toolbar border border-top-0 d-flex align-items-center p-1" role="toolbar" aria-label="Toolbar with button groups"><button class="btn btn-sm btn-link m-1 p-0" aria-label="Show or hide the code"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-code" viewBox="0 0 16 16">
  <path d="M5.854 4.854a.5.5 0 1 0-.708-.708l-3.5 3.5a.5.5 0 0 0 0 .708l3.5 3.5a.5.5 0 0 0 .708-.708L2.707 8zm4.292 0a.5.5 0 0 1 .708-.708l3.5 3.5a.5.5 0 0 1 0 .708l-3.5 3.5a.5.5 0 0 1-.708-.708L13.293 8z"/>
</svg><!-- HTML_TAG_END --></span></button> <button class="btn btn-sm btn-link m-1 p-0" aria-label="Open example in stackblitz"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
  <path d="M8 18.1176H14.8868L10.8359 28L24 13.8824H17.1132L21.1641 4L8 18.1176Z" fill="currentColor"/>
</svg>
<!-- HTML_TAG_END --></span></button> <a href="../../../svelte/samples/#/focustrack/focustrack" class="action m-1 p-0 svelte-1i76uzh" target="_blank" rel="noreferrer nofollow external" aria-label="View sample in new tab"> <span class="svg icon-20 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5"/>
  <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0z"/>
</svg><!-- HTML_TAG_END --></span></a></div>  </div><h3 id="example-usage-`activeelement$`" class=" svelte-1fw63p">Example Usage `activeElement$` <a class="anchor-link svelte-1fw63p" href="#example-usage-`activeelement$`" aria-label="link to Example Usage `activeElement$`"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!-- HTML_TAG_END --></span></a></h3><div class="bg-light-subtle doc p-1 d-flex flex-nowrap align-items-start py-2  px-2 px-sm-4 svelte-c63mpx"> <pre class="mb-0 align-self-center svelte-c63mpx" tabindex="0"><code><!-- HTML_TAG_START --><span class="hljs-keyword">import</span> {activeElement$} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@agnos-ui/core&#x27;</span>;}

<span class="hljs-keyword">const</span> unsubscribe = activeElement$.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">activeElement</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Tag name: <span class="hljs-subst">${activeElement?.tagName.toLowerCase()}</span>, id: <span class="hljs-subst">${activeElement?.id}</span>`</span>);
})<!-- HTML_TAG_END --></code></pre> <button class="btn flex-grow-0 flex-shrink-0 ms-auto" aria-label="copy to clipboard"> <span class="svg align-middle icon-20"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"/>
  <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"/>
</svg><!-- HTML_TAG_END --></span></button> </div><h3 id="example-usage-`hasfocus`" class=" svelte-1fw63p">Example Usage `HasFocus` <a class="anchor-link svelte-1fw63p" href="#example-usage-`hasfocus`" aria-label="link to Example Usage `HasFocus`"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!-- HTML_TAG_END --></span></a></h3><p>If you are only interested to your element and descendent, then you have to use the <code>createHasFocus</code> factory, apply the directive to the element, and then subscribe to the <code>hasFocus$</code> signal.</p><div class="bg-light-subtle doc p-1 d-flex flex-nowrap align-items-start py-2  px-2 px-sm-4 svelte-c63mpx"> <pre class="mb-0 align-self-center svelte-c63mpx" tabindex="0"><code><!-- HTML_TAG_START --><span class="hljs-keyword">import</span> {createHasFocus} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@agnos-ui/core&#x27;</span>;

<span class="hljs-keyword">const</span> {directive, hasFocus$} = <span class="hljs-title function_">createHasFocus</span>();

<span class="hljs-comment">// Apply the directive to specific elements</span>
<span class="hljs-comment">// (We provide utilities to apply this in the different framework context too)</span>
<span class="hljs-keyword">var</span> elementWhereToTrack = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;id&#x27;</span>);
<span class="hljs-keyword">const</span> instance = <span class="hljs-title function_">directive</span>(elementWhereToTrack);

<span class="hljs-comment">// Subscribe to the hasFocus$ signal</span>
<span class="hljs-keyword">const</span> unsubscribe = hasFocus$.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">hasFocus</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Focused: <span class="hljs-subst">${hasFocus}</span>`</span>);
});

<span class="hljs-comment">// Cleanup</span>
<span class="hljs-title function_">unsubscribe</span>();
instance?.<span class="hljs-title function_">destroy</span>();<!-- HTML_TAG_END --></code></pre> <button class="btn flex-grow-0 flex-shrink-0 ms-auto" aria-label="copy to clipboard"> <span class="svg align-middle icon-20"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"/>
  <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"/>
</svg><!-- HTML_TAG_END --></span></button> </div></section><section><h2 id="notes" class=" svelte-1fw63p">Notes <a class="anchor-link svelte-1fw63p" href="#notes" aria-label="link to Notes"> <span class="svg icon-24 align-middle"><!-- HTML_TAG_START --><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!-- HTML_TAG_END --></span></a></h2><ul><li>The code ensures proper cleanup by removing event listeners when no longer needed. </li></ul></section> <hr> <div class="w-100 d-flex justify-content-between"><div><div class="fw-bolder text-start" data-svelte-h="svelte-gehx1a">PREVIOUS</div> <a class="text-start" href="../../../docs/svelte/services/introduction">Introduction</a></div> <div><div class="fw-bolder text-end" data-svelte-h="svelte-di0z1b">NEXT</div> <a class="text-end" href="../../../docs/svelte/services/floating-ui">Floating UI</a></div></div></div></div> <div class="demo-toc d-none d-lg-flex col-auto side-menu me-auto svelte-cj19qs"></div></div></div></div> </div> 
			
			<script>
				{
					__sveltekit_1pgzgxl = {
						base: new URL("../../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					const data = [null,{"type":"data","data":{includesFwk:true,menu:[{title:"Getting started",submenu:[{label:"Introduction",path:"docs/svelte/getting-started/introduction",subpath:""},{label:"Installation",path:"docs/svelte/getting-started/installation",subpath:""},{label:"Core values",path:"docs/svelte/getting-started/core-values",subpath:""}]},{title:"Headless",submenu:[{label:"Introduction",path:"docs/svelte/headless/introduction",subpath:""},{label:"Configuration",path:"docs/svelte/headless/configuration",subpath:""},{label:"Slots",path:"docs/svelte/headless/slots",subpath:""},{label:"Directives",path:"docs/svelte/headless/directives",subpath:""},{label:"Transitions",path:"docs/svelte/headless/transitions",subpath:""},{label:"Extending",path:"docs/svelte/headless/extending",subpath:""}]},{title:"Bootstrap flavor",submenu:[{label:"Introduction",path:"docs/svelte/bootstrap-flavor/introduction",subpath:""},{label:"Customization",path:"docs/svelte/bootstrap-flavor/customization",subpath:""},{label:"Extending",path:"docs/svelte/bootstrap-flavor/extending",subpath:""}]},{title:"Components",submenu:[{label:"Accordion",path:"docs/svelte/components/accordion/",subpath:"examples"},{label:"Alert",path:"docs/svelte/components/alert/",subpath:"examples"},{label:"Modal",path:"docs/svelte/components/modal/",subpath:"examples"},{label:"Pagination",path:"docs/svelte/components/pagination/",subpath:"examples"},{label:"Progressbar",path:"docs/svelte/components/progressbar/",subpath:"examples"},{label:"Rating",path:"docs/svelte/components/rating/",subpath:"examples"},{label:"Select",path:"docs/svelte/components/select/",subpath:"examples"},{label:"Slider",path:"docs/svelte/components/slider/",subpath:"examples"}]},{title:"Services",submenu:[{label:"Introduction",path:"docs/svelte/services/introduction",subpath:""},{label:"Focustrack",path:"docs/svelte/services/focustrack",subpath:""},{label:"Floating UI",path:"docs/svelte/services/floating-ui",subpath:""},{label:"Intersection",path:"docs/svelte/services/intersection",subpath:""}]}]},"uses":{"params":["framework"]}},{"type":"data","data":{content:"# Focus track\n\n## Motivation\n\nIn a web application, there is often a requirement to determine whether an element or any of its descendants currently has focus, typically for accessibility purposes. Developers commonly devise their own methods to track this information. In AgnosUI, we provide a utility in core services that AgnosUI components leverage for this purpose.\nUtilize the globally readable signal `activeElement$` to monitor the current focused item. If your focus is solely on your DOM element and its descendants, you have the option to generate a custom signal using the `HasFocus` factory.\n\n## Service Overview\n\nThis service exports functionality related to managing focus within a web application. It includes a readable signal, `activeElement$`, representing the currently active HTML element, and a factory function, `createHasFocus()`, that creates an object implementing the `HasFocus` interface.\n\nTo install the core part, open your project's terminal and run the following command:\n\n```bash\nnpm i @agnos-ui/core\n```\n\n### `activeElement$` Readable Signal\n\n`activeElement$` is a readable signal that provides information about the currently focused HTML element.\nWhen at least a consumer starts listening its value, it sets the active element to the current `document.activeElement`.\nThe active element is updated each time a `focusin`/ `focusout` event is triggered on the `document.documentElement`.\nThe event listeners are removed when the number of listeners fall to 0.\n\n### `createHasFocus` Factory\n\n`createHasFocus` is a factory function that creates an object conforming to the `HasFocus` interface.\nIt provides:\n\n- `directive` that can be apply to elements to track if the focus is on one of the elements or on one of their descendent.\n- `hasFocus$` signal (that internally uses the `activeElement$` signal) that say if the focus is actually among the elements (or their descendent) targeted by the directive.\n\n## Usage\n\nWhenever you want to check which element of the DOM has the focus, you can simply import the signal `activeElement$` and `subscribe` to it.\n\n### In action\n\n```sample\n{Focustrack:focustrack/focustrack:500}\n```\n\n### Example Usage `activeElement$`\n\n```typescript\nimport {activeElement$} from '@agnos-ui/core';}\n\nconst unsubscribe = activeElement$.subscribe((activeElement) => {\n\tconsole.log(`Tag name: ${activeElement?.tagName.toLowerCase()}, id: ${activeElement?.id}`);\n})\n```\n\n### Example Usage `HasFocus`\n\nIf you are only interested to your element and descendent, then you have to use the `createHasFocus` factory, apply the directive to the element, and then subscribe to the `hasFocus$` signal.\n\n```typescript\nimport {createHasFocus} from '@agnos-ui/core';\n\nconst {directive, hasFocus$} = createHasFocus();\n\n// Apply the directive to specific elements\n// (We provide utilities to apply this in the different framework context too)\nvar elementWhereToTrack = document.getElementById('id');\nconst instance = directive(elementWhereToTrack);\n\n// Subscribe to the hasFocus$ signal\nconst unsubscribe = hasFocus$.subscribe((hasFocus) => {\n\tconsole.log(`Focused: ${hasFocus}`);\n});\n\n// Cleanup\nunsubscribe();\ninstance?.destroy();\n```\n\n## Notes\n\n- The code ensures proper cleanup by removing event listeners when no longer needed.\n",prev:{slug:"services/introduction",mdpath:"../docs/04-Services/00-Introduction.md",title:"Introduction",name:"Introduction",subpath:""},next:{slug:"services/floating-ui",mdpath:"../docs/04-Services/02-Floating-UI.md",title:"Floating UI",name:"Floating-UI",subpath:""},slug:"services/focustrack"},"uses":{"params":["slug"]}}];

					Promise.all([
						import("../../../_app/immutable/entry/start.k8pK-dgs.js"),
						import("../../../_app/immutable/entry/app.HoP0HKOK.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3, 15],
							data,
							form: null,
							error: null
						});
					});

					if ('serviceWorker' in navigator) {
						addEventListener('load', function () {
							navigator.serviceWorker.register('../../../service-worker.js');
						});
					}
				}
			</script>
		</div>
	</body>
</html>
