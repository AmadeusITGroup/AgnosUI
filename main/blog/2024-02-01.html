<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="icon" type="image/svg+xml" href="../agnosui-logo.svg" />
		
		<link href="../_app/immutable/assets/0.DuH9-z_U.css" rel="stylesheet">
		<link href="../_app/immutable/assets/promise-XSP94FjG.YMTEnweU.css" rel="stylesheet">
		<link href="../_app/immutable/assets/Published._tISrUzF.css" rel="stylesheet">
		<link href="../_app/immutable/assets/Heading.BjfNv8na.css" rel="stylesheet">
		<link href="../_app/immutable/assets/Code.oYHPuWTH.css" rel="stylesheet">
		<link href="../_app/immutable/assets/Sample.DWVEtIMm.css" rel="stylesheet">
		<link href="../_app/immutable/assets/Markdown.DhT2cUZe.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.DUMpMsjn.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CA3N8X5Z.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B7uh3dkT.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Csp4km8_.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BhjUl1Nf.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.BXWSiibL.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CmsKOCeN.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CoqSigku.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CZLBEwIl.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/HBiyjYhI.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Wd_4N5jU.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CHCgu6lS.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Dc7EQLJb.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BlUjtetD.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DTMKP3DQ.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.DTFXVi8G.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BlAE7cVV.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/cv3hTrJP.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BakNG69S.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C1LBBy4j.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DTs9qsur.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Dhb45KUw.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CxnwwfsY.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B8EBCwHb.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D_PNudjE.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BzwMxLLJ.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CQDQ0ylB.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/3.CgiZUR8T.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BaiOpAJR.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/34.Bc-mIDAq.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CPMXX9IK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BnT8WQKz.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/u0p32XiR.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BLJZqk5k.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B23wZ6mg.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CrD-j31E.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CaRQkTrr.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BlliYiaE.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DR7KufEU.js"><!--[--><!--[--><script async src="https://www.googletagmanager.com/gtag/js?id=G-49LCWGVXJ9"></script> <script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());
			gtag('config', 'G-49LCWGVXJ9');
		</script><!--]--> <!--[--><link rel="preload" href="https://www.agnosui.dev/versions.json" as="fetch" crossorigin="anonymous"><!--]--> <link rel="canonical" href="https://www.agnosui.dev/latest/blog/2024-02-01"> <meta itemprop="name" content="State management with Tansu"> <meta itemprop="description" content="In AgnosUI, we employ Tansu to handle our widget states. This article explores the effective ways to use Tansu for broader state management, drawing upon our practical experience in developing AgnosUI."> <meta name="description" content="In AgnosUI, we employ Tansu to handle our widget states. This article explores the effective ways to use Tansu for broader state management, drawing upon our practical experience in developing AgnosUI."> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:title" content="State management with Tansu"> <meta property="twitter:domain" content="www.agnosui.dev"> <meta property="twitter:url" content="https://www.agnosui.dev/latest/blog/2024-02-01"> <meta name="twitter:image" content="https://www.agnosui.dev/static/tansu-blog-social-share.png"> <meta name="twitter:image:alt" content="Blog header image"> <meta name="twitter:description" content="In AgnosUI, we employ Tansu to handle our widget states. This article explores the effective ways to use Tansu for broader state management, drawing upon our practical experience in developing AgnosUI."> <meta name="og:title" content="State management with Tansu"> <meta name="og:description" content="In AgnosUI, we employ Tansu to handle our widget states. This article explores the effective ways to use Tansu for broader state management, drawing upon our practical experience in developing AgnosUI."> <meta name="og:url" content="https://www.agnosui.dev/latest/blog/2024-02-01"> <meta name="og:site_name" content="AgnosUI"> <meta name="og:locale" content="en"> <meta name="og:type" content="website"> <meta property="og:image" content="https://www.agnosui.dev/static/tansu-blog-social-share.png"><!--]--><!--[--><!--]--><title>State management with Tansu - AgnosUI</title>
		<meta name="image" content="../agnosui-logo.svg" />
		<script>
			const theme = localStorage.getItem('theme');
			if (theme && theme !== 'auto') {
				document.documentElement.setAttribute('data-theme', theme);
			}
			if (theme === 'dark' || theme === 'light' || theme === 'auto') {
				document.documentElement.setAttribute('data-agnos-theme', theme);
			} else {
				document.documentElement.setAttribute('data-agnos-theme', 'auto');
			}
		</script>
		<script type="application/ld+json">
			{
				"@context": "https://schema.org",
				"@type": "WebSite",
				"name": "AgnosUI",
				"url": "https://www.agnosui.dev/latest/"
			}
		</script>
		<link rel="preconnect" href="https://B76VWEHQMR-dsn.algolia.net" crossorigin />
	</head>
	<body data-sveltekit-preload-data="hover">
		<div id="root"><!--[--><!--[--><!----><div class="agnos-ui text-base svelte-avc64b"><nav class="navbar z-1 demo-nav-top justify-between max-w-[1720px] mx-auto svelte-avc64b"><div class="navbar-start sm:w-1/2 w-10/35"><a class="md:mx-2 xl:mx-8 flex items-center text-xl" href="../"><span class="svg agnosui-logo-brand me-2"><!----><?xml version="1.0" encoding="UTF-8"?>
<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg width="191.25" height="191.22" enable-background="new 0 0 595.28 841.89" version="1.1" viewBox="0 0 191.25 191.22" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
<path d="m136.68 88.889 27.935 0.687c-1.118-12.791-5.735-24.55-12.874-34.393-31.886-5.798-60.51-0.785-60.51-0.785l2.277-27.81c-14.131 0.438-27.185 5.093-37.955 12.78-6.017 31.858-1.188 60.522-1.188 60.522l-27.817-2.476c0.319 12.909 4.16 24.915 10.61 35.139 31.456 7.829 60.355 4.656 60.355 4.656l-4.059 27.608c0.75 0.028 1.482 0.118 2.236 0.118 16.56 0 31.753-5.833 43.661-15.529 3.988-32.193-2.671-60.517-2.671-60.517z" fill="#9240CC"/>
<path d="m151.74 55.183c11.332 2.063 23.061 5.451 34.073 10.964-21.637-59.963-90.122-66.147-90.122-66.147l-2.184 26.588c0.736-0.024 1.447-0.111 2.184-0.111 23.08 1e-3 43.474 11.34 56.049 28.706z" fill="#FCE649"/>
<path d="m151.74 55.183c-12.575-17.367-32.969-28.706-56.049-28.706-0.736 0-1.447 0.086-2.184 0.111l-2.277 27.81c0 1e-3 28.624-5.012 60.51 0.785z" fill="#E9CF1C"/>
<path d="m164.62 89.576c0.181 2.021 0.313 4.063 0.313 6.132 0 21.675-9.972 41.006-25.574 53.7-1.402 11.412-4.125 23.286-8.985 34.58 58.62-25.029 60.877-93.756 60.877-93.756z" fill="#FCE649"/>
<path d="m164.93 95.708c0-2.069-0.132-4.111-0.313-6.132l-27.935-0.687s6.658 28.324 2.673 60.519c15.604-12.694 25.575-32.025 25.575-53.7z" fill="#E9CF1C"/>
<path d="m37.163 132.56c-11.173-2.781-22.651-6.916-33.289-13.12 17.755 61.231 85.708 71.785 85.708 71.785l3.877-26.4c-23.736-0.758-44.415-13.43-56.296-32.265z" fill="#FCE649"/>
<path d="m37.163 132.56c11.881 18.835 32.56 31.507 56.296 32.264l4.059-27.608s-28.899 3.173-60.355-4.656z" fill="#E9CF1C"/>
<path d="m55.557 39.369c2.139-11.308 5.604-23.008 11.187-33.987-60.099 21.231-66.744 89.68-66.744 89.68l26.553 2.354c-0.014-0.573-0.083-1.132-0.083-1.708 0-23.255 11.502-43.781 29.087-56.339z" fill="#FCE649"/>
<path d="m55.557 39.369c-17.585 12.558-29.088 33.084-29.088 56.339 0 0.576 0.07 1.135 0.083 1.708l27.817 2.476c1e-3 -1e-3 -4.828-28.665 1.188-60.523z" fill="#E9CF1C"/>
</svg>
<!----></span><!----> AgnosUI</a></div> <div class="navbar-center"><div class="md:hidden"><div class="py-0 rounded-[40px] px-0" id="docsearch-id-csm5rdnj3"></div><!----></div></div> <div class="navbar-end"><div class="hidden md:flex-none md:flex"><ul class="menu menu-horizontal gap-2 xl:gap-3 items-center"><li><div class="py-0 rounded-[40px] px-0" id="docsearch-id-ymsfn8l4q"></div><!----></li> <li class="h-full flex-row"><div class="divider divider-horizontal w-px! p-0 gap-0"></div></li> <li><a class="hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="../docs/react/getting-started/introduction">Documentation</a></li> <!--[--><li><a class="hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="../api/react/bootstrap/types">API</a></li><!--]--> <li class="flex flex-nowrap flex-row"><a class="active hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="../blog/2024-12-06" aria-current="page">Blog</a></li> <li class="h-full flex-row"><div class="divider divider-horizontal w-px! p-0 gap-0"></div></li> <li><details class="h-full"><summary aria-label="toggle the dark mode" class="hover:bg-secondary-subtle h-full flex focus-visible:bg-secondary-subtle! active:bg-secondary-subtle!"><!--[--><span class="svg auto"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-circle-half" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 0 8 1zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16"/>
</svg><!----></span><span class="svg light"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sun-fill" viewBox="0 0 16 16">
  <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"/>
</svg><!----></span><span class="svg dark"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-stars-fill" viewBox="0 0 16 16">
  <path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"/>
  <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.73 1.73 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.73 1.73 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.73 1.73 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"/>
</svg><!----></span><!--]--><!----></summary> <ul class="bg-base-100 p-2"><!--[!--><!--]--></ul></details><!----></li><!----> <li class="h-full flex-row"><div class="divider divider-horizontal w-px! p-0 gap-0"></div></li> <li><details><summary aria-label="select the version of agnosui" class="hover:bg-secondary-subtle focus-visible:bg-secondary-subtle! active:bg-secondary-subtle! active:text-base-content! btn btn-warning btn-xs active:bg-secondary-subtle!"><!---->PREVIEW<!----></summary> <ul class="bg-base-100 p-2"><!--[!--><!--]--></ul></details><!----></li><!----> <li class="h-full flex-row"><div class="divider divider-horizontal w-px! p-0 gap-0"></div></li> <li><a class="p-0 focus-visible:outline-solid! outline-secondary-subtle! hover:bg-base-100 hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="https://github.com/AmadeusITGroup/AgnosUI" aria-label="link to GitHub repository" target="_blank"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
</svg><!----></span><!----></a></li> <li><a class="p-0 focus-visible:outline-solid! outline-secondary-subtle hover:bg-base-100 hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="https://twitter.com/AgnosUI" aria-label="link to twitter / x account" target="_blank"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter-x" viewBox="0 0 16 16">
  <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/>
</svg><!----></span><!----></a></li> <li><a class="p-0 focus-visible:outline-solid! outline-secondary-subtle! hover:bg-base-100 hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="https://bsky.app/profile/agnosui.bsky.social" aria-label="link to bluesky profile" target="_blank"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3c3.4 .4 6.7 .9 10 1.3zM288 227.1C261.9 176.4 190.9 81.9 124.9 35.3C61.6-9.4 37.5-1.7 21.6 5.5C3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7c3.3-.5 6.6-.9 10-1.4c-3.3 .5-6.6 1-10 1.4C74.3 308.6-9.1 342.8 100.3 464.5C220.6 589.1 265.1 437.8 288 361.1c22.9 76.7 49.2 222.5 185.6 103.4c102.4-103.4 28.1-156-65.8-169.9c-3.3-.4-6.7-.8-10-1.3c3.4 .4 6.7 .9 10 1.3c64.1 7.1 133.6-15.1 153.2-80.7C566.9 194 576 75 576 58.4s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8C385.1 81.9 314.1 176.4 288 227.1z"/></svg><!----></span><!----></a></li></ul></div> <ul class="items-center flex md:hidden gap-2 menu menu-horizontal flex-nowrap"><li><details class="h-full"><summary aria-label="toggle the dark mode" class="hover:bg-secondary-subtle h-full flex focus-visible:bg-secondary-subtle! active:bg-secondary-subtle!"><!--[--><span class="svg auto"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-circle-half" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 0 8 1zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16"/>
</svg><!----></span><span class="svg light"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sun-fill" viewBox="0 0 16 16">
  <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"/>
</svg><!----></span><span class="svg dark"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-stars-fill" viewBox="0 0 16 16">
  <path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"/>
  <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.73 1.73 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.73 1.73 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.73 1.73 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"/>
</svg><!----></span><!--]--><!----></summary> <ul class="bg-base-100 p-2"><!--[!--><!--]--></ul></details><!----></li><!----> <li><details><summary aria-label="select the version of agnosui" class="hover:bg-secondary-subtle focus-visible:bg-secondary-subtle! active:bg-secondary-subtle! active:text-base-content! btn btn-warning btn-xs active:bg-secondary-subtle!"><!---->PREVIEW<!----></summary> <ul class="bg-base-100 p-2"><!--[!--><!--]--></ul></details><!----></li><!----> <li><button class="btn btn-ghost btn-circle hover:bg-secondary-subtle" aria-expanded="false" aria-label="open the mobile menu"><span class="svg icon-20"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
  <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
</svg><!----></span><!----></button></li> <dialog class="modal items-start bg-base-100"><div class="mb-4 text-center p-0 modal-box h-full max-h-full w-full max-w-full rounded-none"><div class="h-12 relative border-b-1 border-gray-200"><span class="menu-title text-base-content top-1/2 absolute left-1/2 -translate-x-1/2 -translate-y-1/2">AgnosUI</span> <button type="button" class="btn btn-sm btn-circle btn-ghost absolute right-4 top-2 hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" aria-label="Close dialog">✕</button></div> <div class="text-start p-2"><ul class="menu menu-xl bg-base-100 w-56"><li><a class="hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="../docs/react/getting-started/introduction">Documentation</a></li> <!--[--><li><a class="hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="../api/react/bootstrap/types">API</a></li><!--]--> <li><a class="active hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="../blog/2024-12-06" aria-current="page">Blog</a></li></ul> <div class="flex justify-center gap-3"><a class="hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="https://github.com/AmadeusITGroup/AgnosUI" aria-label="link to GitHub repository" target="_blank"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
</svg><!----></span><!----></a> <a class="hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="https://twitter.com/AgnosUI" aria-label="link to twitter / x account" target="_blank"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter-x" viewBox="0 0 16 16">
  <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/>
</svg><!----></span><!----></a> <a class="hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="https://bsky.app/profile/agnosui.bsky.social" aria-label="link to bluesky profile" target="_blank"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3c3.4 .4 6.7 .9 10 1.3zM288 227.1C261.9 176.4 190.9 81.9 124.9 35.3C61.6-9.4 37.5-1.7 21.6 5.5C3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7c3.3-.5 6.6-.9 10-1.4c-3.3 .5-6.6 1-10 1.4C74.3 308.6-9.1 342.8 100.3 464.5C220.6 589.1 265.1 437.8 288 361.1c22.9 76.7 49.2 222.5 185.6 103.4c102.4-103.4 28.1-156-65.8-169.9c-3.3-.4-6.7-.8-10-1.3c3.4 .4 6.7 .9 10 1.3c64.1 7.1 133.6-15.1 153.2-80.7C566.9 194 576 75 576 58.4s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8C385.1 81.9 314.1 176.4 288 227.1z"/></svg><!----></span><!----></a></div><!----></div></div></dialog><!----><!----></ul></div></nav> <div class="demo-main flex flex-col z-0 svelte-avc64b"><!--[!--><div class="flex-wrap sm:flex-nowrap flex content-between w-full justify-between self-center max-w-[1670px]"><aside class="demo-sidebar xl:px-6 hidden md:block items-center sm:items-start col-auto-layout side-menu svelte-avc64b"><nav class="w-full mt-1"><div class="px-4"><!--[!--><!--]--> <!--[!--><!--]--></div> <!--[--><ul class="menu rounded-box w-full min-w-[250px]"><!--[--><!--[!--><!--]--> <!--[--><li><button class="menu-dropdown-toggle hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle! menu-dropdown-show">News 2024</button> <ul class="menu-dropdown menu-dropdown-show"><!--[--><li class="flex"><a class="menu-item menu-item-sidenav hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" href="../blog/2024-12-06">Roadmap to 1.0 <!--[!--><!--]--> <!--[!--><!--]--></a></li><li class="flex"><a class="menu-item menu-item-sidenav menu-active hover:bg-primary-subtle! focus-visible:bg-primary-subtle!" aria-current="page" href="../blog/2024-02-01">State management with Tansu <!--[!--><!--]--> <!--[!--><!--]--></a></li><!--]--><!----></ul></li><!--]--><!--]--></ul><!--]--></nav><!----></aside> <div class="pb-6 col reset-ul"><div class="demo-mobile-menu top-0 z-10 block lg:hidden shadow-md svelte-avc64b"><div class="flex items-center justify-between"><button class="md:hidden text-dark-emphasis flex items-center btn btn-link link-hover" aria-expanded="false"><span class="svg icon-20 me-1"><!----><svg data-v-5b7ea3a9="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24"
    class="menu-icon">
    <path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path>
    <path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path>
    <path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path>
    <path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path>
</svg><!----></span><!----><span class="menu-text">Menu</span></button> <button class="text-dark-emphasis flex items-center btn btn-link link-hover m-1" aria-expanded="false"><span class="menu-text">On this page</span> <span class="svg icon-20 me-1"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>
</svg><!----></span><!----></button></div> <dialog class="modal items-start bg-base-100"><div class="mb-4 text-center p-0 modal-box h-full max-h-full w-full max-w-full rounded-none"><div class="h-12 relative border-b-1 border-gray-200"><span class="menu-title text-base-content top-1/2 absolute left-1/2 -translate-x-1/2 -translate-y-1/2"></span> <button type="button" class="btn btn-sm btn-circle btn-ghost absolute right-4 top-2 hover:bg-secondary-subtle! focus-visible:bg-secondary-subtle!" aria-label="Close dialog">✕</button></div> <div class="text-start p-2"><!--[!--><!--[!--><!--]--><!--]--><!----></div></div></dialog><!----><!----></div> <div class="px-3"><!--[--><!----><!--[!--><!----><header class="au-header bg-light pt-4 px-6 lg:px-12 flex mb-6 items-center title au-rounded pb-4 svelte-b11sub"><div class="w-full flex flex-wrap flex-row-reverse justify-between items-center"><div class="flex ms-auto gap-2 justify-content-center"><!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--></div> <h1 class="text-primary me-3 me-md-none mb-0 p-0 p-md-3 text-center text-md-start svelte-b11sub">State management with Tansu</h1></div> <!--[!--><!--]--></header><!----> <div class="flex flex-wrap"><div class="flex gap-3"><img src="data:image/webp;base64,UklGRkIFAABXRUJQVlA4WAoAAAAIAAAAMQAAMQAAVlA4IEQEAADwFQCdASoyADIAPh0MhECC4W2qgGA4nAGUaAD4eTHV38XsHP4eVu476gPxb/pN/F5mPOx9GfoAf2v+3eiB7L3oAeXB7K/7n+lNc8Ojw9xJEPt5+L3NTEHkqf0vcdMjB5/v+r5hvqD2Cf1s/4BxSFFbvR+QjeyzNs2tclfLxLYZZ6nqz/VRMon77yfpAEAD/sIPiHlSq+qMe0FDn9JV9wceArO2rs+mXfI1qTbWqET92XbxrURnP9wAAP7/drfgcUyofPzb2QF8zC5264woz+mNLK5svj0nzdFXMXcuL0HK518WCkITJg6G8aPuGwx3LXmTvj+CoxXu2nq+osXuxGMnk3b/81sAnTNqIavLTQxv0WJWxn6/gB4y585zVJ8UD9B9i/RyCRM+csKlr925Jjd+zD/I5P+NlaGbQTyG+mZtz9kSoKwmU/154/eFfRboO6Qd2XEFNZrK5fc3l0VjWdiNeRFm4/0BRd7rbxLhscK0Wv65RRxc+W4oLlbEO/FPNcoTyJ+ZQJNiOOcnDywcFiXsuXdLqnqrsx7rl0svLLHrKDa0SxwbvpWvw022IZdYoJV/nNZN1+B/91Zp36/1Vg4Kw89ILRwRYbJw3RF77ssSl1b4NBI9qB+hY3UUoBRv10fsfdN18U/3o/8yLsE0o0JZn6sex5fkOwEH5GK5gfdwLiXmiqnhRj//5GJVOQgjkfVUe0ffqI1R5YI6Qt6b8Uj12rvmEFw38Zkkh34/NMeDbWphPJXg6ykFx0/dFFlN9HrWRsaktNxRsLknLDXQIr1yKeeJ26oWS9GzLJcd44j8k//5ifPW6Eb8aZLbDcquuGvLvMTHfevozXy+Os7SuZb9CK+tW8cjxIxnZbcQ+qH3vjZNDnF8b7nvwYwMte+3bwvWppcblebwKXf5D+1XKtFqm8srxnEj/+thQceyX0KyoJ5tL03+jtI38INzKcK5mir7OS65JJ2RXm1axbe7JqQ3oF9tfsTwqQKoYDAZ2NVsrYcFmwPxprUt8fjQEip6yI8ovGU+KkmTkTcd4ev6mHdjnfdY2w+J2VlrMSXzHIwvvpnV+OHTrhxl6zRCaQUurESZkMTDgHGacSadGPetYOvXJ+/8YsXMfr6yatui2XSgoMB0PbJU1hO7bUu44FnODrSMHfQfJOgBOjb9sILt21A5IiOl/E3ETr4ir/RPEhZbapMDPJB7tU8OPaFu8HQp0XHLk0RYRN0oJQvxMag0AZkWaAPjhHEB8lQ0aHgGEHjpoDrYA3rIAk3McxT69fzTk3J3x7j2LX43EeJ8J5RArIsKc1XVXiLN1HFE+CkTmpobKgH4zvTEe0COu+QiyxPa/WgpoW9wBwLUFj8Yv7f7oe8wGjP9eBKL5DkaEL2UfUqmkzJWiilc8qazuqpuUyIJDY0Q6MEuxtWYJwQtSAx0QNvwCN8ZhHD7Oy1APtbddqsfNoAAAABFWElG2AAAAElJKgAIAAAABgASAQMAAQAAAAEAAAAaAQUAAQAAAFYAAAAbAQUAAQAAAF4AAAAoAQMAAQAAAAIAAAAxAQIAEQAAAGYAAABphwQAAQAAAHgAAAAAAAAAYAAAAAEAAABgAAAAAQAAAHBhaW50Lm5ldCA1LjAuMTMAAAUAAJAHAAQAAAAwMjMwAaADAAEAAAABAAAAAqAEAAEAAAAyAAAAA6AEAAEAAAAyAAAABaAEAAEAAAC6AAAAAAAAAAIAAQACAAQAAABSOTgAAgAHAAQAAAAwMTAwAAAAAA==" alt="Publisher avatar" class="avatar svelte-zj55sz" width="50" height="50"> <div><strong>Fabrice Basso, Software engineer at Amadeus</strong> <div>Published on Feb 1, 2024</div></div></div> <div class="flex grow-1 justify-end gap-4 ms-12 self-end"><!--[!--><!--]--></div></div> <div class="divider"></div><!----> <img src="https://www.agnosui.dev/static/tansu-blog.webp" alt="frontend development" class="mb-4" width="100%" style="aspect-ratio: 2.048;"> <!----><!--[--><!--[--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->In <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><a href="https://www.agnosui.dev/latest/"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->AgnosUI<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></a><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->, we employ <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><a href="https://github.com/AmadeusITGroup/tansu"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Tansu<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></a><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> to handle our component states.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->This article explores the effective ways to use Tansu for broader state management, drawing upon our practical experience in developing AgnosUI. To follow along, we assume that you have a basic understanding of Tansu's API, as explained in the <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><a href="https://github.com/AmadeusITGroup/tansu/blob/master/README.md"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->README<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></a><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> (no need to know them in detail). Feel free to refer to it for reference if needed.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><section class="my-4"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!----><h2 id="first-example" class=" text-primary mt-2 svelte-ydmi">First example <a class="anchor-link svelte-ydmi" href="#first-example" aria-label="link to First example"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!----></span><!----></a><!----></h2><!----><!--]--><!----><!--]--><!--]--><!--[1--><!--[!--><!----><section class="my-3"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!----><h3 id="local-storage" class=" text-primary mt-2 svelte-ydmi">Local storage <a class="anchor-link svelte-ydmi" href="#local-storage" aria-label="link to Local storage"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!----></span><!----></a><!----></h3><!----><!--]--><!----><!--]--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Before going deeper into the various ways to utilize Tansu, let's start with a simple example.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->The primary building block of Tansu is the writable store.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><!--[!--><div class="bg-light-subtle doc p-0 flex mb-6 svelte-1cbubk9" style="min-height: 60px;"><!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->From a pure data management perspective, this is all we need. A store is created, containing internal data. Once we acquire the store in another part of the code, we express interest in changes to this specific data, such as for refreshing a display. The method to set a new value allows subscribers to be notified.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->This coding approach aligns with the trend in how reactive states are implemented on the internet. Examples include Svelte stores (which influenced Tansu's development), the new Runes (also using Svelte), Angular with Signals, or even SolidJS. While their APIs may differ (for instance, using <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">useEffect</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> to subscribe to a store with Signals or <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">$effect</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> with Runes), they share fundamental ideas.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[1--><!--[!--><ul><!--[--><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->a <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">$</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> is conventionally added at the end of the store name, purely for clarity. As these stores are everywhere in AgnosUI, this naming convention provides an instant visual distinction from other variables. Throughout this article, we use this convention in our examples.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->A store is a function that allows you to retrieve the current value (for example <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">const currentValue = myStore$()</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->).<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Additionally, a store comes with a convenient method, <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">update</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->. This method takes a function as a parameter. The function receives the current store value and is expected to return the new value. This is convenient when calculating the new value requires knowledge of the old one.  (for example <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">counterStore$.update((count) => count + 1)</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->)<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><!--]--><!----></ul><!--]--><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Let's examine the following code snippet:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><!--[!--><div class="bg-light-subtle doc p-0 flex mb-6 svelte-1cbubk9" style="min-height: 60px;"><!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->We can understand from this code that we get a store from the local storage relative to the key <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">settings</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->. Since local storage values are stored as strings, we can expect this store to contain settings directly as a JSON object. Following the same logic, we also expect that invoking <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">settings$.set</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> would modify the internal value and save the corresponding JSON string in the localStorage.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Let's improve it.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><!--[!--><div class="bg-light-subtle doc p-0 flex mb-6 svelte-1cbubk9" style="min-height: 60px;"><!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->And that's it for this initial iteration. We've successfully crafted a custom store, designed to offer more than just the basic functionality.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->To enhance our code, we can use the <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">asWritable</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> utility provided in Tansu. The issue with the current example lies in the fact that:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[1--><!--[--><ol start="1"><!--[--><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->a <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">writable</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> provides an <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">update</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> method that internally uses the <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">set</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> method. It's crucial to ensure that our customized set method is the one being executed.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->The current code is not as straightforward as it could be; we have to explicitly bind the primary <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">set</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> method.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><!--]--><!----></ol><!--]--><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->This is precisely what <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">asWritable</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> is designed for. Let's proceed to rewrite the example:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><!--[!--><div class="bg-light-subtle doc p-0 flex mb-6 svelte-1cbubk9" style="min-height: 60px;"><!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!----><!--]--><!--]--><!--[!--><!--]--><!--]--><!--]--><!--]--><!----></section><!----><!--]--><!--]--><!--[1--><!--[!--><!----><section class="my-3"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!----><h3 id="enhancing-functionality" class=" text-primary mt-2 svelte-ydmi">Enhancing Functionality <a class="anchor-link svelte-ydmi" href="#enhancing-functionality" aria-label="link to Enhancing Functionality"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!----></span><!----></a><!----></h3><!----><!--]--><!----><!--]--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Our custom store currently lacks one essential feature: value synchronization across browser tabs. Given that we can listen for storage changes, why not incorporate this functionality?<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->We can achieve this with the following code:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><!--[!--><div class="bg-light-subtle doc p-0 flex mb-6 svelte-1cbubk9" style="min-height: 60px;"><!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->However, a potential issue arises: the event listener is never removed. After its first usage, it will persist, whether we still need it or not (for example, if the component using it is destroyed). Introducing another function to unlisten to the event isn't a viable solution either, as we might have multiple components using it simultaneously, with the active one still requiring synchronization.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->To address this, let's leverage a powerful feature provided by Tansu: the setup and teardown methods as the second parameter of the writable. This function is called when the number of subscribers changes from 0 to 1. If this function returns another function, the latter is called when the number of subscribers changes from 1 to 0.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Here's the rewritten version:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><!--[!--><div class="bg-light-subtle doc p-0 flex mb-6 svelte-1cbubk9" style="min-height: 60px;"><!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Now, the code is complete. All tabs utilizing this store will stay synchronized.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->The setup and teardown functionality, as demonstrated here, is not available with signals in Angular, though it is present in Svelte stores.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--]--><!--]--><!--]--><!----></section><!----><!--]--><!--]--><!--[1--><!--[!--><!----><section class="my-3"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!----><h3 id="concluding-remarks-for-this-example" class=" text-primary mt-2 svelte-ydmi">Concluding remarks for this example <a class="anchor-link svelte-ydmi" href="#concluding-remarks-for-this-example" aria-label="link to Concluding remarks for this example"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!----></span><!----></a><!----></h3><!----><!--]--><!----><!--]--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->While this seemingly straightforward store may be perceived as a tool or helper, it actually embodies a comprehensive state management system: specifically, the state management for a particular key in the localStorage.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->From the user's perspective, interacting with the store is remarkably straightforward:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[1--><!--[!--><ul><!--[--><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->No need to understand how local storage operates.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->No concerns about parsing or stringifying values; working with the object is possible.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->No manual addition or removal of events is required.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><!--]--><!----></ul><!--]--><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->All that is needed is straightforward utilization. The storage value remains synchronized seamlessly.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Regardless of the specific store in use, the workflow remains consistent:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[1--><!--[!--><ul><!--[--><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Get the store,<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Subscribe to retrieve the value and perform related actions.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Unsubscribe when the store is no longer needed.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><!--]--><!----></ul><!--]--><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->In AgnosUI, we provide various examples to abstract different levels of complexity. For instance:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[1--><!--[!--><ul><!--[--><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">activeElement$</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->: consistently captures the active element on the page. Use it to access the state of the activeElement, regardless of the user's focus movement. This is a global store, as there is only one activeElement.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><a href="http://sveltekit-prerender/docs/angular/services/focustrack"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">focusTrack$</code><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></a><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->: provide a parameter of DOM elements, and the store returns a boolean value—either true or false—indicating whether the focus is within your elements or not. This functionality is very useful, for instance, when closing a dropdown if the user moves outside a component. Notably, it utilizes the activeElement$ store, and these stores can be seamlessly combined.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">intersection$</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->: provide a store of DOM elements, ensuring you always have elements within the viewport.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><a href="http://sveltekit-prerender/docs/angular/services/floating-ui"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">floatingui$</code><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></a><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->: provides the store of the anchor element and the store of the element to position. It delivers position updates to be applied with <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><a href="https://floating-ui.com/"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->floating UI<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></a><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->, dynamically updated as the user scrolls.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><!--]--><!----></ul><!--]--><!--]--><!--]--><!--[!--><!--]--><!--]--><!--]--><!--]--><!----></section><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></section><!----><!--]--><!--]--><!--[1--><!--[!--><!----><section class="my-4"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!----><h2 id="state-management-for-applications" class=" text-primary mt-2 svelte-ydmi">State management for applications <a class="anchor-link svelte-ydmi" href="#state-management-for-applications" aria-label="link to State management for applications"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!----></span><!----></a><!----></h2><!----><!--]--><!----><!--]--><!--]--><!--[1--><!--[!--><!----><section class="my-3"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!----><h3 id="build-your-custom-stores" class=" text-primary mt-2 svelte-ydmi">Build your custom stores <a class="anchor-link svelte-ydmi" href="#build-your-custom-stores" aria-label="link to Build your custom stores"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!----></span><!----></a><!----></h3><!----><!--]--><!----><!--]--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->As demonstrated in the previous example, building a custom store becomes effortless with Tansu's <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">asWritable</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->. However, the more conventional approach is to utilize <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">asReadable</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->. The key distinction is that it entirely removes the <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">set</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> and <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">update</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> methods while preserving the flexibility to extend the store with a custom API.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Let's illustrate this with a counter store:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><!--[!--><div class="bg-light-subtle doc p-0 flex mb-6 svelte-1cbubk9" style="min-height: 60px;"><!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->In this example, we've crafted a counter store with <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">increase</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->, <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">decrease</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->, and <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">reset</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> APIs available, intentionally excluding the ability to set the value directly. Internally, you still have access to <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">set</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> and <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">update</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> to modify the value.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->From a ES6 perspective, creating a global state or local state is straightforward:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[1--><!--[!--><ul><!--[--><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->using createCounter at the component level will create a local state,<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><li class="mb-2 svelte-1sky1kl"><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">export const counter$ = createCounter()</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> will create a global state.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!----></li><!--]--><!----></ul><!--]--><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->The approach may vary based on the framework you are using. For instance, in Angular, you would employ dependency injection to inject the store at the root level or component level.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--]--><!--]--><!--]--><!----></section><!----><!--]--><!--]--><!--[1--><!--[!--><!----><section class="my-3"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!----><h3 id="multiple-custom-stores-to-manage-your-state" class=" text-primary mt-2 svelte-ydmi">Multiple custom stores to manage your state <a class="anchor-link svelte-ydmi" href="#multiple-custom-stores-to-manage-your-state" aria-label="link to Multiple custom stores to manage your state"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!----></span><!----></a><!----></h3><!----><!--]--><!----><!--]--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->While the idea of creating a store that integrates data along with all the associated APIs for management may seem appealing, it's not necessarily the most efficient approach to state management.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->In typical discussions about state management in applications, we encounter two types of data: data originating from the server and data generated locally.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->When dealing with server-side data, it's common to handle a substantial amount of information simultaneously. These data sets are usually stored in a comprehensive main store, ready to be segmented as necessary when different parts of the application request it.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Conversely, for locally generated data, the approach tends to be quite the opposite. The goal is to create stores with minimal data. Imagining a large store containing the complete state of panels, selected tabs, and all information for each tab is impractical. The strategy involves fragmenting the state into numerous smaller stores, a concept known as fine-grain reactivity. The objective is to ensure that when the application state undergoes changes, only the relevant parts of the application responsive to these changes are triggered.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Consider the scenario where, in our previous example, we wish to keep track of the number of reset operations. One approach could be as follows:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><!--[!--><div class="bg-light-subtle doc p-0 flex mb-6 svelte-1cbubk9" style="min-height: 60px;"><!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->However, a more effective approach is to work with separate stores:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><!--[!--><div class="bg-light-subtle doc p-0 flex mb-6 svelte-1cbubk9" style="min-height: 60px;"><!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Even though we have separate stores, they collaborate seamlessly. Only the subscribers interested in the changes are notified.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->This is the technique that is mostly used in AgnosUI.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->To conclude with a more practical example, let's consider a search panel containing a search input, a possible error list, a table with the results, and a loading indicator.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->The corresponding state for a search panel can be created using the following (simplified) code:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><!--[!--><div class="bg-light-subtle doc p-0 flex mb-6 svelte-1cbubk9" style="min-height: 60px;"><!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->To use this in your search panel component:<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><!--[!--><div class="bg-light-subtle doc p-0 flex mb-6 svelte-1cbubk9" style="min-height: 60px;"><!--[!--><!--]--> <!--[!--><!--]--></div><!--]--><!----><!--]--><!--]--><!--[!--><!--]--><!--]--><!--]--><!--]--><!----></section><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></section><!----><!--]--><!--]--><!--[1--><!--[!--><!----><section class="my-4"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[--><!----><h2 id="conclusion" class=" text-primary mt-2 svelte-ydmi">Conclusion <a class="anchor-link svelte-ydmi" href="#conclusion" aria-label="link to Conclusion"><span class="svg icon-24 align-middle"><!----><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
</svg><!----></span><!----></a><!----></h2><!----><!--]--><!----><!--]--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->In this exploration of state management with Tansu, we've delved into powerful techniques for crafting custom stores that suit diverse application needs. By leveraging Tansu's functionalities like <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">asWritable</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->, <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">asReadable</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!-->, <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">setup</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> and <!--]--><!----><!----><!--]--><!--]--><!--[1--><!--[!--><!----><code class="font-semibold svelte-xb9t1o">teardown</code><!----><!--]--><!--]--><!--[1--><!--[!--><!----><!--[!--> functions, we've seen how to optimize state management, making it more effective and modular.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->The examples presented, highlight the flexibility Tansu offers in managing state at varying levels of complexity. Whether you're dealing with local or server-driven data, the principles explored here provide a foundation for structuring your application's state in a way that promotes maintainability and scalability.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--[!--><!--]--><!--[1--><!--[!--><!----><p class="svelte-1v6ypct"><!--[--><!--[--><!--[--><!--[1--><!--[!--><!----><!--[!-->Incorporating these techniques into your projects not only enhances the clarity of your code but also contributes to a more robust and responsive state management.<!--]--><!----><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></p><!----><!--]--><!--]--><!--]--><!--]--><!--]--><!----></section><!----><!--]--><!--]--><!--]--><!--]--><!----><!----><!----><!--]--><!----><!----><!--]--><!----><!----></div><!----></div> <div class="lg:ms-4 xl:ms-5 demo-toc hidden lg:flex col-auto-layout side-menu me-auto svelte-avc64b"><!--[!--><!--]--><!----></div></div><!--]--></div></div><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1rga8ko = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.DUMpMsjn.js"),
						import("../_app/immutable/entry/app.BXWSiibL.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3, 34],
							data: [null,{"type":"data","data":{menu:[{title:"News 2024",submenu:[{label:"Roadmap to 1.0",path:"blog/2024-12-06"},{label:"State management with Tansu",path:"blog/2024-02-01",slug:"blog/2024-02-01"}]}],since:"v0.1.1"},"uses":{}},{"type":"data","data":{pageMeta:{title:"State management with Tansu",description:"In AgnosUI, we employ Tansu to handle our widget states. This article explores the effective ways to use Tansu for broader state management, drawing upon our practical experience in developing AgnosUI.",socialImage:"https://www.agnosui.dev/static/tansu-blog-social-share.png",socialImageAlt:"Blog header image",shareUrl:"https://www.agnosui.dev/latest/blog/2024-02-01"}},"uses":{}}],
							form: null,
							error: null
						});
					});

					if ('serviceWorker' in navigator) {
						addEventListener('load', function () {
							navigator.serviceWorker.register('../service-worker.js');
						});
					}
				}
			</script>
		</div>
	</body>
</html>
