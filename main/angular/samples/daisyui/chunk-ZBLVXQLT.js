import{a as X,b as Y}from"./chunk-QWHXTAJ2.js";import{c as J}from"./chunk-VOCHE2XL.js";import{j as U,n as K,p as H,q as E}from"./chunk-7LKBCSIK.js";import"./chunk-QIKLYRJG.js";import{$ as d,Ab as R,Bb as B,Fa as M,Ga as I,Ha as o,Nb as D,Sa as h,Sb as W,Tb as L,Ub as O,V as k,Xb as c,Yb as Q,_ as u,a as j,b as z,ca as N,eb as P,fb as y,gb as f,hb as b,ia as S,ib as x,jb as T,kb as r,lb as s,mb as l,nb as m,rb as F,sb as g,tb as p,xb as A,yb as $}from"./chunk-BVWW775J.js";var le=["appGalleryImage",""];function ce(i,t){i&1&&m(0,"span",1)}function me(i,t){if(i&1&&m(0,"source",3),i&2){let e=t.$implicit;r("media",e.media)("srcset",e.srcset)}}function pe(i,t){if(i&1){let e=F();y(0,ce,1,0,"span",1),s(1,"picture",2),x(2,me,1,2,"source",3,b),s(4,"img",4),g("load",function(){u(e);let a=p();return d(a.imageLoaded.set(!0))}),l()()}if(i&2){let e=p();f(e.imageLoaded()?-1:0),o(2),T(e.sources()),o(2),R("aspect-ratio",e.aspectRatio()),r("alt",e.alt())("src",e.src(),I)}}function ue(i,t){i&1&&m(0,"div",0)}var v=class v{constructor(){this.src=c.required();this.alt=c.required();this.sources=c.required();this.loadRequested=c.required();this.aspectRatio=c.required();this.imageLoaded=S(!1)}};v.\u0275fac=function(e){return new(e||v)},v.\u0275cmp=h({type:v,selectors:[["div","appGalleryImage",""]],hostAttrs:[1,"relative","basis-full","min-w-0","shrink-0","grow-0","flex","justify-center"],inputs:{src:[1,"src"],alt:[1,"alt"],sources:[1,"sources"],loadRequested:[1,"loadRequested"],aspectRatio:[1,"aspectRatio"]},attrs:le,decls:2,vars:1,consts:[[1,"skeleton","w-full","h-full"],[1,"absolute","top-1/2","-translate-y-1/2","left-1/2","loading","loading-spinner","loading-lg","text-primary"],[1,"flex","justify-center"],[3,"media","srcset"],[1,"select-none","object-contain",3,"load","alt","src"]],template:function(e,n){e&1&&y(0,pe,5,5)(1,ue,1,0,"div",0),e&2&&f(n.loadRequested()?0:1)},encapsulation:2,changeDetection:0});var G=v;var te=`<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" /></svg>
`;var ie='<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25" /></svg>';var ye=["mainContainer"],ne=(i,t)=>({index:i,id:t}),oe=(i,t)=>[i,t];function fe(i,t){if(i&1&&m(0,"div",4),i&2){let e=t.$implicit,n=t.$index,a=p();r("src",e.src)("alt",e.alt)("aspectRatio",a.aspectRatio())("loadRequested",e.loadRequested())("sources",e.sources)("auUse",D(9,oe,a.mainCarouselDirectives.slide,D(6,ne,n,"gallery-photo-"+n)))}}function ge(i,t){if(i&1){let e=F();s(0,"div",5)(1,"button",10),g("pointerdown",function(a){return u(e),d(a.preventDefault())}),l(),s(2,"button",10),g("pointerdown",function(a){return u(e),d(a.preventDefault())}),l()()}if(i&2){let e=p();o(),r("auUse",e.mainCarouselDirectives.scrollPrev)("innerHTML",e.previousSvg,M),o(),r("auUse",e.mainCarouselDirectives.scrollNext)("innerHTML",e.nextSvg,M)}}function ve(i,t){if(i&1){let e=F();s(0,"div",6)(1,"button",11),g("click",function(){u(e);let a=p();return d(a.toggleFullScreen())}),l()()}if(i&2){let e=p();o(),r("innerHTML",e.isFullScreen()?e.compressSvg:e.expandSvg,M),P("aria-label",e.isFullScreen()?"leave fullscreen":"open photo in fullscreen")}}function Ce(i,t){if(i&1&&(s(0,"button",12),m(1,"img",13),l()),i&2){let e=t.$implicit,n=t.$index,a=p(),se="gallery-photo-"+n;B("ring-3",a.mainCarouselState.selectedScrollSnap()===n),r("auUse",D(9,oe,a.mainCarouselDirectives.tabIndicator,D(6,ne,n,se))),o(),R("aspect-ratio",a.aspectRatio()),r("src",e.thumbnail,I)}}var C=class C{constructor(){this.photos=c.required();this.withNavArrows=c(!1,{transform:E});this.withShowFullscreen=c(!1,{transform:E});this.aspectRatio=c(4/3);this.domSanitizer=k(J);this.previousSvg=this.domSanitizer.bypassSecurityTrustHtml(X);this.nextSvg=this.domSanitizer.bypassSecurityTrustHtml(Y);this.expandSvg=this.domSanitizer.bypassSecurityTrustHtml(te);this.compressSvg=this.domSanitizer.bypassSecurityTrustHtml(ie);this._mainCarousel=H(U);this._thumbCarousel=H(U,{defaultConfig:{dragFree:!0,containScroll:"keepSnaps"}});this.photosWithLoadState=L(()=>this.photos().map((t,e)=>z(j({},t),{loadRequested:S(e===0)})));this.canFullScreen=L(()=>this.withShowFullscreen()&&document?.fullscreenEnabled);this.isFullScreen=S(!1);this.mainContainer=Q.required("mainContainer");this.injector=k(N)}get mainCarouselApi(){return this._mainCarousel.api}get mainCarouselDirectives(){return this._mainCarousel.directives}get mainCarouselState(){return this._mainCarousel.state}get thumbCarouselApi(){return this._thumbCarousel.api}get thumbCarouselState(){return this._thumbCarousel.state}get thumbCarouselDirectives(){return this._thumbCarousel.directives}ngOnInit(){this._mainCarousel.ngInit(),this._thumbCarousel.ngInit(),O(()=>{let t=this.mainCarouselState.selectedScrollSnap();W(()=>{this.thumbCarouselApi.scrollTo(t);let e=this.photosWithLoadState();e[t].loadRequested.set(!0),t>0&&e[t-1].loadRequested.set(!0),t<e.length-1&&e[t+1].loadRequested.set(!0)})},{injector:this.injector})}toggleFullScreen(){this.isFullScreen()?document.exitFullscreen():this.mainContainer().nativeElement.requestFullscreen(),this.isFullScreen.update(t=>!t)}scrollToSlide(t){this.mainCarouselApi.scrollTo(t,Math.abs(this.mainCarouselState.selectedScrollSnap()-t)>1)}};C.\u0275fac=function(e){return new(e||C)},C.\u0275cmp=h({type:C,selectors:[["app-gallery"]],viewQuery:function(e,n){e&1&&A(n.mainContainer,ye,5),e&2&&$()},inputs:{photos:[1,"photos"],withNavArrows:[1,"withNavArrows"],withShowFullscreen:[1,"withShowFullscreen"],aspectRatio:[1,"aspectRatio"]},decls:12,vars:5,consts:[["mainContainer",""],[1,"grid","grid-flow-row","max-h-dvh"],[1,"overflow-hidden","relative","cursor-grab","active:cursor-grabbing",3,"auUse"],[1,"flex","max-h-full"],["appGalleryImage","",3,"src","alt","aspectRatio","loadRequested","sources","auUse"],[1,"absolute","left-5","right-5","top-1/2","flex","-translate-y-1/2","transform","justify-between"],[1,"absolute","right-5","bottom-5","flex"],[1,"overflow-hidden","mt-1","mb-2",3,"auUse"],[1,"grid","grid-flow-col","auto-cols-max","gap-2","mx-1","my-1","items-center",3,"auUse"],[1,"ring-primary","cursor-pointer",3,"ring-3","auUse"],[1,"btn","btn-primary","btn-sm","md:btn-md","btn-circle","opacity-75","hover:opacity-100",3,"pointerdown","auUse","innerHTML"],[1,"btn","btn-primary","btn-sm","md:btn-md","btn-square","opacity-75","hover:opacity-100",3,"click","innerHTML"],[1,"ring-primary","cursor-pointer",3,"auUse"],["alt","random picsum","loading","lazy",1,"select-none",3,"src"]],template:function(e,n){e&1&&(s(0,"div",1,0)(2,"div",2)(3,"div",3),x(4,fe,1,12,"div",4,b),l(),y(6,ge,3,4,"div",5),y(7,ve,2,2,"div",6),l(),s(8,"div",7)(9,"div",8),x(10,Ce,2,12,"button",9,b),l()()()),e&2&&(o(2),r("auUse",n.mainCarouselDirectives.root),o(2),T(n.photosWithLoadState()),o(2),f(n.withNavArrows()?6:-1),o(),f(n.canFullScreen()?7:-1),o(),r("auUse",n.thumbCarouselDirectives.root),o(),r("auUse",n.mainCarouselDirectives.tabList),o(),T(n.photos()))},dependencies:[K,G],encapsulation:2,changeDetection:0});var q=C;var _e=[36,43,70,102,124,142,156,242,288,289,295,361,400,488,496,515,557,607,623,645],we=[124,289,400,488,607],re=[],_=(i,t,e,n)=>`https://picsum.photos/id/${i}/${n?e:t}/${n?t:e}.webp`;for(let i of _e){let t=we.includes(i);re.push({thumbnail:_(i,120,90,t),src:_(i,1600,1200,t),alt:"random picsum",sources:[{media:"(max-width: 599px)",srcset:_(i,600,450,t)},{media:"(min-width: 600px) and (max-width: 799px)",srcset:_(i,800,600,t)},{media:"(min-width: 800px) and (max-width: 1199px)",srcset:_(i,1200,900,t)},{media:"(min-width: 1200px)",srcset:_(i,1600,1200,t)}]})}var ae=[...re];var w=class w{constructor(){this.photos=ae}};w.\u0275fac=function(e){return new(e||w)},w.\u0275cmp=h({type:w,selectors:[["ng-component"]],decls:3,vars:1,consts:[[1,"w-full","flex","justify-center"],[1,"max-w-[600px]","lg:max-w-[1000px]"],["withNavArrows","","withShowFullscreen","",3,"photos"]],template:function(e,n){e&1&&(s(0,"div",0)(1,"div",1),m(2,"app-gallery",2),l()()),e&2&&(o(2),r("photos",n.photos))},dependencies:[q],encapsulation:2});var V=w;export{V as default};
