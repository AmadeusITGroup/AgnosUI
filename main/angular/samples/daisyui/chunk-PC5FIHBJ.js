import{a as M}from"./chunk-YK7NFS7G.js";import{f as I,o as A,p as W,r as $}from"./chunk-M3B7VRBC.js";import"./chunk-GO4YU65R.js";import{$ as p,Db as s,Eb as f,Gb as L,Hb as N,Ia as l,Ib as F,Kb as E,M as x,Sa as b,Va as d,Ya as R,aa as u,db as w,eb as D,hb as T,ka as h,la as c,lb as V,mb as k,nb as r,ob as o,pb as C,tb as S,ub as _,vb as m}from"./chunk-JDXB6IFW.js";function P(a,g){if(a&1){let e=S();r(0,"input",2),_("blur",function(){p(e);let n=m();return u(n.onTouched())})("mouseleave",function(){p(e);let n=m();return u(n.api.leave())})("mouseenter",function(){let n=p(e).$index,i=m();return u(i.api.setHoveredRating(n+1))})("click",function(){let n=p(e).$index,i=m();return u(i.api.setRating(n+1))}),o()}if(a&2){let e=g.$index,t=m();D("checked",e+1===t.state.visibleRating()),w("aria-label",t.getAriaLabel(e))}}var v=class a extends A{constructor(){super(W({factory:I,widgetName:"rating",events:{onHover:e=>this.hover.emit(e),onLeave:e=>this.leave.emit(e),onRatingChange:e=>{this.rating.set(e),this.onChange(e)}}}));this.maxRating=c(void 0,{transform:$});this.rating=b(0);this.ariaLabel=c();this.className=c();this.hover=h();this.leave=h();this.onChange=e=>{};this.onTouched=()=>{}}writeValue(e){this._widget.patch({rating:e})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._widget.patch({disabled:e})}trackByIndex(e){return e}getAriaLabel(e){return`${this.state.ariaLabel()} star ${e+1}`}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275cmp=d({type:a,selectors:[["app-rating"]],inputs:{maxRating:[1,"maxRating"],rating:[1,"rating"],ariaLabel:[1,"ariaLabel"],className:[1,"className"]},outputs:{rating:"ratingChange",hover:"hover",leave:"leave"},features:[E([{provide:M,useExisting:x(()=>a),multi:!0}]),R],decls:3,vars:2,consts:[[1,"rating"],["type","radio","name","rating-1",1,"mask","mask-star-2","bg-orange-400",3,"checked"],["type","radio","name","rating-1",1,"mask","mask-star-2","bg-orange-400",3,"blur","mouseleave","mouseenter","click","checked"]],template:function(t,n){t&1&&(r(0,"div",0),V(1,P,1,2,"input",1,n.trackByIndex,!0),o()),t&2&&(T(n.state.className()),l(),k(n.state.stars()))},encapsulation:2,changeDetection:0})}};var y=class a{constructor(){this.rating=3;this.hovered=0;this.left=0}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=d({type:a,selectors:[["ng-component"]],decls:13,vars:4,consts:[[3,"ratingChange","hover","leave","rating"],[1,"mt-2"],["id","defaultRating"],["id","defaultHovered"],["id","defaultLeft"]],template:function(e,t){e&1&&(r(0,"app-rating",0),F("ratingChange",function(i){return N(t.rating,i)||(t.rating=i),i}),_("hover",function(i){return t.hovered=i})("leave",function(i){return t.left=i}),o(),r(1,"div",1),s(2," Current rate: "),r(3,"span",2),s(4),o(),C(5,"br"),s(6," Hovered: "),r(7,"span",3),s(8),o(),C(9,"br"),s(10," Left: "),r(11,"span",4),s(12),o()()),e&2&&(L("rating",t.rating),l(4),f(t.rating),l(4),f(t.hovered),l(4),f(t.left))},dependencies:[v],encapsulation:2})}};export{y as default};
