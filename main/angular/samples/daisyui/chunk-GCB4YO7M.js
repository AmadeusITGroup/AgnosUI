import{e as j,m as B,n as U,p as H}from"./chunk-NSBP5E64.js";import{Ja as l,M as y,Pa as F,Q as M,Qa as w,Va as I,Wa as S,X as f,Za as N,a as b,b as A,bb as x,cb as O,da as c,db as s,ea as d,eb as o,fb as V,ha as E,ib as P,jb as g,kb as u,oa as C,pa as p,sb as a,tb as m,vb as R,wb as k,xb as T,yb as G,zb as _}from"./chunk-SP56K5OG.js";var L=new M("");var $={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},me=A(b({},$),{"[class.ng-submitted]":"isSubmitted"});function z(r,h){if(r&1){let e=P();s(0,"input",2),g("blur",function(){c(e);let i=u();return d(i.onTouched())})("mouseleave",function(){c(e);let i=u();return d(i.api.leave())})("mouseenter",function(){let i=c(e).$index,n=u();return d(n.api.setHoveredRating(i+1))})("click",function(){let i=c(e).$index,n=u();return d(n.api.setRating(i+1))}),o()}if(r&2){let e=h.$index,t=u();S("checked",e+1===t.state().visibleRating),I("aria-label",t.getAriaLabel(e))}}var v=class r extends B{constructor(){super(...arguments);this.maxRating=p(void 0,{transform:H});this.rating=F(0);this.ariaLabel=p();this.className=p();this.hover=C();this.leave=C();this._widget=U({factory:j,widgetName:"rating",events:{onHover:e=>this.hover.emit(e),onLeave:e=>this.leave.emit(e),onRatingChange:e=>{this.rating.set(e),this.onChange(e)}}});this.onChange=e=>{};this.onTouched=()=>{}}writeValue(e){this._widget.patch({rating:e})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._widget.patch({disabled:e})}trackByIndex(e){return e}getAriaLabel(e){return`${this._widget.stores.ariaLabel$()} star ${e+1}`}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=E(r)))(i||r)}})()}static{this.\u0275cmp=f({type:r,selectors:[["app-rating"]],inputs:{maxRating:[1,"maxRating"],rating:[1,"rating"],ariaLabel:[1,"ariaLabel"],className:[1,"className"]},outputs:{rating:"ratingChange",hover:"hover",leave:"leave"},standalone:!0,features:[G([{provide:L,useExisting:y(()=>r),multi:!0}]),w,_],decls:3,vars:2,consts:[[1,"rating"],["type","radio","name","rating-1",1,"mask","mask-star",3,"checked"],["type","radio","name","rating-1",1,"mask","mask-star",3,"blur","mouseleave","mouseenter","click","checked"]],template:function(t,i){t&1&&(s(0,"div",0),x(1,z,1,2,"input",1,i.trackByIndex,!0),o()),t&2&&(N(i.state().className),l(),O(i.state().stars))},encapsulation:2,changeDetection:0})}};var D=class r{constructor(){this.rating=3;this.hovered=0;this.left=0}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=f({type:r,selectors:[["ng-component"]],standalone:!0,features:[_],decls:13,vars:4,consts:[[3,"ratingChange","hover","leave","rating"],["id","defaultRating"],["id","defaultHovered"],["id","defaultLeft"]],template:function(e,t){e&1&&(s(0,"app-rating",0),T("ratingChange",function(n){return k(t.rating,n)||(t.rating=n),n}),g("hover",function(n){return t.hovered=n})("leave",function(n){return t.left=n}),o(),s(1,"div"),a(2," Current rate: "),s(3,"span",1),a(4),o(),V(5,"br"),a(6," Hovered: "),s(7,"span",2),a(8),o(),V(9,"br"),a(10," Left: "),s(11,"span",3),a(12),o()()),e&2&&(R("rating",t.rating),l(4),m(t.rating),l(4),m(t.hovered),l(4),m(t.left))},dependencies:[v],encapsulation:2})}};export{D as default};
