import{a as ie,b as oe}from"./chunk-QWHXTAJ2.js";import{c as ee}from"./chunk-7TLSRXFO.js";import{j as H,n as te,p as A,q as P}from"./chunk-PADVAFUO.js";import"./chunk-RRTP6AW4.js";import{$ as d,$b as U,Ab as O,Bb as m,Fb as Q,Ga as F,Gb as J,Ha as T,Ia as n,Ib as I,Jb as K,Ua as p,Vb as M,W as L,_b as X,a as j,aa as u,ac as Y,b as z,da as $,dc as s,ec as Z,hb as B,ib as g,ja as _,jb as h,kb as b,lb as w,mb as S,nb as a,ob as c,pb as l,qb as x,rb as E,sb as W,tb as R,xb as D,yb as k,zb as N}from"./chunk-HOIBBIZL.js";var pe=["appGalleryImage",""];function ge(i,t){i&1&&R(0,"span",1)}function he(i,t){if(i&1&&R(0,"source",3),i&2){let e=t.$implicit;k("media",e.media)("srcset",e.srcset)}}function ve(i,t){if(i&1){let e=D();g(0,ge,1,0,"span",1),E(1,"picture",2),w(2,he,1,2,"source",3,b),E(4,"img",4),O("load",function(){d(e);let r=m();return u(r.imageLoaded.set(!0))}),W()()}if(i&2){let e=m();h(e.imageLoaded()?-1:0),n(2),S(e.sources()),n(2),I("aspect-ratio",e.aspectRatio()),k("alt",e.alt())("src",e.src(),T)}}function fe(i,t){i&1&&R(0,"div",0)}var v=class v{constructor(){this.src=s.required();this.alt=s.required();this.sources=s.required();this.loadRequested=s.required();this.aspectRatio=s.required();this.imageLoaded=_(!1)}};v.\u0275fac=function(e){return new(e||v)},v.\u0275cmp=p({type:v,selectors:[["div","appGalleryImage",""]],hostAttrs:[1,"relative","basis-full","min-w-0","shrink-0","grow-0","flex","justify-center"],inputs:{src:[1,"src"],alt:[1,"alt"],sources:[1,"sources"],loadRequested:[1,"loadRequested"],aspectRatio:[1,"aspectRatio"]},attrs:pe,decls:2,vars:1,consts:[[1,"skeleton","w-full","h-full"],[1,"absolute","top-1/2","-translate-y-1/2","left-1/2","loading","loading-spinner","loading-lg","text-primary"],[1,"flex","justify-center"],[3,"media","srcset"],[1,"select-none","object-contain",3,"load","alt","src"]],template:function(e,o){e&1&&g(0,ve,5,5)(1,fe,1,0,"div",0),e&2&&h(o.loadRequested()?0:1)},encapsulation:2,changeDetection:0});var q=v;var ae=`<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" /></svg>
`;var se='<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25" /></svg>';var _e=["mainContainer"],le=(i,t)=>({index:i,id:t}),ce=(i,t)=>[i,t];function be(i,t){if(i&1&&x(0,"div",4),i&2){let e=t.$implicit,o=t.$index,r=m();a("src",e.src)("alt",e.alt)("aspectRatio",r.aspectRatio())("loadRequested",e.loadRequested())("sources",e.sources)("auUse",M(9,ce,r.mainCarouselDirectives.slide,M(6,le,o,"gallery-photo-"+o)))}}function we(i,t){if(i&1){let e=D();c(0,"div",5)(1,"button",10),N("pointerdown",function(r){return d(e),u(r.preventDefault())}),l(),c(2,"button",10),N("pointerdown",function(r){return d(e),u(r.preventDefault())}),l()()}if(i&2){let e=m();n(),a("auUse",e.mainCarouselDirectives.scrollPrev)("innerHTML",e.previousSvg,F),n(),a("auUse",e.mainCarouselDirectives.scrollNext)("innerHTML",e.nextSvg,F)}}function Se(i,t){if(i&1){let e=D();c(0,"div",6)(1,"button",11),N("click",function(){d(e);let r=m();return u(r.toggleFullScreen())}),l()()}if(i&2){let e=m();n(),a("innerHTML",e.isFullScreen()?e.compressSvg:e.expandSvg,F),B("aria-label",e.isFullScreen()?"leave fullscreen":"open photo in fullscreen")}}function xe(i,t){if(i&1&&(c(0,"button",12),x(1,"img",13),l()),i&2){let e=t.$implicit,o=t.$index,r=m(),ue="gallery-photo-"+o;K("ring-3",r.mainCarouselState.selectedScrollSnap()===o),a("auUse",M(9,ce,r.mainCarouselDirectives.tabIndicator,M(6,le,o,ue))),n(),I("aspect-ratio",r.aspectRatio()),a("src",e.thumbnail,T)}}var f=class f{constructor(){this.photos=s.required();this.withNavArrows=s(!1,{transform:P});this.withShowFullscreen=s(!1,{transform:P});this.aspectRatio=s(4/3);this.domSanitizer=L(ee);this.previousSvg=this.domSanitizer.bypassSecurityTrustHtml(ie);this.nextSvg=this.domSanitizer.bypassSecurityTrustHtml(oe);this.expandSvg=this.domSanitizer.bypassSecurityTrustHtml(ae);this.compressSvg=this.domSanitizer.bypassSecurityTrustHtml(se);this._mainCarousel=A(H);this._thumbCarousel=A(H,{defaultConfig:{dragFree:!0,containScroll:"keepSnaps"}});this.photosWithLoadState=U(()=>this.photos().map((t,e)=>z(j({},t),{loadRequested:_(e===0)})));this.canFullScreen=U(()=>this.withShowFullscreen()&&document?.fullscreenEnabled);this.isFullScreen=_(!1);this.mainContainer=Z.required("mainContainer");this.injector=L($)}get mainCarouselApi(){return this._mainCarousel.api}get mainCarouselDirectives(){return this._mainCarousel.directives}get mainCarouselState(){return this._mainCarousel.state}get thumbCarouselApi(){return this._thumbCarousel.api}get thumbCarouselState(){return this._thumbCarousel.state}get thumbCarouselDirectives(){return this._thumbCarousel.directives}ngOnInit(){this._mainCarousel.ngInit(),this._thumbCarousel.ngInit(),Y(()=>{let t=this.mainCarouselState.selectedScrollSnap();X(()=>{this.thumbCarouselApi.scrollTo(t);let e=this.photosWithLoadState();e[t].loadRequested.set(!0),t>0&&e[t-1].loadRequested.set(!0),t<e.length-1&&e[t+1].loadRequested.set(!0)})},{injector:this.injector})}toggleFullScreen(){this.isFullScreen()?document.exitFullscreen():this.mainContainer().nativeElement.requestFullscreen(),this.isFullScreen.update(t=>!t)}scrollToSlide(t){this.mainCarouselApi.scrollTo(t,Math.abs(this.mainCarouselState.selectedScrollSnap()-t)>1)}};f.\u0275fac=function(e){return new(e||f)},f.\u0275cmp=p({type:f,selectors:[["app-gallery"]],viewQuery:function(e,o){e&1&&Q(o.mainContainer,_e,5),e&2&&J()},inputs:{photos:[1,"photos"],withNavArrows:[1,"withNavArrows"],withShowFullscreen:[1,"withShowFullscreen"],aspectRatio:[1,"aspectRatio"]},decls:12,vars:5,consts:[["mainContainer",""],[1,"grid","grid-flow-row","max-h-dvh"],[1,"overflow-hidden","relative","cursor-grab","active:cursor-grabbing",3,"auUse"],[1,"flex","max-h-full"],["appGalleryImage","",3,"src","alt","aspectRatio","loadRequested","sources","auUse"],[1,"absolute","left-5","right-5","top-1/2","flex","-translate-y-1/2","transform","justify-between"],[1,"absolute","right-5","bottom-5","flex"],[1,"overflow-hidden","mt-1","mb-2",3,"auUse"],[1,"grid","grid-flow-col","auto-cols-max","gap-2","mx-1","my-1","items-center",3,"auUse"],[1,"ring-primary","cursor-pointer",3,"ring-3","auUse"],[1,"btn","btn-primary","btn-sm","md:btn-md","btn-circle","opacity-75","hover:opacity-100",3,"pointerdown","auUse","innerHTML"],[1,"btn","btn-primary","btn-sm","md:btn-md","btn-square","opacity-75","hover:opacity-100",3,"click","innerHTML"],[1,"ring-primary","cursor-pointer",3,"auUse"],["alt","random picsum","loading","lazy",1,"select-none",3,"src"]],template:function(e,o){e&1&&(c(0,"div",1,0)(2,"div",2)(3,"div",3),w(4,be,1,12,"div",4,b),l(),g(6,we,3,4,"div",5),g(7,Se,2,2,"div",6),l(),c(8,"div",7)(9,"div",8),w(10,xe,2,12,"button",9,b),l()()()),e&2&&(n(2),a("auUse",o.mainCarouselDirectives.root),n(2),S(o.photosWithLoadState()),n(2),h(o.withNavArrows()?6:-1),n(),h(o.canFullScreen()?7:-1),n(),a("auUse",o.thumbCarouselDirectives.root),n(),a("auUse",o.mainCarouselDirectives.tabList),n(),S(o.photos()))},dependencies:[te,q],encapsulation:2,changeDetection:0});var G=f;var De=[36,43,70,102,124,142,156,242,288,289,295,361,400,488,496,515,557,607,623,645],Me=[124,289,400,488,607],me=[],y=(i,t,e,o)=>`https://picsum.photos/id/${i}/${o?e:t}/${o?t:e}.webp`;for(let i of De){let t=Me.includes(i);me.push({thumbnail:y(i,120,90,t),src:y(i,1600,1200,t),alt:"random picsum",sources:[{media:"(max-width: 599px)",srcset:y(i,600,450,t)},{media:"(min-width: 600px) and (max-width: 799px)",srcset:y(i,800,600,t)},{media:"(min-width: 800px) and (max-width: 1199px)",srcset:y(i,1200,900,t)},{media:"(min-width: 1200px)",srcset:y(i,1600,1200,t)}]})}var de=[...me];var C=class C{constructor(){this.photos=de}};C.\u0275fac=function(e){return new(e||C)},C.\u0275cmp=p({type:C,selectors:[["ng-component"]],decls:3,vars:1,consts:[[1,"w-full","flex","justify-center"],[1,"max-w-[600px]","lg:max-w-[1000px]"],["withNavArrows","","withShowFullscreen","",3,"photos"]],template:function(e,o){e&1&&(c(0,"div",0)(1,"div",1),x(2,"app-gallery",2),l()()),e&2&&(n(2),a("photos",o.photos))},dependencies:[G],encapsulation:2});var V=C;export{V as default};
