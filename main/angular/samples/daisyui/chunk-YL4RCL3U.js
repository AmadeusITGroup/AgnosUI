import{e as G,m as j,n as B,p as U}from"./chunk-U6PXNEDK.js";import{Ja as l,M as y,Pa as E,Q as M,Qa as F,Va as w,Wa as I,X as f,Za as S,a as b,b as A,bb as N,cb as x,da as c,db as s,ea as d,eb as o,fb as V,ib as O,jb as g,kb as u,oa as C,pa as p,sb as a,tb as m,vb as P,wb as R,xb as k,yb as T,zb as _}from"./chunk-YCGGRBFB.js";var H=new M("");var L={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ge=A(b({},L),{"[class.ng-submitted]":"isSubmitted"});function q(r,h){if(r&1){let e=O();s(0,"input",2),g("blur",function(){c(e);let i=u();return d(i.onTouched())})("mouseleave",function(){c(e);let i=u();return d(i.api.leave())})("mouseenter",function(){let i=c(e).$index,n=u();return d(n.api.setHoveredRating(i+1))})("click",function(){let i=c(e).$index,n=u();return d(n.api.setRating(i+1))}),o()}if(r&2){let e=h.$index,t=u();I("checked",e+1===t.state.visibleRating()),w("aria-label",t.getAriaLabel(e))}}var v=class r extends j{constructor(){super(B({factory:G,widgetName:"rating",events:{onHover:e=>this.hover.emit(e),onLeave:e=>this.leave.emit(e),onRatingChange:e=>{this.rating.set(e),this.onChange(e)}}}));this.maxRating=p(void 0,{transform:U});this.rating=E(0);this.ariaLabel=p();this.className=p();this.hover=C();this.leave=C();this.onChange=e=>{};this.onTouched=()=>{}}writeValue(e){this._widget.patch({rating:e})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._widget.patch({disabled:e})}trackByIndex(e){return e}getAriaLabel(e){return`${this.state.ariaLabel()} star ${e+1}`}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=f({type:r,selectors:[["app-rating"]],inputs:{maxRating:[1,"maxRating"],rating:[1,"rating"],ariaLabel:[1,"ariaLabel"],className:[1,"className"]},outputs:{rating:"ratingChange",hover:"hover",leave:"leave"},standalone:!0,features:[T([{provide:H,useExisting:y(()=>r),multi:!0}]),F,_],decls:3,vars:2,consts:[[1,"rating"],["type","radio","name","rating-1",1,"mask","mask-star",3,"checked"],["type","radio","name","rating-1",1,"mask","mask-star",3,"blur","mouseleave","mouseenter","click","checked"]],template:function(t,i){t&1&&(s(0,"div",0),N(1,q,1,2,"input",1,i.trackByIndex,!0),o()),t&2&&(S(i.state.className()),l(),x(i.state.stars()))},encapsulation:2,changeDetection:0})}};var D=class r{constructor(){this.rating=3;this.hovered=0;this.left=0}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=f({type:r,selectors:[["ng-component"]],standalone:!0,features:[_],decls:13,vars:4,consts:[[3,"ratingChange","hover","leave","rating"],["id","defaultRating"],["id","defaultHovered"],["id","defaultLeft"]],template:function(e,t){e&1&&(s(0,"app-rating",0),k("ratingChange",function(n){return R(t.rating,n)||(t.rating=n),n}),g("hover",function(n){return t.hovered=n})("leave",function(n){return t.left=n}),o(),s(1,"div"),a(2," Current rate: "),s(3,"span",1),a(4),o(),V(5,"br"),a(6," Hovered: "),s(7,"span",2),a(8),o(),V(9,"br"),a(10," Left: "),s(11,"span",3),a(12),o()()),e&2&&(P("rating",t.rating),l(4),m(t.rating),l(4),m(t.hovered),l(4),m(t.left))},dependencies:[v],encapsulation:2})}};export{D as default};
