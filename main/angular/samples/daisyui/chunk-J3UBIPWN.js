import{a as Z,b as ee}from"./chunk-QWHXTAJ2.js";import{c as X}from"./chunk-KYU4NTPJ.js";import{j as E,n as Y,p as k,q as U}from"./chunk-NW5RNE4J.js";import"./chunk-FDIARFWY.js";import{$b as L,Ab as q,Bb as F,Cb as B,Db as m,Ea as x,Fa as D,Ga as n,Hb as O,Ib as Q,Kb as T,Lb as J,P as I,U as d,V as p,Wa as u,Xb as S,Y as j,a as P,b as V,cc as s,dc as K,fa as v,fb as $,ga as z,ha as A,jb as g,kb as h,mb as f,nb as C,ob as _,pb as a,qb as c,rb as l,sb as w,tb as N,ub as W,vb as M,zb as b}from"./chunk-PDA64E5G.js";var me=["appGalleryImage",""];function de(o,t){o&1&&M(0,"span",1)}function pe(o,t){if(o&1&&M(0,"source",3),o&2){let e=t.$implicit;q("media",e.media)("srcset",e.srcset)}}function ue(o,t){if(o&1){let e=b();g(0,de,1,0,"span",1),N(1,"picture",2),C(2,pe,1,2,"source",3,f),N(4,"img",4),B("load",function(){d(e);let r=m();return p(r.imageLoaded.set(!0))}),W()()}if(o&2){let e=m();h(e.imageLoaded()?-1:0),n(2),_(e.sources()),n(2),T("aspect-ratio",e.aspectRatio()),q("alt",e.alt())("src",e.src(),D)}}function ge(o,t){o&1&&M(0,"div",0)}var G=class o{constructor(){this.src=s.required();this.alt=s.required();this.sources=s.required();this.loadRequested=s.required();this.aspectRatio=s.required();this.imageLoaded=v(!1)}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=u({type:o,selectors:[["div","appGalleryImage",""]],hostAttrs:[1,"relative","basis-full","min-w-0","shrink-0","grow-0","flex","justify-center"],inputs:{src:[1,"src"],alt:[1,"alt"],sources:[1,"sources"],loadRequested:[1,"loadRequested"],aspectRatio:[1,"aspectRatio"]},attrs:me,decls:2,vars:1,consts:[[1,"skeleton","w-full","h-full"],[1,"absolute","top-1/2","-translate-y-1/2","left-1/2","loading","loading-spinner","loading-lg","text-primary"],[1,"flex","justify-center"],[3,"media","srcset"],[1,"select-none","object-contain",3,"load","alt","src"]],template:function(e,i){e&1&&g(0,ue,5,5)(1,ge,1,0,"div",0),e&2&&h(i.loadRequested()?0:1)},encapsulation:2,changeDetection:0})}};var ie=`<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" /></svg>
`;var ne='<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 fill-current md:h-8 md:w-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25" /></svg>';var ve=["mainContainer"],re=(o,t)=>({index:o,id:t}),ae=(o,t)=>[o,t];function fe(o,t){if(o&1&&w(0,"div",4),o&2){let e=t.$implicit,i=t.$index,r=m();a("src",e.src)("alt",e.alt)("aspectRatio",r.aspectRatio())("loadRequested",e.loadRequested())("sources",e.sources)("auUse",S(9,ae,r.mainCarouselDirectives.slide,S(6,re,i,"gallery-photo-"+i)))}}function Ce(o,t){if(o&1){let e=b();c(0,"div",5)(1,"button",10),F("pointerdown",function(r){return d(e),p(r.preventDefault())}),l(),c(2,"button",10),F("pointerdown",function(r){return d(e),p(r.preventDefault())}),l()()}if(o&2){let e=m();n(),a("auUse",e.mainCarouselDirectives.scrollPrev)("innerHTML",e.previousSvg,x),n(),a("auUse",e.mainCarouselDirectives.scrollNext)("innerHTML",e.nextSvg,x)}}function _e(o,t){if(o&1){let e=b();c(0,"div",6)(1,"button",11),F("click",function(){d(e);let r=m();return p(r.toggleFullScreen())}),l()()}if(o&2){let e=m();n(),a("innerHTML",e.isFullScreen()?e.compressSvg:e.expandSvg,x),$("aria-label",e.isFullScreen()?"leave fullscreen":"open photo in fullscreen")}}function we(o,t){if(o&1&&(c(0,"button",12),w(1,"img",13),l()),o&2){let e=t.$implicit,i=t.$index,r=m(),ce="gallery-photo-"+i;J("ring-3",r.mainCarouselState.selectedScrollSnap()===i),a("auUse",S(9,ae,r.mainCarouselDirectives.tabIndicator,S(6,re,i,ce))),n(),T("aspect-ratio",r.aspectRatio()),a("src",e.thumbnail,D)}}var R=class o{constructor(){this.photos=s.required();this.withNavArrows=s(!1,{transform:U});this.withShowFullscreen=s(!1,{transform:U});this.aspectRatio=s(4/3);this.domSanitizer=I(X);this.previousSvg=this.domSanitizer.bypassSecurityTrustHtml(Z);this.nextSvg=this.domSanitizer.bypassSecurityTrustHtml(ee);this.expandSvg=this.domSanitizer.bypassSecurityTrustHtml(ie);this.compressSvg=this.domSanitizer.bypassSecurityTrustHtml(ne);this._mainCarousel=k(E);this._thumbCarousel=k(E,{defaultConfig:{dragFree:!0,containScroll:"keepSnaps"}});this.photosWithLoadState=L(()=>this.photos().map((t,e)=>V(P({},t),{loadRequested:v(e===0)})));this.canFullScreen=L(()=>this.withShowFullscreen()&&document?.fullscreenEnabled);this.isFullScreen=v(!1);this.mainContainer=K.required("mainContainer");this.injector=I(j)}get mainCarouselApi(){return this._mainCarousel.api}get mainCarouselDirectives(){return this._mainCarousel.directives}get mainCarouselState(){return this._mainCarousel.state}get thumbCarouselApi(){return this._thumbCarousel.api}get thumbCarouselState(){return this._thumbCarousel.state}get thumbCarouselDirectives(){return this._thumbCarousel.directives}ngOnInit(){this._mainCarousel.ngInit(),this._thumbCarousel.ngInit(),z(()=>{let t=this.mainCarouselState.selectedScrollSnap();A(()=>{this.thumbCarouselApi.scrollTo(t);let e=this.photosWithLoadState();e[t].loadRequested.set(!0),t>0&&e[t-1].loadRequested.set(!0),t<e.length-1&&e[t+1].loadRequested.set(!0)})},{injector:this.injector})}toggleFullScreen(){this.isFullScreen()?document.exitFullscreen():this.mainContainer().nativeElement.requestFullscreen(),this.isFullScreen.update(t=>!t)}scrollToSlide(t){this.mainCarouselApi.scrollTo(t,Math.abs(this.mainCarouselState.selectedScrollSnap()-t)>1)}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=u({type:o,selectors:[["app-gallery"]],viewQuery:function(e,i){e&1&&O(i.mainContainer,ve,5),e&2&&Q()},inputs:{photos:[1,"photos"],withNavArrows:[1,"withNavArrows"],withShowFullscreen:[1,"withShowFullscreen"],aspectRatio:[1,"aspectRatio"]},decls:12,vars:5,consts:[["mainContainer",""],[1,"grid","grid-flow-row","max-h-dvh"],[1,"overflow-hidden","relative","cursor-grab","active:cursor-grabbing",3,"auUse"],[1,"flex","max-h-full"],["appGalleryImage","",3,"src","alt","aspectRatio","loadRequested","sources","auUse"],[1,"absolute","left-5","right-5","top-1/2","flex","-translate-y-1/2","transform","justify-between"],[1,"absolute","right-5","bottom-5","flex"],[1,"overflow-hidden","mt-1","mb-2",3,"auUse"],[1,"grid","grid-flow-col","auto-cols-max","gap-2","mx-1","my-1","items-center",3,"auUse"],[1,"ring-primary","cursor-pointer",3,"ring-3","auUse"],[1,"btn","btn-primary","btn-sm","md:btn-md","btn-circle","opacity-75","hover:opacity-100",3,"pointerdown","auUse","innerHTML"],[1,"btn","btn-primary","btn-sm","md:btn-md","btn-square","opacity-75","hover:opacity-100",3,"click","innerHTML"],[1,"ring-primary","cursor-pointer",3,"auUse"],["alt","random picsum","loading","lazy",1,"select-none",3,"src"]],template:function(e,i){e&1&&(c(0,"div",1,0)(2,"div",2)(3,"div",3),C(4,fe,1,12,"div",4,f),l(),g(6,Ce,3,4,"div",5),g(7,_e,2,2,"div",6),l(),c(8,"div",7)(9,"div",8),C(10,we,2,12,"button",9,f),l()()()),e&2&&(n(2),a("auUse",i.mainCarouselDirectives.root),n(2),_(i.photosWithLoadState()),n(2),h(i.withNavArrows()?6:-1),n(),h(i.canFullScreen()?7:-1),n(),a("auUse",i.thumbCarouselDirectives.root),n(),a("auUse",i.mainCarouselDirectives.tabList),n(),_(i.photos()))},dependencies:[Y,G],encapsulation:2,changeDetection:0})}};var be=[36,43,70,102,124,142,156,242,288,289,295,361,400,488,496,515,557,607,623,645],Se=[124,289,400,488,607],se=[],y=(o,t,e,i)=>`https://picsum.photos/id/${o}/${i?e:t}/${i?t:e}.webp`;for(let o of be){let t=Se.includes(o);se.push({thumbnail:y(o,120,90,t),src:y(o,1600,1200,t),alt:"random picsum",sources:[{media:"(max-width: 599px)",srcset:y(o,600,450,t)},{media:"(min-width: 600px) and (max-width: 799px)",srcset:y(o,800,600,t)},{media:"(min-width: 800px) and (max-width: 1199px)",srcset:y(o,1200,900,t)},{media:"(min-width: 1200px)",srcset:y(o,1600,1200,t)}]})}var le=[...se];var H=class o{constructor(){this.photos=le}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=u({type:o,selectors:[["ng-component"]],decls:3,vars:1,consts:[[1,"w-full","flex","justify-center"],[1,"max-w-[600px]","lg:max-w-[1000px]"],["withNavArrows","","withShowFullscreen","",3,"photos"]],template:function(e,i){e&1&&(c(0,"div",0)(1,"div",1),w(2,"app-gallery",2),l()()),e&2&&(n(2),a("photos",i.photos))},dependencies:[R],encapsulation:2})}};export{H as default};
