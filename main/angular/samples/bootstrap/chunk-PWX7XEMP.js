import{a as pe,b as ue}from"./chunk-OKOHCKDB.js";import{c as oe}from"./chunk-5NKLTY63.js";import{R as re,S as se,T as le}from"./chunk-J777E4O3.js";import{da as ae}from"./chunk-GTWI4NU4.js";import"./chunk-WU7NLIJT.js";import{Eb as T,Gb as v,Ib as E,Ja as R,Ka as Q,La as y,Mb as K,Nb as X,Pb as Y,Qb as L,Sb as Z,Ub as ee,Y as j,Ya as P,ba as d,bb as W,bc as F,ca as m,la as x,lc as te,nb as B,nc as ie,oc as A,pc as ne,ub as G,vb as J,wb as g,xb as l,yb as f,zb as N}from"./chunk-Y2SLGRQP.js";var Ee=["progressbar"],Ae=(n,t)=>({index:n,id:t}),Oe=(n,t)=>[n,t],Ie=(n,t)=>t.id;function Me(n,t){if(n&1&&(l(0,"div",6)(1,"button",11),Z(2),f()()),n&2){let e=t.$implicit,i=t.$index,o=E();y(),L("active",o.state().selectedScrollSnap()===i),g("auUse",F(7,Oe,o.directives().tabIndicator,F(4,Ae,i,e.id))),y(),ee(" ",i+1," ")}}var h=class h{constructor(){this.state=A.required();this.api=A.required();this.directives=A.required();this.playingChange=ie();this.sanitizer=j(oe);this.playSvg=this.sanitizer.bypassSecurityTrustHtml(pe);this.pauseSvg=this.sanitizer.bypassSecurityTrustHtml(ue);this.progressbar=ne.required("progressbar");this.isPlaying=x(!0);te(()=>{this.state().initialized()&&(this.api().emblaApi().on("autoplay:play",()=>{this.isPlaying.set(!0),this.playingChange.emit(!0)}).on("autoplay:stop",()=>{this.isPlaying.set(!1),this.playingChange.emit(!1)}).on("autoplay:timerset",()=>{this.launchProgressbar()}).on("autoplay:timerstopped",()=>{this.progressbar().nativeElement.style.transition="none",this.progressbar().nativeElement.style.width="0%"}),this.launchProgressbar())})}onClick(){this.isPlaying()?this.api().plugins().autoplay.stop():this.api().plugins().autoplay.play()}launchProgressbar(){this.progressbar().nativeElement.style.transition="none",this.progressbar().nativeElement.style.width="0%",window.requestAnimationFrame(()=>{window.setTimeout(()=>{this.progressbar().nativeElement.style.transition=`width ${this.api().plugins().autoplay.timeUntilNext()}ms linear`,this.progressbar().nativeElement.style.width="100%"})})}};h.\u0275fac=function(e){return new(e||h)},h.\u0275cmp=P({type:h,selectors:[["app-autoplay-navigation"]],viewQuery:function(e,i){e&1&&K(i.progressbar,Ee,5),e&2&&X()},inputs:{state:[1,"state"],api:[1,"api"],directives:[1,"directives"]},outputs:{playingChange:"playingChange"},decls:12,vars:5,consts:[["progressbar",""],[1,"navigation"],[1,"d-flex","bg-light","rounded-4","py-1","px-2",3,"pointerdown","touchstart"],["type","button",1,"btn","btn-sm","btn-outline-primary","rounded-5","d-flex","align-items-center",3,"click","innerHTML"],[1,"d-flex","bg-light","rounded-4","py-1","px-3","align-items-center",3,"pointerdown","touchstart"],[1,"pagination","pagination-sm","align-items-center",3,"auUse"],[1,"page-item"],["aria-hidden","true",1,"progress-container","d-none","d-sm-flex"],[1,"bg-light","rounded-4","py-1","px-3","w-100","d-flex","align-items-center"],[1,"progress","w-100"],[1,"autoplay-progress-bar","progress-bar"],["type","button",1,"page-link",3,"auUse"]],template:function(e,i){if(e&1){let o=T();l(0,"div",1)(1,"div",2),v("pointerdown",function(r){return d(o),m(r.preventDefault())})("touchstart",function(r){return d(o),m(r.stopPropagation())}),l(2,"button",3),v("click",function(){return d(o),m(i.onClick())}),f()(),l(3,"div",4),v("pointerdown",function(r){return d(o),m(r.preventDefault())})("touchstart",function(r){return d(o),m(r.stopPropagation())}),l(4,"div",5),G(5,Me,3,10,"div",6,Ie),f()()(),l(7,"div",7)(8,"div",8)(9,"div",9),N(10,"div",10,0),f()()()}e&2&&(y(2),g("innerHTML",i.isPlaying()?i.pauseSvg:i.playSvg,R),B("aria-label",i.isPlaying()?"Pause rotation of slides":"Play rotation of slides"),y(2),g("auUse",i.directives().tabList),y(),J(i.state().slidesData()),y(2),L("opacity-0",!i.isPlaying()))},dependencies:[ae],encapsulation:2,changeDetection:0});var O=h;var Ve={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Le(n,t){let e=n.scrollSnapList();return typeof t=="number"?e.map(()=>t):t(e,n)}function Fe(n,t){let e=n.rootNode();return t&&t(e)||e}function I(n={}){let t,e,i,o,s=null,r=0,p=!1,C=!1,M=!1,w=!1;function ce(a,_){e=a;let{mergeOptions:S,optionsAtMedia:V}=_,De=S(Ve,I.globalOptions),xe=S(De,n);if(t=V(xe),e.scrollSnapList().length<=1)return;w=t.jump,i=!1,o=Le(e,t.delay);let{eventStore:D,ownerDocument:Pe}=e.internalEngine(),$=!!e.internalEngine().options.watchDrag,q=Fe(e,t.rootNode);D.add(Pe,"visibilitychange",fe),$&&e.on("pointerDown",k),$&&!t.stopOnInteraction&&e.on("pointerUp",H),t.stopOnMouseEnter&&D.add(q,"mouseenter",ye),t.stopOnMouseEnter&&!t.stopOnInteraction&&D.add(q,"mouseleave",ve),t.stopOnFocusIn&&e.on("slideFocusStart",c),t.stopOnFocusIn&&!t.stopOnInteraction&&D.add(e.containerNode(),"focusout",u),t.playOnInit&&u()}function de(){e.off("pointerDown",k).off("pointerUp",H).off("slideFocusStart",c),c(),i=!0,p=!1}function me(){let{ownerWindow:a}=e.internalEngine();a.clearTimeout(r),r=a.setTimeout(we,o[e.selectedScrollSnap()]),s=new Date().getTime(),e.emit("autoplay:timerset")}function ge(){let{ownerWindow:a}=e.internalEngine();a.clearTimeout(r),r=0,s=null,e.emit("autoplay:timerstopped")}function u(){if(!i){if(z()){M=!0;return}p||e.emit("autoplay:play"),me(),p=!0}}function c(){i||(p&&e.emit("autoplay:stop"),ge(),p=!1)}function fe(){if(z())return M=p,c();M&&u()}function z(){let{ownerDocument:a}=e.internalEngine();return a.visibilityState==="hidden"}function k(){C||c()}function H(){C||u()}function ye(){C=!0,c()}function ve(){C=!1,u()}function he(a){typeof a<"u"&&(w=a),u()}function be(){p&&c()}function _e(){p&&u()}function Ce(){return p}function we(){let{index:a}=e.internalEngine(),_=a.clone().add(1).get(),S=e.scrollSnapList().length-1,V=t.stopOnLastSnap&&_===S;if(e.canScrollNext()?e.scrollNext(w):e.scrollTo(0,w),e.emit("autoplay:select"),V)return c();u()}function Se(){if(!s)return null;let a=o[e.selectedScrollSnap()],_=new Date().getTime()-s;return a-_}return{name:"autoplay",options:n,init:ce,destroy:de,play:he,stop:be,reset:_e,isPlaying:Ce,timeUntilNext:Se}}I.globalOptions=void 0;function Ue(n,t){if(n&1){let e=T();l(0,"app-autoplay-navigation",3),v("playingChange",function(o){d(e);let s=E();return m(s.isPlaying.set(o))}),f()}if(n&2){let e=t.directives,i=t.state,o=t.api;g("state",i)("api",o)("directives",e)}}function ze(n,t){if(n&1&&N(0,"img",4),n&2){let e=t.src;Y("aspect-ratio",1.8/1),g("src",e,Q)}}var b=class b{constructor(){this.photos=[944,1011,984].map(t=>({id:`carousel-autoplay-${t}`,src:`https://picsum.photos/id/${t}/900/500`}));this.plugins=[I({playOnInit:!0,stopOnFocusIn:!0,delay:4e3})];this.isPlaying=x(!0)}};b.\u0275fac=function(e){return new(e||b)},b.\u0275cmp=P({type:b,selectors:[["ng-component"]],decls:3,vars:3,consts:[["auCarousel","","auLoop","",1,"autoplay-carousel",3,"auSlidesData","auPlugins","auAriaLive"],["auCarouselNavigation",""],["auCarouselSlide",""],[3,"playingChange","state","api","directives"],["alt","random picsum",1,"w-100","rounded-5",3,"src"]],template:function(e,i){e&1&&(l(0,"div",0),W(1,Ue,1,3,"ng-template",1)(2,ze,1,3,"ng-template",2),f()),e&2&&g("auSlidesData",i.photos)("auPlugins",i.plugins)("auAriaLive",i.isPlaying()?"off":"polite")},dependencies:[le,se,re,O],styles:[`.autoplay-carousel .au-carousel-slide{flex-basis:85%;margin-right:.5rem}.autoplay-carousel .navigation{position:absolute;top:1rem;left:10%;right:10%;z-index:1;display:flex;justify-content:space-between}.autoplay-carousel .progress-container{position:absolute;bottom:1rem;left:35%;right:35%;z-index:1}.autoplay-carousel .progress-container .progress{height:.75rem}@media (max-width: 576px){.au-carousel-slide{flex-basis:100%;margin-right:0}}@media (max-width: 576px){.navigation{top:.5rem;left:1rem;right:1rem}}
`],encapsulation:2});var U=b;export{U as default};
