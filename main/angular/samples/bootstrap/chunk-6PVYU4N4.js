import{a as se,b as le}from"./chunk-OKOHCKDB.js";import{c as ne}from"./chunk-AMU3C4GE.js";import{Q as oe,R as ae,S as re}from"./chunk-MQAMQTPV.js";import{ca as ie}from"./chunk-PI5XX4DP.js";import"./chunk-6IP2RCQP.js";import{$a as Q,Ab as P,Ea as j,Eb as J,Fa as R,Fb as K,Ga as y,Hb as X,Ib as M,Kb as Y,Mb as Z,Q as $,V as d,Vb as V,W as m,Wa as D,cc as ee,dc as T,ec as te,fa as S,ga as q,hb as W,mb as B,nb as G,ob as g,pb as l,qb as f,rb as x,wb as N,yb as v}from"./chunk-5IUOAAIY.js";var Pe=["progressbar"],Te=(n,t)=>({index:n,id:t}),Ee=(n,t)=>[n,t],Ae=(n,t)=>t.id;function Oe(n,t){if(n&1&&(l(0,"div",6)(1,"button",11),Y(2),f()()),n&2){let e=t.$implicit,i=t.$index,o=P();y(),M("active",o.state().selectedScrollSnap()===i),g("auUse",V(7,Ee,o.directives().tabIndicator,V(4,Te,i,e.id))),y(),Z(" ",i+1," ")}}var E=class n{constructor(){this.state=T.required();this.api=T.required();this.directives=T.required();this.playingChange=ee();this.sanitizer=$(ne);this.playSvg=this.sanitizer.bypassSecurityTrustHtml(se);this.pauseSvg=this.sanitizer.bypassSecurityTrustHtml(le);this.progressbar=te.required("progressbar");this.isPlaying=S(!0);q(()=>{this.state().initialized()&&(this.api().emblaApi().on("autoplay:play",()=>{this.isPlaying.set(!0),this.playingChange.emit(!0)}).on("autoplay:stop",()=>{this.isPlaying.set(!1),this.playingChange.emit(!1)}).on("autoplay:timerset",()=>{this.launchProgressbar()}).on("autoplay:timerstopped",()=>{this.progressbar().nativeElement.style.transition="none",this.progressbar().nativeElement.style.width="0%"}),this.launchProgressbar())})}onClick(){this.isPlaying()?this.api().plugins().autoplay.stop():this.api().plugins().autoplay.play()}launchProgressbar(){this.progressbar().nativeElement.style.transition="none",this.progressbar().nativeElement.style.width="0%",window.requestAnimationFrame(()=>{window.setTimeout(()=>{this.progressbar().nativeElement.style.transition=`width ${this.api().plugins().autoplay.timeUntilNext()}ms linear`,this.progressbar().nativeElement.style.width="100%"})})}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=D({type:n,selectors:[["app-autoplay-navigation"]],viewQuery:function(e,i){e&1&&J(i.progressbar,Pe,5),e&2&&K()},inputs:{state:[1,"state"],api:[1,"api"],directives:[1,"directives"]},outputs:{playingChange:"playingChange"},decls:12,vars:5,consts:[["progressbar",""],[1,"navigation"],[1,"d-flex","bg-light","rounded-4","py-1","px-2",3,"pointerdown","touchstart"],["type","button",1,"btn","btn-sm","btn-outline-primary","rounded-5","d-flex","align-items-center",3,"click","innerHTML"],[1,"d-flex","bg-light","rounded-4","py-1","px-3","align-items-center",3,"pointerdown","touchstart"],[1,"pagination","pagination-sm","align-items-center",3,"auUse"],[1,"page-item"],["aria-hidden","true",1,"progress-container","d-none","d-sm-flex"],[1,"bg-light","rounded-4","py-1","px-3","w-100","d-flex","align-items-center"],[1,"progress","w-100"],[1,"autoplay-progress-bar","progress-bar"],["type","button",1,"page-link",3,"auUse"]],template:function(e,i){if(e&1){let o=N();l(0,"div",1)(1,"div",2),v("pointerdown",function(r){return d(o),m(r.preventDefault())})("touchstart",function(r){return d(o),m(r.stopPropagation())}),l(2,"button",3),v("click",function(){return d(o),m(i.onClick())}),f()(),l(3,"div",4),v("pointerdown",function(r){return d(o),m(r.preventDefault())})("touchstart",function(r){return d(o),m(r.stopPropagation())}),l(4,"div",5),B(5,Oe,3,10,"div",6,Ae),f()()(),l(7,"div",7)(8,"div",8)(9,"div",9),x(10,"div",10,0),f()()()}e&2&&(y(2),g("innerHTML",i.isPlaying()?i.pauseSvg:i.playSvg,j),W("aria-label",i.isPlaying()?"Pause rotation of slides":"Play rotation of slides"),y(2),g("auUse",i.directives().tabList),y(),G(i.state().slidesData()),y(2),M("opacity-0",!i.isPlaying()))},dependencies:[ie],encapsulation:2,changeDetection:0})}};var Ie={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Me(n,t){let e=n.scrollSnapList();return typeof t=="number"?e.map(()=>t):t(e,n)}function Ve(n,t){let e=n.rootNode();return t&&t(e)||e}function A(n={}){let t,e,i,o,s=null,r=0,p=!1,_=!1,O=!1,b=!1;function pe(a,h){e=a;let{mergeOptions:C,optionsAtMedia:I}=h,we=C(Ie,A.globalOptions),Se=C(we,n);if(t=I(Se),e.scrollSnapList().length<=1)return;b=t.jump,i=!1,o=Me(e,t.delay);let{eventStore:w,ownerDocument:De}=e.internalEngine(),k=!!e.internalEngine().options.watchDrag,H=Ve(e,t.rootNode);w.add(De,"visibilitychange",me),k&&e.on("pointerDown",U),k&&!t.stopOnInteraction&&e.on("pointerUp",z),t.stopOnMouseEnter&&w.add(H,"mouseenter",ge),t.stopOnMouseEnter&&!t.stopOnInteraction&&w.add(H,"mouseleave",fe),t.stopOnFocusIn&&e.on("slideFocusStart",c),t.stopOnFocusIn&&!t.stopOnInteraction&&w.add(e.containerNode(),"focusout",u),t.playOnInit&&u()}function ue(){e.off("pointerDown",U).off("pointerUp",z).off("slideFocusStart",c),c(),i=!0,p=!1}function ce(){let{ownerWindow:a}=e.internalEngine();a.clearTimeout(r),r=a.setTimeout(be,o[e.selectedScrollSnap()]),s=new Date().getTime(),e.emit("autoplay:timerset")}function de(){let{ownerWindow:a}=e.internalEngine();a.clearTimeout(r),r=0,s=null,e.emit("autoplay:timerstopped")}function u(){if(!i){if(F()){O=!0;return}p||e.emit("autoplay:play"),ce(),p=!0}}function c(){i||(p&&e.emit("autoplay:stop"),de(),p=!1)}function me(){if(F())return O=p,c();O&&u()}function F(){let{ownerDocument:a}=e.internalEngine();return a.visibilityState==="hidden"}function U(){_||c()}function z(){_||u()}function ge(){_=!0,c()}function fe(){_=!1,u()}function ye(a){typeof a<"u"&&(b=a),u()}function ve(){p&&c()}function he(){p&&u()}function _e(){return p}function be(){let{index:a}=e.internalEngine(),h=a.clone().add(1).get(),C=e.scrollSnapList().length-1,I=t.stopOnLastSnap&&h===C;if(e.canScrollNext()?e.scrollNext(b):e.scrollTo(0,b),e.emit("autoplay:select"),I)return c();u()}function Ce(){if(!s)return null;let a=o[e.selectedScrollSnap()],h=new Date().getTime()-s;return a-h}return{name:"autoplay",options:n,init:pe,destroy:ue,play:ye,stop:ve,reset:he,isPlaying:_e,timeUntilNext:Ce}}A.globalOptions=void 0;function Le(n,t){if(n&1){let e=N();l(0,"app-autoplay-navigation",3),v("playingChange",function(o){d(e);let s=P();return m(s.isPlaying.set(o))}),f()}if(n&2){let e=t.directives,i=t.state,o=t.api;g("state",i)("api",o)("directives",e)}}function Fe(n,t){if(n&1&&x(0,"img",4),n&2){let e=t.src;X("aspect-ratio",1.8/1),g("src",e,R)}}var L=class n{constructor(){this.photos=[944,1011,984].map(t=>({id:`carousel-autoplay-${t}`,src:`https://picsum.photos/id/${t}/900/500`}));this.plugins=[A({playOnInit:!0,stopOnFocusIn:!0,delay:4e3})];this.isPlaying=S(!0)}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=D({type:n,selectors:[["ng-component"]],decls:3,vars:3,consts:[["auCarousel","","auLoop","",1,"autoplay-carousel",3,"auSlidesData","auPlugins","auAriaLive"],["auCarouselNavigation",""],["auCarouselSlide",""],[3,"playingChange","state","api","directives"],["alt","random picsum",1,"w-100","rounded-5",3,"src"]],template:function(e,i){e&1&&(l(0,"div",0),Q(1,Le,1,3,"ng-template",1)(2,Fe,1,3,"ng-template",2),f()),e&2&&g("auSlidesData",i.photos)("auPlugins",i.plugins)("auAriaLive",i.isPlaying()?"off":"polite")},dependencies:[re,ae,oe,E],styles:[`.autoplay-carousel .au-carousel-slide{flex-basis:85%;margin-right:.5rem}.autoplay-carousel .navigation{position:absolute;top:1rem;left:10%;right:10%;z-index:1;display:flex;justify-content:space-between}.autoplay-carousel .progress-container{position:absolute;bottom:1rem;left:35%;right:35%;z-index:1}.autoplay-carousel .progress-container .progress{height:.75rem}@media(max-width:576px){.au-carousel-slide{flex-basis:100%;margin-right:0}}@media(max-width:576px){.navigation{top:.5rem;left:1rem;right:1rem}}
`],encapsulation:2})}};export{L as default};
