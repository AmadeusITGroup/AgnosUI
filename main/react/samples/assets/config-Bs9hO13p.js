import{r as n,j as m}from"./App-M9-8VOml.js";import{f as W,F as p}from"./stores-DStrda4r.js";import{i as g,w as b,b as d,d as l}from"./dom-CzJpOnsw-BpVpkhUo.js";import{a as x,b as y}from"./stores-BWQ6d_4B-BvwXVh7r.js";const f=(e,t,r=1/0)=>{if(t!==void 0)if(typeof t=="object"&&t&&r>=1){e||(e={});for(const s of Object.keys(t))Object.prototype.hasOwnProperty.call(t,s)&&(s==="__proto__"||s==="constructor"||(e[s]=f(e[s],t[s],r-1)))}else return t;return e},C=(e,t=g)=>{const r=b({}),s=t===g?e:d(()=>t(f({},e?.(),2)));return l(d(()=>f(f({},s?.(),2),r(),2)),{...r,own$:r,adaptedParent$:s,parent$:e})};function v(e,t={},r){const s=n.useMemo(()=>e({...r,props:{...r?.props,...t}}),[]),o=n.useRef(t);return n.useMemo(()=>{const i=W(o.current,t);o.current=t,i&&s.patch(i)},[t]),{state:x(s.stores),api:s.api,directives:s.directives}}const j=(e=n.createContext(void 0))=>{const t=(o,c)=>{const i=n.useContext(e),u=y(c);return n.useMemo(()=>d(()=>({...u(),...o?i?.()[o]:void 0})),[u,o,i])};return{WidgetsConfigContext:e,useWidgetContext:t,useWidget:(o,c,i)=>v(o,c,{config:t(o[p],i)}),WidgetsDefaultConfig:({children:o,adaptParentConfig:c,...i})=>{const u=n.useContext(e),a=n.useMemo(()=>C(u,c),[u,c]);return n.useMemo(()=>a.set(i),[i,a]),m.jsx(e,{value:a,children:o})}}},{useWidget:O}=j();export{O as u,j as w};
