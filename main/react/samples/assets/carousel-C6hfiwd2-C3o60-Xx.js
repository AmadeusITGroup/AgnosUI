import{j as e,r as C}from"./App-DznaVqkl.js";import{c as f}from"./index-DMD6ucC4.js";import{t as m}from"./stores-D2Z0mQG4.js";import{a as l,m as p,r as j,b as N}from"./dom-Bcg9ORcA-M5rAttAR.js";import{e as b}from"./extendWidget-Dodkjqtv.js";import{t as d,a as g}from"./writables-e0tyaQpe-cVeRZSkA.js";import{c as h}from"./widget-D4NOSiJx.js";import{u as S}from"./config-Dupwa_UA.js";import{S as u}from"./slot-fSPgIhDU.js";import{u as i}from"./directive-Ds3K8r_f-BbarE6er.js";const $={className:"",containerClass:"",slideClass:"",slidesData:[],structure:void 0,navigation:void 0,slide:void 0,ariaLive:"polite"},D={className:d,containerClass:d,slideClass:void 0,slidesData:g,structure:void 0,navigation:void 0,slide:void 0,ariaLive:d},P={container:".au-carousel-container"},L=h("carousel",r=>{const s=b(f,$,D,P)(r);return{...s,directives:{...s.directives,root:p(s.directives.root,l(()=>({classNames:{carousel:m},attributes:{class:s.stores.className$}}))),slide:p(s.directives.slide,l(t=>({attributes:{class:N(()=>{const a=s.stores.slideClass$();if(typeof a=="function"){const o=t();return a({id:o.id,index:o.index,active:o.index===s.stores.selectedScrollSnap$()})}else return a})}}))),container:l(()=>({classNames:{"au-carousel-container":m},attributes:{class:s.stores.containerClass$,"aria-atomic":j("false"),"aria-live":s.stores.ariaLive$}}))}}}),y=L,I=({direction:r,scrollPrev:s})=>{const t=r==="rtl"?"carousel-control-next":"carousel-control-prev";return e.jsx("button",{className:t,...i(s),children:e.jsx("span",{className:`${t}-icon`})})},B=({direction:r,scrollNext:s})=>{const t=r==="ltr"?"carousel-control-next":"carousel-control-prev";return e.jsx("button",{className:t,...i(s),children:e.jsx("span",{className:`${t}-icon`})})},F=({index:r,id:s,tabIndicator:t,active:a})=>e.jsx("button",{"data-bs-target":!0,className:a?"active":void 0,...i(t,{index:r,id:s})}),A=({slideData:r,widget:s,index:t})=>e.jsx("div",{...i(s.directives.slide,{id:r.id,index:t}),children:e.jsx(u,{slotContent:s.state.slide,props:{...r,...s}})}),E=({slidesData:r,tabList:s,tabIndicator:t,selectedScrollSnap:a})=>e.jsx("div",{className:"carousel-indicators",...i(s),children:r.map(({id:o},c)=>e.jsx(F,{index:c,tabIndicator:t,id:o,active:a===c},o))}),W=r=>{const{state:{showNavigationArrows:s,showNavigationIndicators:t,canScrollNext:a,canScrollPrev:o,slidesData:c,direction:v,selectedScrollSnap:x},directives:n}=r;return e.jsxs(e.Fragment,{children:[s&&e.jsxs(e.Fragment,{children:[o&&e.jsx(I,{scrollPrev:n.scrollPrev,direction:v}),a&&e.jsx(B,{scrollNext:n.scrollNext,direction:v})]}),t&&e.jsx(E,{slidesData:c,tabList:n.tabList,tabIndicator:n.tabIndicator,selectedScrollSnap:x})]})},T=r=>e.jsxs(e.Fragment,{children:[e.jsx(u,{slotContent:r.state.navigation,props:r}),e.jsx("div",{...i(r.directives.container),children:r.state.slidesData.map((s,t)=>e.jsx(A,{slideData:s,widget:r,index:t},s.id))})]});function K({ref:r,...s}){const t=S(y,s,{structure:T,navigation:W});return C.useImperativeHandle(r,()=>t.api,[t.api]),e.jsx("div",{...i(t.directives.root),children:e.jsx(u,{slotContent:t.state.structure,props:t})})}export{K as C};
