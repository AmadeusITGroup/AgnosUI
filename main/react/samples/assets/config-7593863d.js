import{r,j as a}from"./index-ffc26b19.js";import{f as l,x,a as g,v as m,y,z as j}from"./utils-946c19b8.js";const c=(t,e,i=1/0)=>{if(e!==void 0)if(typeof e=="object"&&e&&i>=1)for(const o of Object.keys(e))t[o]=c(t[o]??{},e[o],i-1);else return e;return t},v=(t,e=x)=>{const i=l({}),o=e===x?t:g(()=>e(c({},t==null?void 0:t(),2)));return m(g(()=>c(c({},o==null?void 0:o(),2),i(),2)),{...i,own$:i,adaptedParent$:o,parent$:t})},b=(t=r.createContext(void 0))=>{const e=(n,f)=>{const s=r.useContext(t),u=y(f);return r.useMemo(()=>g(()=>({...u(),...n?s==null?void 0:s()[n]:void 0})),[s])};return{widgetsConfigContext:t,useWidgetContext:e,useWidgetWithConfig:(n,f,s,u)=>j(n,f,{config:e(s,u)}),WidgetsDefaultConfig:({children:n,adaptParentConfig:f,...s})=>{const u=r.useContext(t);let W=!1;const d=r.useMemo(()=>{const C=v(u,f);return C.set(s),W=!0,C},[u,f]);return r.useEffect(()=>{W||d.set(s)},[s]),a.jsx(t.Provider,{value:d,children:n})}}},{widgetsConfigContext:E,useWidgetContext:R,useWidgetWithConfig:k,WidgetsDefaultConfig:I}=b();export{I as W,k as u};
