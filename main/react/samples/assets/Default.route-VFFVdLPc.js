import{r as i,j as o}from"./App-Z_OzLO2G.js";import{c as k}from"./clsx-B-dksMZM.js";import{u as Z}from"./config-Ba5gJYUu.js";import{u as j,a as _}from"./directive-CEErjM5c-DVieIczM.js";import{S as P,a as A}from"./next-CCRgEG8A.js";import{c as G}from"./index-DhY42o7t.js";import{c as J}from"./dom-gfxqXJpK-DnwY-KAj.js";import"./widget-BP6z-zfB-gtoCYGER.js";import"./stores-CNc_rSPE.js";import"./stores-DZalyTTa-CmJXqD-S.js";import"./writables-CgpOQ4hA-Dj0pCWRn.js";import"./navManager-DPi01Ap_.js";const K={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Q(t,s){const e=t.scrollSnapList();return typeof s=="number"?e.map(()=>s):s(e,t)}function X(t,s){const e=t.rootNode();return s&&s(e)||e}function I(t={}){let s,e,a,d,c=null,g=0,u=!1,p=!1,m=!1,x=!1;function h(l,v){e=l;const{mergeOptions:w,optionsAtMedia:S}=v,$=w(K,I.globalOptions),q=w($,t);if(s=S(q),e.scrollSnapList().length<=1)return;x=s.jump,a=!1,d=Q(e,s.delay);const{eventStore:N,ownerDocument:H}=e.internalEngine(),E=!!e.internalEngine().options.watchDrag,L=X(e,s.rootNode);N.add(H,"visibilitychange",T),E&&e.on("pointerDown",O),E&&!s.stopOnInteraction&&e.on("pointerUp",C),s.stopOnMouseEnter&&N.add(L,"mouseenter",F),s.stopOnMouseEnter&&!s.stopOnInteraction&&N.add(L,"mouseleave",M),s.stopOnFocusIn&&e.on("slideFocusStart",f),s.stopOnFocusIn&&!s.stopOnInteraction&&N.add(e.containerNode(),"focusout",r),s.playOnInit&&r()}function b(){e.off("pointerDown",O).off("pointerUp",C).off("slideFocusStart",f),f(),a=!0,u=!1}function n(){const{ownerWindow:l}=e.internalEngine();l.clearTimeout(g),g=l.setTimeout(U,d[e.selectedScrollSnap()]),c=new Date().getTime(),e.emit("autoplay:timerset")}function y(){const{ownerWindow:l}=e.internalEngine();l.clearTimeout(g),g=0,c=null,e.emit("autoplay:timerstopped")}function r(){if(!a){if(D()){m=!0;return}u||e.emit("autoplay:play"),n(),u=!0}}function f(){a||(u&&e.emit("autoplay:stop"),y(),u=!1)}function T(){if(D())return m=u,f();m&&r()}function D(){const{ownerDocument:l}=e.internalEngine();return l.visibilityState==="hidden"}function O(){p||f()}function C(){p||r()}function F(){p=!0,f()}function M(){p=!1,r()}function z(l){typeof l<"u"&&(x=l),r()}function R(){u&&f()}function W(){u&&r()}function B(){return u}function U(){const{index:l}=e.internalEngine(),v=l.clone().add(1).get(),w=e.scrollSnapList().length-1,S=s.stopOnLastSnap&&v===w;if(e.canScrollNext()?e.scrollNext(x):e.scrollTo(0,x),e.emit("autoplay:select"),S)return f();r()}function V(){if(!c)return null;const l=d[e.selectedScrollSnap()],v=new Date().getTime()-c;return l-v}return{name:"autoplay",options:t,init:h,destroy:b,play:z,stop:R,reset:W,isPlaying:B,timeUntilNext:V}}I.globalOptions=void 0;const Y=t=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",...t},i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"})),ee=t=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",...t},i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})),te=({scrollPrev:t,direction:s})=>o.jsx("button",{className:"btn btn-circle btn-xs",...j(t),children:s==="rtl"?o.jsx(P,{}):o.jsx(A,{})}),se=({scrollNext:t,direction:s})=>o.jsx("button",{className:"btn btn-circle btn-xs",...j(t),children:s==="rtl"?o.jsx(A,{}):o.jsx(P,{})}),oe=({index:t,id:s,tabIndicator:e,selectedScrollSnap:a})=>i.createElement("button",{className:k("btn btn-xs",a===t&&"btn-active"),...j(e,{index:t,id:s}),key:s},t+1),ne=({photo:t,index:s,slideRenderer:e,slideDirective:a})=>o.jsx("div",{..._([J,"basis-full shrink-0 grow-0"],[a,{id:t.id,index:s}]),children:e(t)}),ae=({photos:t,tabIndicator:s,tabList:e,selectedScrollSnap:a})=>o.jsx("div",{className:"flex gap-1",...j(e),children:t.map(({id:d},c)=>o.jsx(oe,{index:c,tabIndicator:s,selectedScrollSnap:a,id:d},d))});function le({autoplay:t,photos:s,slideRenderer:e,...a}){const d=i.useMemo(()=>t?[I({playOnInit:!0,stopOnFocusIn:!0,delay:2e3})]:[],[t]),{state:{showNavigationArrows:c,showNavigationIndicators:g,selectedScrollSnap:u,direction:p},directives:m,api:x}=Z(G,{...a,plugins:d,container:".container"},"carousel"),[h,b]=i.useState(!1);i.useEffect(()=>{t&&b(!0)},[t]);const n=()=>{h?x.plugins().autoplay.stop():x.plugins().autoplay.play(),b(r=>!r)},y=r=>r.preventDefault();return o.jsxs("div",{className:"overflow-hidden relative w-full cursor-grab active:cursor-grabbing ring-primary has-[.au-carousel-slide:focus-visible]:ring-3",...j(m.root),children:[(c||g||t)&&o.jsxs("div",{className:k("absolute top-2 right-2 left-2 z-1 flex",t?"justify-between":"justify-center"),dir:p,children:[t&&o.jsx("div",{className:"flex p-1 px-2 cursor-auto bg-base-100 rounded",onPointerDown:y,children:o.jsx("button",{className:"btn btn-xs btn-square","aria-label":h?"Pause":"Play",onClick:n,children:h?o.jsx(Y,{}):o.jsx(ee,{})})}),(c||g)&&o.jsxs("div",{className:"flex p-1 px-2 gap-1 cursor-auto bg-base-100 rounded-xl",dir:p,onPointerDown:y,children:[c&&o.jsx(te,{scrollPrev:m.scrollPrev,direction:p}),g&&o.jsx(ae,{photos:s,tabIndicator:m.tabIndicator,tabList:m.tabList,selectedScrollSnap:u}),c&&o.jsx(se,{scrollNext:m.scrollNext,direction:p})]})]}),o.jsx("div",{className:"flex container touch-pan-y touch-pinch-zoom","aria-atomic":"false","aria-live":t?"off":"polite",dir:a.direction,children:s.map((r,f)=>o.jsx(ne,{index:f,photo:s[f],slideRenderer:e,slideDirective:m.slide},r.id))})]})}const ie=["https://picsum.photos/600/450.webp?random=1","https://picsum.photos/600/450.webp?random=2","https://picsum.photos/450/600.webp?random=3","https://picsum.photos/600/450.webp?random=4","https://picsum.photos/600/450.webp?random=5","https://picsum.photos/600/450.webp?random=6"].map((t,s)=>({src:t,id:`photo-${s}`,alt:`picsum photo ${s+1} of 6`})),je=()=>{const[t,s]=i.useState(!1),[e,a]=i.useState(!0),[d,c]=i.useState(!0),[g,u]=i.useState(!1),[p,m]=i.useState(!0),x=i.useMemo(()=>t&&p,[p,t]),[h,b]=i.useState(!1);return o.jsx("div",{className:"w-full flex justify-center",children:o.jsxs("div",{className:"max-w-[600px] grow",children:[o.jsx(le,{showNavigationArrows:e,showNavigationIndicators:d,loop:t,autoplay:x,dragFree:g,direction:h?"rtl":"ltr",photos:ie,slideRenderer:({src:n,alt:y})=>o.jsx("img",{src:n,alt:y,loading:"lazy",className:"select-none object-contain aspect-[4/3] w-full"})}),o.jsxs("div",{className:"flex justify-around mt-2",children:[o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsxs("label",{className:"label text-sm md:text-base",children:["Loop",o.jsx("input",{type:"checkbox",className:"toggle toggle-xs md:toggle-sm toggle-primary",checked:t,onChange:n=>s(n.target.checked)})]}),o.jsxs("label",{className:k("label text-sm md:text-base",!t&&"has-[input]:cursor-not-allowed"),children:["Autoplay",o.jsx("input",{type:"checkbox",className:"toggle toggle-xs md:toggle-sm toggle-primary",checked:p,onChange:n=>m(n.target.checked),disabled:!t})]}),o.jsxs("label",{className:"label text-sm md:text-base",children:["Drag free",o.jsx("input",{type:"checkbox",className:"toggle toggle-xs md:toggle-sm toggle-primary",checked:g,onChange:n=>u(n.target.checked)})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsxs("label",{className:"label text-sm md:text-base",children:["Right-to-left",o.jsx("input",{type:"checkbox",className:"toggle toggle-xs md:toggle-sm toggle-primary",checked:h,onChange:n=>b(n.target.checked)})]}),o.jsxs("label",{className:"label text-sm md:text-base",children:["Indicators",o.jsx("input",{type:"checkbox",className:"toggle toggle-xs md:toggle-sm toggle-primary",checked:d,onChange:n=>c(n.target.checked)})]}),o.jsxs("label",{className:"label text-sm md:text-base",children:["Arrows",o.jsx("input",{type:"checkbox",className:"toggle toggle-xs md:toggle-sm toggle-primary",checked:e,onChange:n=>a(n.target.checked)})]})]})]})]})})};export{je as default};
