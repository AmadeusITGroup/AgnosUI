import{r as l,j as e}from"./App-XNADZBio.js";import{c as d}from"./stores-B4F_j8QF.js";import{e as u,c as m}from"./extendWidget-BrL3zyfE.js";import{d as f}from"./directive-GSGkMcBJ.js";import{t as p,h as b}from"./writables-DoU_XYTX-DoV7pQAs.js";import{u as v}from"./config-DQAExDHC.js";import{S as r}from"./slot-DrPnuT9k.js";import{a as g}from"./directive-CX0hxCpP-srOUdzTw.js";const j={autoHide:!0,delay:5e3,slotHeader:void 0},h={autoHide:p,delay:b(0,1/0,{strict:!0})};function H(t){let i;const a=u(m,j,h)(t),s=d(()=>{clearTimeout(i),a.stores.autoHide$()&&(i=setTimeout(()=>a.api.close(),a.stores.delay$()))});return{...a,directives:{...a.directives,autoHideDirective:f(s)}}}const y=H,D=t=>e.jsxs(e.Fragment,{children:[t.state.slotHeader?e.jsxs("div",{className:"toast-header",children:[e.jsx(r,{slotContent:t.state.slotHeader,props:t}),t.state.dismissible?e.jsx("button",{type:"button",className:"btn-close me-0 ms-auto",onClick:t.widget.api.close,"aria-label":t.state.ariaCloseButtonLabel}):null]}):null,e.jsx("div",{className:"toast-body",children:e.jsx(r,{slotContent:t.state.slotDefault,props:t})}),t.state.dismissible&&!t.state.slotHeader?e.jsx("button",{type:"button",className:"btn-close btn-close-white me-2 m-auto",onClick:t.widget.api.close,"aria-label":t.state.ariaCloseButtonLabel}):null]}),T={slotStructure:D},R=l.forwardRef(function(i,a){const[s,o]=v(y,i,"toast",{...T,slotDefault:i.children}),c=g([o.directives.transitionDirective,o.directives.autoHideDirective]);l.useImperativeHandle(a,()=>o.api,[]);const n={state:s,widget:o};return e.jsx(e.Fragment,{children:s.hidden?null:e.jsx("div",{className:`au-toast toast ${s.className} ${s.dismissible?"toast-dismissible":""} ${s.slotHeader?"":"d-flex"}`,role:"alert",ref:c,"aria-atomic":"true",children:e.jsx(r,{slotContent:s.slotStructure,props:n})})})});export{R as T};
