import{b as x,e as h}from"./dom-Bcg9ORcA-WqVLZWvA.js";import{F as b,a as u,b as P,s as W}from"./stores-4lfDy9AV.js";const S=(r,d,m,a)=>{const n=e=>{const c=u(d,e,m),s=e?.config,g=P(s)?x(()=>({...a,...s()})):{...a,...s??{}},o=r({props:e?.props,config:g});return{...o,...W({...o.stores,...c}),patch:l=>h(()=>{let t;for(const[i,p]of Object.entries(l??{})){const f=c[`${i}$`];f?f.set(p):(t||(t={}),t[i]=p)}t&&o.patch(t)})}};return n[b]=r[b],n};export{S as e};
