import{j as f,r as n}from"./index-1ajimV1n.js";import{w as x,i as p,c as W,d as y}from"./func-BRtNsj1u.js";import{u as j}from"./widget-KJpXm58i.js";import{a as h}from"./stores-DAN7hcty.js";const l=new WeakMap,F=e=>s=>f.jsx(f.Fragment,{children:e(s)}),S=e=>{let t=l.get(e);return t||(t=F(e),l.set(e,t)),t},C=e=>e.prototype instanceof n.Component,I=({slotContent:e,props:t})=>{if(typeof e=="function"){const o=C(e)?e:S(e);return f.jsx(o,{...t})}return f.jsx(f.Fragment,{children:e})},a=(e,t,s=1/0)=>{if(t!==void 0)if(typeof t=="object"&&t&&s>=1)for(const o of Object.keys(t))e[o]=a(e[o]??{},t[o],s-1);else return t;return e},b=(e,t=p)=>{const s=x({}),o=t===p?e:W(()=>t(a({},e==null?void 0:e(),2)));return y(W(()=>a(a({},o==null?void 0:o(),2),s(),2)),{...s,own$:s,adaptedParent$:o,parent$:e})},k=(e=n.createContext(void 0))=>{const t=(i,c)=>{const r=n.useContext(e),u=h(c);return n.useMemo(()=>W(()=>({...u(),...i?r==null?void 0:r()[i]:void 0})),[r])};return{widgetsConfigContext:e,useWidgetContext:t,useWidgetWithConfig:(i,c,r,u)=>j(i,c,{config:t(r,u)}),WidgetsDefaultConfig:({children:i,adaptParentConfig:c,...r})=>{const u=n.useContext(e);let g=!1;const m=n.useMemo(()=>{const d=b(u,c);return d.set(r),g=!0,d},[u,c]);return n.useEffect(()=>{g||m.set(r)},[r]),f.jsx(e.Provider,{value:m,children:i})}}},{widgetsConfigContext:v,WidgetsDefaultConfig:w,useWidgetContext:A,useWidgetWithConfig:O}=k();export{I as S,w as W,O as u};
