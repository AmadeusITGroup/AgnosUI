import{j as e,r}from"./App-C75Ycy1E.js";import{a as u,u as g}from"./directive-CEErjM5c-r4XFIH0Z.js";import{c as P,T as N,d as w}from"./toaster-XfzHDqz_-CL36rlXf.js";import{u as T}from"./stores-DZalyTTa-VXYUz85b.js";import{e as A}from"./extendWidget-Dox4Buxj.js";import{f as H}from"./fade-uOobJKgw-CoV6Mc9X.js";import{S as v}from"./slot-C5fjdLuY.js";import{u as y}from"./config-CbOVw_J2.js";import{c as p}from"./dom-gfxqXJpK-DnwY-KAj.js";const E={structure:void 0,children:void 0,header:void 0},L={transition:H},R=A(P,E,{structure:void 0,children:void 0,header:void 0},L),S={topLeft:"top-0 start-0",topCenter:"top-0 start-50 translate-middle-x",topRight:"top-0 end-0",middleLeft:"top-50 start-0 translate-middle-y",middleCenter:"top-50 start-50 translate-middle",middleRight:"top-50 end-0 translate-middle-y",bottomLeft:"bottom-0 start-0",bottomCenter:"bottom-0 start-50 translate-middle-x",bottomRight:"bottom-0 end-0"},$=t=>{const s=r.useMemo(()=>new N(t),[t]),o=T(s.toasts),a=T(s.options),i=r.useCallback(l=>s.addToast(l),[s]),n=s.removeToast,c=s.eventsDirective,d=s.closeAll;return{toasts:o,options:a,addToast:i,removeToast:n,eventsDirective:c,closeAll:d}},b=r.createContext(void 0),B=({options:t,children:s})=>{const o=$(t);return e.jsx(b.Provider,{value:o,children:s})},C=()=>{const t=r.useContext(b);if(!t)throw new Error("useToaster must be used within a ToasterProvider");return t},O=R,_=S,st=w,k=t=>e.jsx("button",{...u([p,"btn-close me-0 ms-auto"],t.directives.closeButtonDirective)}),F=t=>e.jsxs("div",{className:"toast-header",children:[e.jsx(v,{slotContent:t.state.header,props:t}),t.state.dismissible&&e.jsx(k,{...t})]}),W=t=>e.jsx("button",{...u([p,"btn-close btn-close-white me-2 m-auto"],t.directives.closeButtonDirective)}),I=t=>e.jsxs(e.Fragment,{children:[t.state.header&&e.jsx(F,{...t}),e.jsx("div",{className:"toast-body",children:e.jsx(v,{slotContent:t.state.children,props:t})}),t.state.dismissible&&!t.state.header&&e.jsx(W,{...t})]}),M=t=>e.jsx("div",{...u([p,{"toast-dismissible":t.state.dismissible,"d-flex":!t.state.header}],t.directives.transitionDirective,t.directives.autoHideDirective,t.directives.bodyDirective),children:e.jsx(v,{slotContent:t.state.structure,props:t})});function q(t){const s=y(O,t,{structure:I,children:t.children});return r.useImperativeHandle(t.ref,()=>s.api,[s.api]),e.jsx(e.Fragment,{children:!s.state.hidden&&e.jsx(M,{...s})})}const z=({id:t,className:s,visible:o,structure:a,children:i,header:n,dismissible:c,ariaCloseButtonLabel:d,animated:l,animatedOnInit:x,onShown:f,onHidden:h,onVisibleChange:j,transition:D,toaster:m})=>e.jsx("div",{...g(m.eventsDirective,t),children:e.jsx(q,{animated:l,animatedOnInit:x,autoHide:!1,className:s,dismissible:c??m.options.dismissible,ariaCloseButtonLabel:d,structure:a,header:n,onShown:f,onHidden:()=>{m.removeToast(t),h==null||h()},onVisibleChange:j,visible:o,transition:D,children:i})});function G(){const t=J();return e.jsx("div",{className:"au-toaster","aria-live":"polite","aria-atomic":"true",children:e.jsxs("div",{className:`au-toaster-container toast-container ${_[t.options.position]}`,children:[t.options.closeAll&&t.toasts.length>1&&e.jsx("div",{className:"d-flex position-relative align-items-end pb-2",children:e.jsx("button",{className:"au-toaster-closeAll btn btn-secondary me-0 ms-auto pe-auto",onClick:()=>t.closeAll(),children:t.options.closeAllLabel||"Close all"})}),t.toasts.map(({id:s,props:o})=>e.jsx(z,{id:s,...o,toaster:t},s))]})})}const ot=({options:t,children:s})=>e.jsxs(B,{options:t,children:[s,e.jsx(G,{})]}),J=()=>C();export{q as T,ot as a,_ as b,st as e,J as u};
