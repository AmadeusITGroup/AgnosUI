import{r as l,j as t}from"./index-BjtocQEC.js";import{c as d}from"./func-BRtNsj1u.js";import{e as u,c as m}from"./extendWidget-35deThr9.js";import{d as f,g as p}from"./directive-DUa5cKFs.js";import{t as b,h as g}from"./writables-BNxSaSLV.js";import{u as v,S as r}from"./config-1FD0jZZ8.js";const j={autoHide:!0,delay:5e3,slotHeader:void 0},h={autoHide:b,delay:g(0,1/0,{strict:!0})};function H(e){let i;const a=u(m,j,h)(e),s=d(()=>{clearTimeout(i),a.stores.autoHide$()&&(i=setTimeout(()=>a.api.close(),a.stores.delay$()))});return{...a,directives:{...a.directives,autoHideDirective:f(s)}}}const y=H,D=e=>t.jsxs(t.Fragment,{children:[e.state.slotHeader?t.jsxs("div",{className:"toast-header",children:[t.jsx(r,{slotContent:e.state.slotHeader,props:e}),e.state.dismissible?t.jsx("button",{type:"button",className:"btn-close me-0 ms-auto",onClick:e.widget.api.close,"aria-label":e.state.ariaCloseButtonLabel}):null]}):null,t.jsx("div",{className:"toast-body",children:t.jsx(r,{slotContent:e.state.slotDefault,props:e})}),e.state.dismissible&&!e.state.slotHeader?t.jsx("button",{type:"button",className:"btn-close btn-close-white me-2 m-auto",onClick:e.widget.api.close,"aria-label":e.state.ariaCloseButtonLabel}):null]}),T={slotStructure:D},F=l.forwardRef(function(i,a){const[s,o]=v(y,i,"toast",{...T,slotDefault:i.children}),c=p([o.directives.transitionDirective,o.directives.autoHideDirective]);l.useImperativeHandle(a,()=>o.api,[]);const n={state:s,widget:o};return t.jsx(t.Fragment,{children:s.hidden?null:t.jsx("div",{className:`au-toast toast ${s.className} ${s.dismissible?"toast-dismissible":""} ${s.slotHeader?"":"d-flex"}`,role:"alert",ref:c,"aria-atomic":"true",children:t.jsx(r,{slotContent:s.slotStructure,props:n})})})});export{F as T};
