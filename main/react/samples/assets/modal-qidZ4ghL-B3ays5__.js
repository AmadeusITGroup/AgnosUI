import{a as p,j as t,r as d,c as u}from"./App-DroHCvem.js";import{u as f,S as a}from"./config-Co15skZS.js";import{a as l,u as v}from"./directive-Kqp31pwt-DhkfBRbP.js";import{c as j}from"./index-CAv_E4zL.js";import{c as x,m as h,a as g}from"./modal-CeTI4jxI-DOuNjKNU.js";import{f as n}from"./fade-uOobJKgw-BJsoKbPR.js";import{e as k}from"./extendWidget-CY6dlHOY.js";import{t as D}from"./writables-DoU_XYTX-8sqxFTfY.js";import{t as b,c as m}from"./directive-3-8yr-ZK-C5h7Dwqe.js";const w={contentData:void 0,children:void 0,footer:void 0,header:void 0,structure:void 0,title:void 0,fullscreen:!1},M={backdropTransition:n,modalTransition:n},N={fullscreen:D},B=k(x,w,N,M),E=({children:e,container:o})=>o?p.createPortal(e,o):t.jsx(t.Fragment,{children:e}),S=B,G=h,J=g,y=({directive:e})=>t.jsx("button",{className:"btn-close",...v(e)}),P=e=>t.jsxs(t.Fragment,{children:[t.jsx("h5",{className:"modal-title",children:t.jsx(a,{slotContent:e.state.title,props:e})}),e.state.closeButton&&t.jsx(y,{directive:e.widget.directives.closeButtonDirective})]}),C=e=>t.jsxs(t.Fragment,{children:[e.state.title&&t.jsx("div",{className:"modal-header",children:t.jsx(a,{slotContent:e.state.header,props:e})}),t.jsx("div",{className:"modal-body",children:t.jsx(a,{slotContent:e.state.children,props:e})}),e.state.footer&&t.jsx("div",{className:"modal-footer",children:t.jsx(a,{slotContent:e.state.footer,props:e})})]}),W={header:P,structure:C},F=({widget:e})=>t.jsx("div",{...l([m,"modal-backdrop"],e.directives.backdropDirective)}),H=e=>{const{fullscreen:o}=e.state;return t.jsx("div",{...l([m,"modal d-block"],e.widget.directives.modalDirective),children:t.jsx("div",{className:j("modal-dialog",{"modal-fullscreen":o}),children:t.jsx("div",{className:"modal-content",children:t.jsx(a,{slotContent:e.state.structure,props:e})})})})},O=d.forwardRef(function(o,r){const[s,i]=f(S,o,"modal",W);d.useImperativeHandle(r,()=>i.api,[]);const c={state:s,widget:b(i)};return t.jsxs(E,{container:s.container,children:[!s.backdropHidden&&t.jsx(F,{...c}),!s.hidden&&t.jsx(H,{...c})]})});async function K(e){const o=u.createRoot(document.createElement("div"));try{return await(await new Promise(s=>{o.render(t.jsx(O,{...e,ref:s}))})).open()}finally{o.unmount()}}export{O as M,G as a,J as e,K as o};
