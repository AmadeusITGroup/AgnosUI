import{r as f,j as i}from"./index-s1MjPWtx.js";import{c as C}from"./baseTransitions-qZB6aPjf.js";import{n as u,b as S}from"./func-B0ufEirG.js";import{f as w}from"./fade-ESQBTf3v.js";import{w as x,s as p,c as j}from"./stores-2L_2ECz4.js";import{b as D,u as A}from"./directive-tAwtYRpN.js";import{t as y,b as N}from"./writables-F1zbO1B0.js";import{S as b}from"./slot-JKO8-cOS.js";import{u as P}from"./config-xiplRHKw.js";const V={visible:!0,dismissible:!0,ariaCloseButtonLabel:"Close",onVisibleChange:u,onShown:u,onHidden:u,slotStructure:void 0,slotDefault:void 0,animation:!0,animationOnInit:!1,transition:w,className:""},W={dismissible:y};function H(e){const[{transition$:r,animationOnInit$:c,animation$:t,visible$:s,onVisibleChange$:o,onHidden$:d,onShown$:n,...m},a]=x(V,e,W),l=C({props:{transition:r,visible:s,animation:t,animationOnInit:c,onVisibleChange:o,onHidden:d,onShown:n}}),h=()=>{a({visible:!1})},v=()=>{a({visible:!0})},g=l.stores.visible$,$=l.stores.hidden$;return{...p({...m,visible$:g,hidden$:$}),patch:a,api:{open:v,close:h},directives:{transitionDirective:D(l.directives.directive)},actions:{}}}const I=(e,r,c)=>t=>{const s=j(r,t,c),o=e(t);return{...o,...p({...o.stores,...s}),patch:d=>S(()=>{let n;for(const[m,a]of Object.entries(d??{})){const l=s[`${m}$`];l?l.set(a):(n||(n={}),n[m]=a)}n&&o.patch(n)})}},O={type:"primary"},B={type:N},F=I(H,O,B),T=F,E=e=>i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"alert-body",children:i.jsx(b,{slotContent:e.state.slotDefault,props:e})}),e.state.dismissible?i.jsx("button",{type:"button",className:"btn-close",onClick:e.widget.api.close,"aria-label":e.state.ariaCloseButtonLabel}):null]}),L={slotStructure:E},U=f.forwardRef(function(r,c){const[t,s]=P(T,r,"alert",{...L,slotDefault:r.children}),o=A(s.directives.transitionDirective);f.useImperativeHandle(c,()=>s.api,[]);const d={state:t,widget:s};return i.jsx(i.Fragment,{children:t.hidden?null:i.jsx("div",{className:`au-alert alert alert-${t.type} ${t.className} ${t.dismissible?"alert-dismissible":""}`,role:"alert",ref:o,children:i.jsx(b,{slotContent:t.slotStructure,props:d})})})});export{U as A};
