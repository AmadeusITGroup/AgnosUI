import{a as p,j as t,r as d,c as u}from"./App-DI9ur9y5.js";import{S as a}from"./slot-Cdz7cIIo.js";import{a as l,u as f}from"./directive-DNXkB1Wc-C2TCiq2W.js";import{c as v}from"./index-DYzswQoO.js";import{u as j}from"./config-DXsJDUvi.js";import{c as x,m as h,a as g}from"./modal-BEVbQExQ-BbCWoM5B.js";import{f as n}from"./fade-uOobJKgw-DXUe5MOL.js";import{e as k}from"./extendWidget-DCTbm56T.js";import{t as D}from"./writables-DoU_XYTX-DrmWMgh5.js";import{t as b,c as m}from"./directive-CKEccryv-DE_yN9bX.js";const w={contentData:void 0,children:void 0,footer:void 0,header:void 0,structure:void 0,title:void 0,fullscreen:!1},M={backdropTransition:n,modalTransition:n},N={fullscreen:D},B=k(x,w,N,M),E=({children:e,container:o})=>o?p.createPortal(e,o):t.jsx(t.Fragment,{children:e}),S=B,J=h,K=g,y=({directive:e})=>t.jsx("button",{className:"btn-close",...f(e)}),P=e=>t.jsxs(t.Fragment,{children:[t.jsx("h5",{className:"modal-title",children:t.jsx(a,{slotContent:e.state.title,props:e})}),e.state.closeButton&&t.jsx(y,{directive:e.widget.directives.closeButtonDirective})]}),C=e=>t.jsxs(t.Fragment,{children:[e.state.title&&t.jsx("div",{className:"modal-header",children:t.jsx(a,{slotContent:e.state.header,props:e})}),t.jsx("div",{className:"modal-body",children:t.jsx(a,{slotContent:e.state.children,props:e})}),e.state.footer&&t.jsx("div",{className:"modal-footer",children:t.jsx(a,{slotContent:e.state.footer,props:e})})]}),W={header:P,structure:C},F=({widget:e})=>t.jsx("div",{...l([m,"modal-backdrop"],e.directives.backdropDirective)}),H=e=>{const{fullscreen:o}=e.state;return t.jsx("div",{...l([m,"modal d-block"],e.widget.directives.modalDirective),children:t.jsx("div",{className:v("modal-dialog",{"modal-fullscreen":o}),children:t.jsx("div",{className:"modal-content",children:t.jsx(a,{slotContent:e.state.structure,props:e})})})})},O=d.forwardRef(function(o,r){const[s,i]=j(S,o,"modal",W);d.useImperativeHandle(r,()=>i.api,[]);const c={state:s,widget:b(i)};return t.jsxs(E,{container:s.container,children:[!s.backdropHidden&&t.jsx(F,{...c}),!s.hidden&&t.jsx(H,{...c})]})});async function L(e){const o=u.createRoot(document.createElement("div"));try{return await(await new Promise(s=>{o.render(t.jsx(O,{...e,ref:s}))})).open()}finally{o.unmount()}}export{O as M,J as a,K as e,L as o};
