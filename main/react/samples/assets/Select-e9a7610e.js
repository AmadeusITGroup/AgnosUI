import{j as e}from"./index-f82834c6.js";import{h as x,S as u}from"./index-58f6647a.js";import{t as b}from"./types-d19cbc41.js";import{u as j}from"./config-280fe900.js";import{u as d}from"./utils-3d1769dc.js";function w(t){t.preventDefault()}function v(t){return e.jsx(e.Fragment,{children:""+t.itemContext.item})}function I(t){return e.jsx(e.Fragment,{children:""+t.itemContext.item})}function C({slotContext:t}){const o=[],s=t.state;for(const n of t.state.selectedContexts)o.push(e.jsx("div",{className:`au-select-badge me-1 ${s.badgeClassName}`,children:e.jsx(u,{slotContent:s.slotBadgeLabel,props:{...t,itemContext:n}})}));return o.length?e.jsx(e.Fragment,{children:o}):null}function N({slotContext:t}){const{widget:o,state:s}=t,n=s.highlighted;return e.jsx(e.Fragment,{children:s.visibleItems.map(a=>{const{id:r}=a,i=["au-select-item dropdown-item position-relative"];return a===n&&i.push("bg-light"),a.selected&&i.push("selected"),e.jsx("li",{className:i.join(" "),onClick:()=>o.api.toggleItem(a.item),children:e.jsx(u,{slotContent:s.slotItem,props:{...t,itemContext:a}})},r)})})}const D={slotBadgeLabel:v,slotItem:I};function W(t){const[o,s]=j(x,t,"select",D),n={state:o,widget:b(s)},{id:a,ariaLabel:r,visibleItems:i,filterText:m,open:l,className:p,menuClassName:f}=o,{directives:{hasFocusDirective:c}}=s,g=d(c),h=d(c);return e.jsxs("div",{className:`au-select dropdown border border-1 p-1 mb-3 d-block ${p}`,children:[e.jsxs("div",{ref:g,role:"combobox",className:"d-flex align-items-center flex-wrap","aria-haspopup":"listbox","aria-expanded":l,children:[e.jsx(C,{slotContext:n}),e.jsx("input",{id:a,"aria-label":r,className:"au-select-input flex-grow-1 border-0",type:"text",value:m,"aria-autocomplete":"list",autoCorrect:"off",autoCapitalize:"none",autoComplete:"off",onKeyDown:s.actions.onInputKeydown,onInput:s.actions.onInput})]}),l&&i.length>0&&e.jsx("ul",{ref:h,className:`dropdown-menu show ${f}`,"data-popper-placement":"bottom-start","data-bs-popper":"static",onMouseDown:w,children:e.jsx(N,{slotContext:n})})]})}export{W as S};
