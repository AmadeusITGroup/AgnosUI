import{r as a,a as h,b as w}from"./dom-cc7faf10.js";import{e as T}from"./utils-32bfe757.js";import{b as S,c as g}from"./promise-f5ff916a.js";function l(i){return window.getComputedStyle(i).transitionProperty!=="none"}function D(i){const{transitionDelay:s,transitionDuration:t}=window.getComputedStyle(i),c=parseFloat(s),o=parseFloat(t);return(c+o)*1e3}const y=i=>async(s,t,c,o,r)=>{const u=i(s,t,c,r)??T;if(c&&l(s)){const f=S(o,"abort"),p=S(s,"transitionend"),n=g(D(s));await Promise.race([f.promise,p.promise,n.promise]),f.unsubscribe(),p.unsubscribe(),n.unsubscribe()}o.aborted||u()},z=({dimension:i="height",showClasses:s,hideClasses:t,animationPendingClasses:c}={})=>y((o,r,u,f)=>{if(u){let{maxSize:p,minSize:n}=f;p||(a(o,c),a(o,t),h(o,s),p=o.getBoundingClientRect()[i]+"px",f.maxSize=p),n||(a(o,c),a(o,s),h(o,t),n=o.getBoundingClientRect()[i]+"px",f.minSize=n),a(o,s),a(o,t);const b=r==="show"?[n,p]:[p,n];o.style[i]=b[0],w(o),h(o,c),w(o),o.style[i]=b[1]}else a(o,r==="show"?t:s);return()=>{a(o,c),h(o,r==="show"?s:t),o.style[i]=""}}),F={dimension:"height",hideClasses:["collapse"],showClasses:["collapse","show"],animationPendingClasses:["collapsing"]},v={dimension:"width",hideClasses:["collapse","collapse-horizontal"],showClasses:["collapse","collapse-horizontal","show"],animationPendingClasses:["collapsing","collapse-horizontal"]},R=z(F),C=z(v),d=({animationPendingClasses:i,animationPendingShowClasses:s,animationPendingHideClasses:t,showClasses:c,hideClasses:o})=>y((r,u,f,p)=>{if(a(r,c),a(r,o),f){if(a(r,u==="show"?t:s),!p.started){p.started=!0;const n=u==="show"?o:c;h(r,n),w(r),a(r,n)}h(r,i),w(r),h(r,u==="show"?s:t)}return()=>{a(r,i),a(r,s),a(r,t),h(r,u==="show"?c:o)}}),M=d({animationPendingClasses:["fade"],animationPendingShowClasses:["show"],showClasses:["show"],hideClasses:["d-none"]});export{C as a,R as c,M as f};
