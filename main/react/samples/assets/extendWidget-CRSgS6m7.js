import{b as m,q as u}from"./dom-gfxqXJpK-DnwY-KAj.js";import{a as h,b as x,s as P}from"./stores-CNc_rSPE.js";const S=(l,p,f,r)=>t=>{const a=h(p,t,f),e=t==null?void 0:t.config,b=x(e)?m(()=>({...r,...e()})):{...r,...e??{}},o=l({props:t==null?void 0:t.props,config:b});return{...o,...P({...o.stores,...a}),patch:d=>u(()=>{let s;for(const[c,i]of Object.entries(d??{})){const n=a[`${c}$`];n?n.set(i):(s||(s={}),s[c]=i)}s&&o.patch(s)})}};export{S as e};
