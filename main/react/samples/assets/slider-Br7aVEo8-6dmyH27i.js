import{w as Be,h as a,G as Ee,H as U,f as Re,s as Ne,m as k,a as g,n as ke}from"./stores-DX-ADOKq-MSAn3urh.js";import{h as ie,f as ae,j as Se,t as w,a as S,b as ze}from"./writables-DCiBdIBK-0-aBPFP1.js";import{c as Oe}from"./resizeObserver-vEe7vdzc.js";const He=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/;function X(c){var u;const d=(""+c).match(He);return Math.max(0,(((u=d[1])==null?void 0:u.length)??0)-(+d[2]||0))}const Y={min:0,max:100,stepSize:1,readonly:!1,disabled:!1,vertical:!1,className:"",ariaLabel:()=>"Value",ariaLabelledBy:()=>"",ariaValueText:()=>"",onValuesChange:ke,values:[0],showValueLabels:!0,showMinMaxLabels:!0,rtl:!1},Te={min:ae,max:ae,stepSize:Se(0,1/0,{strict:!0}),readonly:w,disabled:w,vertical:w,ariaLabel:S,ariaLabelledBy:S,ariaValueText:S,onValuesChange:S,values:ie,showValueLabels:w,showMinMaxLabels:w,rtl:w,className:ze},Ae=(c,u,d,f,o)=>{const y=Math.pow(10,o);if(c>=d)return d;if(c<=u)return u;const B=Math.floor((c-u)*y/f);return+(((c-u)*y%f<f/2?B:B+1)*f/y+u).toFixed(o)},z=(c,u,d,f)=>{u.update(o=>(o=[...o],o[c]=o[c]+d*f,o))},O=(c,u,d)=>c&&u?d?1:-1:c&&!u?-1:!c&&u?d?-1:1:!c&&!u?-1:1,b=c=>c!=null?`${c}%`:"";function We(c){const[{min$:u,max$:d,stepSize$:f,rtl$:o,values$:y,ariaLabel$:B,ariaLabelledBy$:le,ariaValueText$:ne,onValuesChange$:re,showValueLabels$:H,showMinMaxLabels$:T,...A},se]=Be(Y,c,Te),{vertical$:r,disabled$:V,readonly$:G}=A;let E=-1;const p=a(()=>{const e=u(),t=d();return e===t?Y.min:Math.min(e,t)}),L=a(()=>{const e=u(),t=d();return e===t?Y.max:Math.max(e,t)}),C=a(()=>Math.max(X(f()),X(p()),X(L()))),oe=a(()=>f()*Math.pow(10,C())),m=Ee(y,re,e=>{const t=p(),i=L(),n=oe(),l=C();return e.map(s=>Ae(s,t,i,n,l))},ie.equal),{directive:ce,element$:ue}=U(),{directive:de,element$:me}=U(),{directive:be,element$:fe}=U(),{directive:he,dimensions$:j}=Oe(),x=Re({}),R=a(()=>{var e;return j(),x(),((e=ue())==null?void 0:e.getBoundingClientRect())??{}},{equal:Object.is}),pe=a(()=>{var e;return j(),x(),((e=me())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),ve=a(()=>{var e;return j(),x(),((e=fe())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),ge=a(()=>r()?R().top:R().left),q=a(()=>r()?R().height:R().width),J=a(()=>[...m()].sort((e,t)=>e-t)),Le=a(()=>m().map((e,t)=>({id:t,value:e})).sort((e,t)=>e.value-t.value)),De=a(()=>{const e=B(),t=ne(),i=le();return Le().map((n,l)=>({...n,ariaLabel:i(l)?void 0:e(l),ariaLabelledBy:i(l)||void 0,ariaValueText:t(n.value,l)||void 0}))}),$=a(()=>m().map(e=>I(e))),F=a(()=>[...$()].sort((e,t)=>e-t)),$e=a(()=>pe().width/q()*100),we=a(()=>ve().width/q()*100),K=a(()=>{if(T()){if(!H())return!0}else return!1;const e=$e();return o()?!$().some(t=>100-t>100-e-1):!$().some(t=>t<e+1)}),Q=a(()=>{if(T()){if(!H())return!0}else return!1;const e=we();return o()?!$().some(t=>100-t<e+1):!$().some(t=>t>100-e-1)}),ye=a(()=>{const e=m();return e.length==2&&Math.abs(e[0]-e[1])*100/(L()-p())<10}),M=a(()=>!V()&&!G()),Z=a(()=>{const e=F(),t=(e[0]+e[1])/2;return r()||e.length!=2?0:o()?100-t:t}),ee=a(()=>{const e=F(),t=100-(e[0]+e[1])/2;return r()&&e.length==2?o()?100-t:t:0}),P=a(()=>{const e=r(),t=o();return $().map(i=>({left:t?e?null:100-i:e?null:i,top:t?e?i:null:e?100-i:null}))}),Ve=a(()=>{const e=r(),t=F(),i=o();return t.length===1?[{left:e||i?null:0,right:e?null:i?0:null,bottom:e?i?null:0:null,top:e&&i?0:null,width:e?100:t[0],height:e?t[0]:100,id:0}]:t.map((n,l,s)=>({left:e||i?null:n,right:e?null:i?s[l]:null,bottom:e?i?null:n:null,top:e&&i?s[l]:null,width:e?100:l===s.length-1?n:s[l+1]-n,height:e?l===s.length-1?n:s[l+1]-n:100,id:l})).slice(0,t.length-1)}),I=e=>{const t=p();return(e-t)*100/(L()-t)},xe=e=>{const t=m();if(t.length===1)return 0;const i=J(),n=i.find(D=>I(D)>e*100),l=n?i.indexOf(n):i.length-1,s=I(i[l-1]+(i[l]-i[l-1])/2),_=i[e*100<=s?l-1:l];return t.indexOf(_)},W=(e,t)=>{if(M()){const i=q(),n=ge();let l=r()?(i-e+n)/i:(e-n)/i;l=o()?1-l:l;const s=t??xe(l),_=l*(L()-p())+p();m.update(D=>(D=[...D],D[s]=_,D))}},h=a(()=>!r()),Me=g(()=>({attributes:{"aria-disabled":a(()=>V()?"true":void 0),class:A.className$},classNames:{"au-slider":!0,"au-slider-vertical":r,"au-slider-horizontal":h,disabled:V}})),Pe=g(()=>({classNames:{"au-slider-label-vertical":r,"au-slider-label-vertical-min":r,"au-slider-label":h,"au-slider-label-min":h,"au-slider-rtl":o,invisible:a(()=>!K())}})),_e=g(()=>({classNames:{"au-slider-label-vertical":r,"au-slider-label-vertical-max":r,"au-slider-label":h,"au-slider-label-max":h,"au-slider-rtl":o,invisible:a(()=>!Q())}})),te=g(e=>({events:{keydown:t=>{const i=e().item.id,{key:n}=t,l=o(),s=f(),_=p(),D=L(),N=r();if(M()){switch(n){case"ArrowDown":z(i,m,s,O(N,l,!0));break;case"ArrowLeft":z(i,m,s,O(N,l,!1));break;case"ArrowUp":z(i,m,s,-1*O(N,l,!0));break;case"ArrowRight":z(i,m,s,-1*O(N,l,!1));break;case"Home":m.update(v=>(v=[...v],v[i]=_,v));break;case"End":m.update(v=>(v=[...v],v[i]=D,v));break;case"PageUp":break;case"PageDown":break;default:return}t.preventDefault()}},mousedown:t=>{t.preventDefault();const i=t.target,n=l=>{l.preventDefault();const s=r()?l.clientY:l.clientX;i.focus(),E!==s&&(E=s,W(s,e().item.id))};M()&&(x.set({}),i.focus(),document.addEventListener("mousemove",n),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",n)},{once:!0}))},touchstart:t=>{t.preventDefault();const i=n=>{n.preventDefault();const l=r()?n.touches[0].clientY:n.touches[0].clientX;t.target.focus(),E!==l&&(E=l,W(l,e().item.id))};M()&&(x.set({}),t.target.focus(),document.addEventListener("touchmove",i,{passive:!1}),document.addEventListener("touchend",()=>{document.removeEventListener("touchmove",i),document.removeEventListener("touchcancel",i)},{once:!0}),document.addEventListener("touchcancel",()=>{document.removeEventListener("touchmove",i),document.removeEventListener("touchend",i)},{once:!0}))}}}));return{...Ne({min$:p,max$:L,stepSize$:f,values$:m,sortedValues$:J,sortedHandles$:De,minValueLabelDisplay$:K,maxValueLabelDisplay$:Q,combinedLabelDisplay$:ye,interactive$:M,combinedLabelPositionLeft$:Z,combinedLabelPositionTop$:ee,progressDisplayOptions$:Ve,handleDisplayOptions$:P,showValueLabels$:H,showMinMaxLabels$:T,rtl$:o,...A}),patch:se,api:{},directives:{sliderDirective:k(ce,he,Me),progressDisplayDirective:g(e=>({styles:{left:a(()=>b(e().option.left)),right:a(()=>b(e().option.right)),top:a(()=>b(e().option.top)),bottom:a(()=>b(e().option.bottom)),width:a(()=>b(e().option.width)),height:a(()=>b(e().option.height))},classNames:{"au-slider-progress":!0}})),clickableAreaDirective:g(()=>({events:{click:e=>{W(r()?e.clientY:e.clientX)}},classNames:{"au-slider-clickable-area":h,"au-slider-clickable-area-vertical":r}})),handleEventsDirective:te,handleDirective:k(te,g(e=>({attributes:{role:"slider","aria-valuemin":p,"aria-valuemax":L,"aria-valuenow":a(()=>e().item.value),"aria-valuetext":a(()=>e().item.ariaValueText),"aria-label":a(()=>e().item.ariaLabel),"aria-labelledBy":a(()=>e().item.ariaLabelledBy),"aria-orientation":a(()=>r()?"vertical":void 0),"aria-disabled":a(()=>V()?"true":void 0),disabled:V,"aria-readonly":a(()=>G()?"true":void 0)},styles:{left:a(()=>b(P()[e().item.id].left)),top:a(()=>b(P()[e().item.id].top))},classNames:{"au-slider-handle":!0,"au-slider-handle-vertical":r,"au-slider-handle-horizontal":h}}))),minLabelDirective:k(de,Pe),maxLabelDirective:k(be,_e),combinedHandleLabelDisplayDirective:g(()=>({classNames:{"au-slider-label-vertical":r,"au-slider-label-vertical-now":r,"au-slider-label":h,"au-slider-label-now":h},styles:{left:a(()=>b(Z())),top:a(()=>b(ee()))}})),handleLabelDisplayDirective:g(e=>({classNames:{"au-slider-label-vertical":r,"au-slider-label-vertical-now":r,"au-slider-label":h,"au-slider-label-now":h},styles:{left:a(()=>b(P()[e().index].left)),top:a(()=>b(P()[e().index].top))}}))}}}export{We as c};
