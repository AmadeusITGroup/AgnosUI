import{b as a,B as U,C as nt,w as ye,m as M,a as p,r as y,e as lt,n as rt}from"./dom-BhJG5nY--CcHiBM3Q.js";import{w as ot,d as ct,t as x,s as ut}from"./stores-BiJoFc-J.js";import{t as dt,b as w,k as ke,a as ze,c as W,f as Ve}from"./writables-e0tyaQpe-DZY09TAT.js";import{c as mt}from"./resizeObserver-tje57SMe.js";import{c as bt}from"./widget-CAsIEu7I.js";const ht=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/;function le(c){const u=(""+c).match(ht);return Math.max(0,(u[1]?.length??0)-(+u[2]||0))}const re={min:0,max:100,stepSize:1,readonly:!1,disabled:!1,vertical:!1,className:"",ariaLabel:()=>"Value",ariaLabelledBy:()=>"",ariaValueText:()=>"",onValuesChange:rt,values:[0],showValueLabels:!0,showMinMaxLabels:!0,showTicks:!1,showTickValues:!0,tickInterval:0,rtl:!1},vt={min:Ve,max:Ve,stepSize:ke(0,1/0,{strict:!0}),readonly:w,disabled:w,vertical:w,ariaLabel:W,ariaLabelledBy:W,ariaValueText:W,onValuesChange:W,values:ze,showValueLabels:w,showMinMaxLabels:w,showTicks:w,showTickValues:w,tickInterval:ke(0,1/0,{strict:!0}),rtl:w,className:dt},Se=(c,u,f,b,o)=>{const B=Math.pow(10,o);if(c>=f)return f;if(c<=u)return u;const O=Math.floor((c-u)*B/b);return+(((c-u)*B%b<b/2?O:O+1)*b/B+u).toFixed(o)},G=(c,u,f,b)=>{u.update(o=>(o=[...o],o[c]=o[c]+f*b,o))},J=(c,u,f)=>c&&u?f?1:-1:c&&!u?-1:!c&&u?f?-1:1:!c&&!u?-1:1,d=c=>c!=null?`${c}%`:"",$t=bt("slider",c=>{const[{min$:u,max$:f,stepSize$:b,rtl$:o,values$:B,ariaLabel$:O,ariaLabelledBy$:Pe,ariaValueText$:Me,onValuesChange$:xe,showValueLabels$:K,showMinMaxLabels$:Q,showTicks$:k,showTickValues$:H,tickInterval$:oe,...A},Be]=ot(re,c,vt),{vertical$:l,disabled$:R,readonly$:ce}=A;let j=-1;const I=new Map,L=a(()=>{const e=u(),t=f();return e===t?re.min:Math.min(e,t)}),g=a(()=>{const e=u(),t=f();return e===t?re.max:Math.max(e,t)}),Z=a(()=>Math.max(le(b()),le(L()),le(g()))),ue=a(()=>b()*Math.pow(10,Z())),h=ct(B,xe,e=>{const t=L(),i=g(),s=ue(),n=Z();return e.map(r=>Se(r,t,i,s,n))},ze.equal),{directive:Re,element$:Te}=U(),{directive:Ne,element$:Ee}=U(),{directive:_e,element$:Oe}=U(),{directive:He,element$:de}=U(),{directive:Ae,elements$:je}=nt(),{directive:Ie,dimensions$:q}=mt(),V=ye({}),ee=a(()=>(q(),V(),je().map(e=>e.getBoundingClientRect())),{equal:Object.is}),C=a(()=>(q(),V(),Te()?.getBoundingClientRect()??{}),{equal:Object.is}),qe=a(()=>(q(),V(),Ee()?.getBoundingClientRect()??{}),{equal:(e,t)=>Object.is(e,t)}),Ce=a(()=>(q(),V(),Oe()?.getBoundingClientRect()??{}),{equal:(e,t)=>Object.is(e,t)}),Fe=a(()=>l()?C().top:C().left),me=a(()=>l()?C().height:C().width),F=a(()=>[...h()].sort((e,t)=>e-t)),Xe=a(()=>h().map((e,t)=>({id:t,value:e})).sort((e,t)=>e.value-t.value)),Ye=a(()=>{const e=O(),t=Me(),i=Pe();return Xe().map((s,n)=>({...s,ariaLabel:i(n)?void 0:e(n),ariaLabelledBy:i(n)||void 0,ariaValueText:t(s.value,n)||void 0}))}),be=a(()=>h().map(e=>Y(e))),S=a(()=>[...be()].sort((e,t)=>e-t)),Ue=a(()=>{const e=qe();return X(l()?e.height:e.width)}),We=a(()=>{const e=Ce();return X(l()?e.height:e.width)}),Ge=a(()=>K()&&(!k()||!H())),X=e=>e?e/me()*100:0,he=a(()=>X(l()?de()?.getBoundingClientRect().height:de()?.getBoundingClientRect().width)),ve=a(()=>l()?ae():ie()),T=e=>X(l()?ee()[e]?.height:ee()[e]?.width),pe=a(()=>{if(!Q()||k()&&H())return!1;if(!K())return!0;const e=Ue(),t=l(),i=o();if(te()){const n=he(),r=ve();return i&&!t||t&&!i?r+n/2<100-e-1:r-n/2>e+1}const s=S();return i?s[0]-T(s.length-1)/2>e+1:s[0]-T(0)/2>e+1}),fe=a(()=>{if(!Q()||k()&&H())return!1;if(!K())return!0;const e=We(),t=l(),i=o();if(te()){const n=he(),r=ve();return i&&!t||t&&!i?r-n/2>e+1:r+n/2<100-e-1}const s=S();return i?100-s[s.length-1]-T(0)/2>e+1:s[s.length-1]+T(s.length-1)/2<100-e-1}),Le=ye([]),te=a(()=>{const e=S();ee().length===e.length&&Le.set(e.map((D,$)=>T($)/2));const t=Le(),i=t?.[0]??0,s=t?.[1]??0,n=Math.max(i,s),r=n!==50?n*2+2:15;return e.length==2&&e[1]-s-e[0]+i<r}),N=a(()=>!R()&&!ce()),ie=a(()=>{const e=S(),t=(e[0]+e[1])/2;return l()||e.length!=2?0:o()?100-t:t}),ae=a(()=>{const e=S(),t=100-(e[0]+e[1])/2;return l()&&e.length==2?o()?100-t:t:0}),E=a(()=>{const e=l(),t=o();return be().map(i=>({left:t?e?null:100-i:e?null:i,top:t?e?i:null:e?100-i:null}))}),Je=a(()=>{const e=l(),t=S(),i=o();return t.length===1?[{left:e||i?null:0,right:e?null:i?0:null,bottom:e?i?null:0:null,top:e&&i?0:null,width:e?100:t[0],height:e?t[0]:100,id:0}]:t.map((s,n,r)=>({left:e||i?null:s,right:e?null:i?r[n]:null,bottom:e?i?null:s:null,top:e&&i?r[n]:null,width:e?100:n===r.length-1?s:r[n+1]-s,height:e?n===r.length-1?s:r[n+1]-s:100,id:n})).slice(0,t.length-1)}),Ke=a(()=>{if(!k())return[];const e=l(),t=L(),i=g(),s=o(),n=H(),r=oe()||b(),D=[],$=ue(),z=Z(),v=P=>!!s!=!!e?100-P:P;for(let P=t;P<i;P+=r){const $e=Se(P,t,i,$,z),st=Y($e);D.push({position:v(st),selected:!1,value:$e,displayLabel:n})}return D.push({position:v(100),selected:!1,value:i,displayLabel:n}),D}),Qe=a(()=>{const e=F(),t=i=>{const s=e.length>1,n=s?e[e.length-1]:e[0],r=s?e[0]:0;return i<=n&&i>=r};return Ke().map(i=>({...i,selected:t(i.value)}))}),Y=e=>{const t=L(),i=g();return(e-t)*100/(i-t)},se=e=>{const t=h();if(t.length===1)return 0;const i=F(),s=i.find($=>Y($)>e*100),n=s?i.indexOf(s):i.length-1,r=Y(i[n-1]+(i[n]-i[n-1])/2),D=i[e*100<=r?n-1:n];return t.indexOf(D)},ne=e=>{const t=me(),i=Fe();let s=l()?(t-e+i)/t:(e-i)/t;return s=o()?1-s:s,s},_=(e,t)=>{if(N()){const i=ne(e),s=t??se(i),n=i*(g()-L())+L();h.update(r=>(r=[...r],r[s]=n,r))}},m=a(()=>!l()),Ze=p(()=>({classNames:{"au-slider":x,"au-slider-vertical":l,"au-slider-horizontal":m},attributes:{class:A.className$}})),et=p(()=>({attributes:{"aria-disabled":a(()=>R()?"true":void 0),class:A.className$},classNames:{"au-slider-content":x,"au-slider-vertical":l,"au-slider-horizontal":m,disabled:R}})),tt=p(()=>({classNames:{"au-slider-label-vertical":l,"au-slider-label-vertical-min":l,"au-slider-label":m,"au-slider-label-min":m,"au-slider-rtl":o,invisible:a(()=>!pe())},attributes:{"aria-hidden":y("true")}})),it=p(()=>({classNames:{"au-slider-label-vertical":l,"au-slider-label-vertical-max":l,"au-slider-label":m,"au-slider-label-max":m,"au-slider-rtl":o,invisible:a(()=>!fe())},attributes:{"aria-hidden":y("true")}})),at=lt((e,t)=>{const i=()=>{I.delete(t.item.id)},s=n=>{I.set(n.item.id,e)};return s(t),{update:s,destroy:i}}),ge=(e,t)=>{e.preventDefault();const i=t!==void 0?I.get(t):e.target,s=n=>{n.preventDefault();const r=l()?n.clientY:n.clientX;i?.focus(),j!==r&&(j=r,_(r,t))};N()&&(V.set({}),i?.focus(),document.addEventListener("mousemove",s),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",s)},{once:!0}))},De=(e,t)=>{const i=t!==void 0?I.get(t):e.target,s=n=>{n.preventDefault();const r=l()?n.touches[0].clientY:n.touches[0].clientX;i?.focus(),j!==r&&(j=r,_(r,t))};N()&&(V.set({}),i?.focus(),document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("touchend",()=>{document.removeEventListener("touchmove",s),document.removeEventListener("touchcancel",s)},{once:!0}),document.addEventListener("touchcancel",()=>{document.removeEventListener("touchmove",s),document.removeEventListener("touchend",s)},{once:!0}))},we=p(e=>({events:{keydown:t=>{const i=e().item.id,{key:s}=t,n=o(),r=b(),D=L(),$=g(),z=l();if(N()){switch(s){case"ArrowDown":G(i,h,r,J(z,n,!0));break;case"ArrowLeft":G(i,h,r,J(z,n,!1));break;case"ArrowUp":G(i,h,r,-1*J(z,n,!0));break;case"ArrowRight":G(i,h,r,-1*J(z,n,!1));break;case"Home":h.update(v=>(v=[...v],v[i]=D,v));break;case"End":h.update(v=>(v=[...v],v[i]=$,v));break;case"PageUp":break;case"PageDown":break;default:return}t.preventDefault()}},mousedown:t=>{t.button===0&&ge(t,e().item.id)},touchstart:t=>{De(t,e().item.id)}}}));return{...ut({min$:L,max$:g,stepSize$:b,values$:h,sortedValues$:F,sortedHandles$:Ye,minValueLabelDisplay$:pe,maxValueLabelDisplay$:fe,combinedLabelDisplay$:te,interactive$:N,combinedLabelPositionLeft$:ie,combinedLabelPositionTop$:ae,progressDisplayOptions$:Je,handleDisplayOptions$:E,showValueLabels$:Ge,showMinMaxLabels$:Q,showTicks$:k,rtl$:o,ticks$:Qe,...A}),patch:Be,api:{},directives:{sliderDirective:M(Re,Ie,et),containerDirective:Ze,progressDisplayDirective:p(e=>({styles:{left:a(()=>d(e().option.left)),right:a(()=>d(e().option.right)),top:a(()=>d(e().option.top)),bottom:a(()=>d(e().option.bottom)),width:a(()=>d(e().option.width)),height:a(()=>d(e().option.height))},classNames:{"au-slider-progress":x}})),clickableAreaDirective:p(()=>({events:{mousedown:e=>{if(e.button!==0)return;const t=l()?e.clientY:e.clientX,i=se(ne(t));_(t,i),ge(e,i)},touchstart:e=>{const t=l()?e.touches[0].clientY:e.touches[0].clientX,i=se(ne(t));_(t,i),De(e,i)}},classNames:{"au-slider-clickable-area":m,"au-slider-clickable-area-vertical":l,"au-slider-clickable-area-with-ticks":a(()=>k()&&oe()===0)}})),handleEventsDirective:we,handleDirective:M(at,we,p(e=>({attributes:{role:y("slider"),"aria-valuemin":L,"aria-valuemax":g,"aria-valuenow":a(()=>e().item.value),"aria-valuetext":a(()=>e().item.ariaValueText),"aria-label":a(()=>e().item.ariaLabel),"aria-labelledBy":a(()=>e().item.ariaLabelledBy),"aria-orientation":a(()=>l()?"vertical":void 0),"aria-disabled":a(()=>R()?"true":void 0),disabled:R,"aria-readonly":a(()=>ce()?"true":void 0)},styles:{left:a(()=>d(E()[e().item.id].left)),top:a(()=>d(E()[e().item.id].top))},classNames:{"au-slider-handle":x,"au-slider-handle-vertical":l,"au-slider-handle-horizontal":m}}))),minLabelDirective:M(Ne,tt),maxLabelDirective:M(_e,it),combinedHandleLabelDisplayDirective:M(He,p(()=>({classNames:{"au-slider-label-vertical":l,"au-slider-label-vertical-now":l,"au-slider-label":m,"au-slider-label-now":m},styles:{left:a(()=>d(ie())),top:a(()=>d(ae()))},attributes:{"aria-hidden":y("true")}}))),handleLabelDisplayDirective:M(Ae,p(e=>({classNames:{"au-slider-label-vertical":l,"au-slider-label-vertical-now":l,"au-slider-label":m,"au-slider-label-now":m},styles:{left:a(()=>d(E()[e().index].left)),top:a(()=>d(E()[e().index].top))},attributes:{"aria-hidden":y("true")}}))),tickDirective:p(e=>({classNames:{"au-slider-tick":x,"au-slider-tick-horizontal":m,"au-slider-tick-vertical":l},styles:{left:a(()=>l()?null:d(e().tick.position)),top:a(()=>l()?d(e().tick.position):null)},events:{click:t=>{_(l()?t.clientY:t.clientX)}},attributes:{"aria-hidden":y("true")}})),tickLabelDirective:p(e=>({classNames:{"au-slider-tick-label":x,"au-slider-tick-label-vertical":l,"au-slider-tick-label-now":a(()=>F().some(t=>t===e().tick.value))},styles:{left:a(()=>l()?null:d(e().tick.position)),top:a(()=>l()?d(e().tick.position):null)},attributes:{"aria-hidden":y("true")}}))}}});export{$t as c};
