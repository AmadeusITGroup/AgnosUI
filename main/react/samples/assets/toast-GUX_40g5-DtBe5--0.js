import{r as l,j as e}from"./App-XNADZBio.js";import{u as f,S as n}from"./config-CU1Tiraw.js";import{a as p,u as v}from"./directive-_62WM8Ul-DhygzKo7.js";import{c}from"./stores-CbKlqneq.js";import{e as u}from"./extendWidget-DH6bFaPr.js";import{d as b,c as d}from"./directive-DpAaJgAE-dbIg0imW.js";import{t as D,h as g}from"./writables-DoU_XYTX-dxvvE_8w.js";import{c as j}from"./common-DHmYrg1A-D_z4bs1J.js";import{f as h}from"./fade-uOobJKgw-BzWpDnkF.js";const x={autoHide:!0,delay:5e3},y={autoHide:D,delay:g(0,1/0,{strict:!0})};function H(t){let o;const s=u(j,x,y)(t),i=c(()=>{clearTimeout(o),s.stores.autoHide$()&&(o=setTimeout(()=>s.api.close(),s.stores.delay$()))}),a=d(()=>({attributes:{role:"alert","aria-atomic":"true",class:c(()=>s.stores.className$())},classNames:{"au-toast":!0,toast:!0}})),r=d(()=>({attributes:{type:"button","aria-label":c(()=>s.stores.ariaCloseButtonLabel$())},events:{click:s.api.close}}));return{...s,directives:{...s.directives,autoHideDirective:b(i),bodyDirective:a,closeButtonDirective:r}}}const T={slotStructure:void 0,slotDefault:void 0,slotHeader:void 0},$={transition:h},N=u(H,T,{},$),S=N,B=t=>{const o=v(t.widget.directives.closeButtonDirective);return e.jsxs(e.Fragment,{children:[t.state.slotHeader&&e.jsxs("div",{className:"toast-header",children:[e.jsx(n,{slotContent:t.state.slotHeader,props:t}),t.state.dismissible&&e.jsx("button",{className:"btn-close me-0 ms-auto",...o})]}),e.jsx("div",{className:"toast-body",children:e.jsx(n,{slotContent:t.state.slotDefault,props:t})}),t.state.dismissible&&!t.state.slotHeader&&e.jsx("button",{className:"btn-close btn-close-white me-2 m-auto",...o})]})},w={slotStructure:B},L=l.forwardRef(function(o,s){const[i,a]=f(S,o,"toast",{...w,slotDefault:o.children}),r=p([a.directives.transitionDirective,a.directives.autoHideDirective,a.directives.bodyDirective]);l.useImperativeHandle(s,()=>a.api,[]);const m={state:i,widget:a};return e.jsx(e.Fragment,{children:!i.hidden&&e.jsx("div",{className:`toast ${i.dismissible?"toast-dismissible":""} ${i.slotHeader?"":"d-flex"}`,...r,children:e.jsx(n,{slotContent:i.slotStructure,props:m})})})});export{L as T};
