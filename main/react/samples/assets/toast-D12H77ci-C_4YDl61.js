import{r as n,j as e}from"./App-XNADZBio.js";import{u as f,S as d}from"./config-CU1Tiraw.js";import{a as v,u as l}from"./directive-_62WM8Ul-DhygzKo7.js";import{c}from"./stores-CbKlqneq.js";import{e as m}from"./extendWidget-DH6bFaPr.js";import{d as p,c as u}from"./directive-DpAaJgAE-dbIg0imW.js";import{t as b,h as g}from"./writables-DoU_XYTX-dxvvE_8w.js";import{c as D}from"./common-DHmYrg1A-D_z4bs1J.js";import{f as j}from"./fade-uOobJKgw-BzWpDnkF.js";const H={autoHide:!0,delay:5e3},T={autoHide:b,delay:g(0,1/0,{strict:!0})};function h(t){let i;const s=m(D,H,T)(t),a=c(()=>{clearTimeout(i),s.stores.autoHide$()&&(i=setTimeout(()=>s.api.close(),s.stores.delay$()))}),r=u(()=>({attributes:{role:"alert","aria-atomic":"true",class:c(()=>s.stores.className$())},classNames:{"au-toast":!0,toast:!0}})),o=u(()=>({attributes:{type:"button","aria-label":c(()=>s.stores.ariaCloseButtonLabel$())},events:{click:s.api.close}}));return{...s,directives:{...s.directives,autoHideDirective:p(a),bodyDirective:r,closeButtonDirective:o}}}const y={slotStructure:void 0,slotDefault:void 0,slotHeader:void 0},N={transition:j},$=m(h,y,{},N),w=$,S=t=>e.jsxs("div",{className:"toast-header",children:[e.jsx(d,{slotContent:t.state.slotHeader,props:t}),t.state.dismissible&&e.jsx("button",{className:"btn-close me-0 ms-auto",...l(t.widget.directives.closeButtonDirective)})]}),x=t=>e.jsx("button",{className:"btn-close btn-close-white me-2 m-auto",...l(t.widget.directives.closeButtonDirective)}),B=t=>e.jsxs(e.Fragment,{children:[t.state.slotHeader&&e.jsx(S,{...t}),e.jsx("div",{className:"toast-body",children:e.jsx(d,{slotContent:t.state.slotDefault,props:t})}),t.state.dismissible&&!t.state.slotHeader&&e.jsx(x,{...t})]}),E={slotStructure:B},A=t=>e.jsx("div",{className:`toast ${t.state.dismissible?"toast-dismissible":""} ${t.state.slotHeader?"":"d-flex"}`,...v([t.widget.directives.transitionDirective,t.widget.directives.autoHideDirective,t.widget.directives.bodyDirective]),children:e.jsx(d,{slotContent:t.state.slotStructure,props:t})}),_=n.forwardRef(function(i,s){const[a,r]=f(w,i,"toast",{...E,slotDefault:i.children});n.useImperativeHandle(s,()=>r.api,[]);const o={state:a,widget:r};return e.jsx(e.Fragment,{children:!a.hidden&&e.jsx(A,{...o})})});export{_ as T};
