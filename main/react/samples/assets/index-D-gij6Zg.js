import{w as xe,c as a,o as Pe,a as ke,s as Se,b as _e}from"./stores-B4F_j8QF.js";import{e as q,m as F,k as g}from"./directive-GSGkMcBJ.js";import{g as ee,e as I,h as Re,t as w,a as W}from"./writables-DoU_XYTX-DoV7pQAs.js";import{c as Ee}from"./resizeObserver-CD0IU7t2.js";const Ne=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/;function U(n){var c;const d=(""+n).match(Ne);return Math.max(0,(((c=d[1])==null?void 0:c.length)??0)-(+d[2]||0))}const X={min:0,max:100,stepSize:1,readonly:!1,disabled:!1,vertical:!1,className:"",ariaLabelHandle:n=>""+n,ariaValueText:n=>""+n,onValuesChange:_e,values:[0],showValueLabels:!0,showMinMaxLabels:!0,rtl:!1,slotStructure:void 0,slotLabel:({value:n})=>""+n,slotHandle:void 0},ze={min:I,max:I,stepSize:Re(0,1/0,{strict:!0}),readonly:w,disabled:w,vertical:w,ariaLabelHandle:W,ariaValueText:W,onValuesChange:W,values:ee,showValueLabels:w,showMinMaxLabels:w,rtl:w},He=(n,c,d,b,o)=>{const $=Math.pow(10,o);if(n>=d)return d;if(n<=c)return c;const S=Math.floor((n-c)*$/b);return+(((n-c)*$%b<b/2?S:S+1)*b/$+c).toFixed(o)},E=(n,c,d,b)=>{c.update(o=>(o=[...o],o[n]=o[n]+d*b,o))},N=(n,c,d)=>n&&c?d?1:-1:n&&!c?-1:!n&&c?d?-1:1:!n&&!c?-1:1;function Oe(n){const[{min$:c,max$:d,stepSize$:b,rtl$:o,values$:$,ariaLabelHandle$:S,ariaValueText$:te,onValuesChange$:ae,showValueLabels$:z,showMinMaxLabels$:H,...O},ie]=xe(X,n,ze),{vertical$:s,disabled$:y,readonly$:Y}=O;let _=-1;const h=a(()=>{const e=c(),t=d();return e===t?X.min:Math.min(e,t)}),D=a(()=>{const e=c(),t=d();return e===t?X.max:Math.max(e,t)}),C=a(()=>Math.max(U(b()),U(h()),U(D()))),le=a(()=>b()*Math.pow(10,C())),m=Pe($,ae,e=>{const t=h(),i=D(),r=le(),l=C();return e.map(u=>He(u,t,i,r,l))},ee.equal),{directive:re,element$:se}=q(),{directive:ne,element$:oe}=q(),{directive:ce,element$:ue}=q(),{directive:de,dimensions$:T}=Ee(),V=ke({}),R=a(()=>{var e;return T(),V(),((e=se())==null?void 0:e.getBoundingClientRect())??{}},{equal:Object.is}),me=a(()=>{var e;return T(),V(),((e=oe())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),be=a(()=>{var e;return T(),V(),((e=ue())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),ve=a(()=>s()?R().top:R().left),A=a(()=>s()?R().height:R().width),G=a(()=>[...m()].sort((e,t)=>e-t)),fe=a(()=>m().map((e,t)=>({id:t,value:e})).sort((e,t)=>e.value-t.value)),pe=a(()=>{const e=S(),t=te();return fe().map((i,r)=>({...i,ariaLabel:e(i.value,r,i.id),ariaValueText:t(i.value,r,i.id)}))}),L=a(()=>m().map(e=>we(e))),B=a(()=>[...L()].sort((e,t)=>e-t)),he=a(()=>me().width/A()*100),ge=a(()=>be().width/A()*100),J=a(()=>{if(H()){if(!z())return!0}else return!1;const e=he();return o()?!L().some(t=>100-t>100-e-1):!L().some(t=>t<e+1)}),K=a(()=>{if(H()){if(!z())return!0}else return!1;const e=ge();return o()?!L().some(t=>100-t<e+1):!L().some(t=>t>100-e-1)}),De=a(()=>{const e=m();return e.length==2&&Math.abs(e[0]-e[1])<10}),M=a(()=>!y()&&!Y()),Q=a(()=>{const e=B(),t=(e[0]+e[1])/2;return s()||e.length!=2?0:o()?100-t:t}),Z=a(()=>{const e=B(),t=100-(e[0]+e[1])/2;return s()&&e.length==2?o()?100-t:t:0}),x=a(()=>{const e=s(),t=o();return L().map((i,r)=>({left:t?e?null:100-i:e?null:i,top:t?e?i:null:e?100-i:null}))}),Le=a(()=>{const e=s(),t=B(),i=o();return t.length===1?[{left:e||i?null:0,right:e?null:i?0:null,bottom:e?i?null:0:null,top:e&&i?0:null,width:e?100:t[0],height:e?t[0]:100}]:t.map((r,l,u)=>({left:e||i?null:r,right:e?null:i?u[l]:null,bottom:e?i?null:r:null,top:e&&i?u[l]:null,width:e?100:l===u.length-1?r:u[l+1]-r,height:e?l===u.length-1?r:u[l+1]-r:100})).slice(0,t.length-1)}),we=e=>{const t=h();return(e-t)*100/(D()-t)},$e=e=>{const t=m();if(t.length===1)return 0;const i=G(),r=i.find(f=>f>e*100),l=r?i.indexOf(r):i.length-1,u=i[l-1]+(i[l]-i[l-1])/2,k=i[e*100<=u?l-1:l];return t.indexOf(k)},j=(e,t)=>{if(M()){const i=A(),r=ve();let l=s()?(i-e+r)/i:(e-r)/i;l=o()?1-l:l;const u=t??$e(l),k=l*(D()-h())+h();m.update(f=>(f=[...f],f[u]=k,f))}},v=a(()=>!s()),ye=g(()=>({attributes:{"aria-disabled":a(()=>y()?"true":void 0),class:O.className$},classNames:{"au-slider":!0,"au-slider-vertical":s,"au-slider-horizontal":v,disabled:y}})),Ve=g(()=>({classNames:{"au-slider-label-vertical":s,"au-slider-label-vertical-min":s,"au-slider-label":v,"au-slider-label-min":v,"au-slider-rtl":o,invisible:a(()=>!J())}})),Me=g(()=>({classNames:{"au-slider-label-vertical":s,"au-slider-label-vertical-max":s,"au-slider-label":v,"au-slider-label-max":v,"au-slider-rtl":o,invisible:a(()=>!K())}})),P={...Se({min$:h,max$:D,stepSize$:b,values$:m,sortedValues$:G,sortedHandles$:pe,minValueLabelDisplay$:J,maxValueLabelDisplay$:K,combinedLabelDisplay$:De,interactive$:M,combinedLabelPositionLeft$:Q,combinedLabelPositionTop$:Z,progressDisplayOptions$:Le,handleDisplayOptions$:x,showValueLabels$:z,showMinMaxLabels$:H,rtl$:o,...O}),patch:ie,api:{},directives:{sliderDirective:F(re,de,ye),progressDisplayDirective:g(e=>({styles:{left:a(()=>e().option.left+"%"),right:a(()=>e().option.right+"%"),top:a(()=>e().option.top+"%"),bottom:a(()=>e().option.bottom+"%"),width:a(()=>e().option.width+"%"),height:a(()=>e().option.height+"%")},classNames:{"au-slider-progress":!0}})),clickableAreaDirective:g(()=>({events:{click:e=>P.actions.click(e)},classNames:{"au-slider-clickable-area":v,"au-slider-clickable-area-vertical":s}})),handleDirective:g(e=>({events:{keydown:t=>P.actions.keydown(t,e().item.id),mousedown:t=>P.actions.mouseDown(t,e().item.id),touchstart:t=>P.actions.touchStart(t,e().item.id)},attributes:{role:"slider","aria-valuemin":h,"aria-valuemax":D,"aria-valuenow":a(()=>e().item.value),"aria-valuetext":a(()=>e().item.ariaValueText),"aria-label":a(()=>e().item.ariaLabel),"aria-orientation":a(()=>s()?"vertical":void 0),"aria-disabled":a(()=>y()?"true":void 0),disabled:y,"aria-readonly":a(()=>Y()?"true":void 0)},styles:{left:a(()=>x()[e().item.id].left+"%"),top:a(()=>x()[e().item.id].top+"%")},classNames:{"au-slider-handle":!0,"au-slider-handle-vertical":s,"au-slider-handle-horizontal":v}})),minLabelDirective:F(ne,Ve),maxLabelDirective:F(ce,Me),combinedHandleLabelDisplayDirective:g(()=>({classNames:{"au-slider-label-vertical":s,"au-slider-label-vertical-now":s,"au-slider-label":v,"au-slider-label-now":v},styles:{left:a(()=>Q()+"%"),top:a(()=>Z()+"%")}})),handleLabelDisplayDirective:g(e=>({classNames:{"au-slider-label-vertical":s,"au-slider-label-vertical-now":s,"au-slider-label":v,"au-slider-label-now":v},styles:{left:a(()=>x()[e().index].left+"%"),top:a(()=>x()[e().index].top+"%")}}))},actions:{click(e){j(s()?e.clientY:e.clientX)},keydown(e,t){const{key:i}=e,r=o(),l=b(),u=h(),k=D(),f=s();if(M()){switch(i){case"ArrowDown":E(t,m,l,N(f,r,!0));break;case"ArrowLeft":E(t,m,l,N(f,r,!1));break;case"ArrowUp":E(t,m,l,-1*N(f,r,!0));break;case"ArrowRight":E(t,m,l,-1*N(f,r,!1));break;case"Home":m.update(p=>(p=[...p],p[t]=u,p));break;case"End":m.update(p=>(p=[...p],p[t]=k,p));break;case"PageUp":break;case"PageDown":break;default:return}e.preventDefault(),e.stopPropagation()}},mouseDown(e,t){e.preventDefault();const i=e.target,r=l=>{l.preventDefault();const u=s()?l.clientY:l.clientX;i.focus(),_!==u&&(_=u,j(u,t))};M()&&(V.set({}),i.focus(),document.addEventListener("mousemove",r),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",r)},{once:!0}))},touchStart(e,t){e.preventDefault();const i=r=>{r.preventDefault();const l=s()?r.touches[0].clientY:r.touches[0].clientX;e.target.focus(),_!==l&&(_=l,j(l,t))};M()&&(V.set({}),e.target.focus(),document.addEventListener("touchmove",i,{passive:!1}),document.addEventListener("touchend",()=>{document.removeEventListener("touchmove",i),document.removeEventListener("touchcancel",i)},{once:!0}),document.addEventListener("touchcancel",()=>{document.removeEventListener("touchmove",i),document.removeEventListener("touchend",i)},{once:!0}))}}};return P}const qe=Oe;export{qe as c};
