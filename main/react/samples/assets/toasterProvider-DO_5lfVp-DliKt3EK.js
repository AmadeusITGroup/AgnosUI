import{j as e,r as a}from"./App-Z_OzLO2G.js";import{a as u,u as D}from"./directive-CEErjM5c-DVieIczM.js";import{c as P,T as N,d as w}from"./toaster-PwfLC7FH-D11Abo_4.js";import{u as T}from"./stores-DZalyTTa-CmJXqD-S.js";import{e as A}from"./extendWidget-CRSgS6m7.js";import{f as H}from"./fade-uOobJKgw-CoV6Mc9X.js";import{S as v}from"./slot-BVbUe4Ld.js";import{u as y}from"./config-BIKLIhxN.js";import{c as p}from"./dom-gfxqXJpK-DnwY-KAj.js";const E={structure:void 0,children:void 0,header:void 0},C={transition:H},L=A(P,E,{structure:void 0,children:void 0,header:void 0},C),R={topLeft:"top-0 start-0",topCenter:"top-0 start-50 translate-middle-x",topRight:"top-0 end-0",middleLeft:"top-50 start-0 translate-middle-y",middleCenter:"top-50 start-50 translate-middle",middleRight:"top-50 end-0 translate-middle-y",bottomLeft:"bottom-0 start-0",bottomCenter:"bottom-0 start-50 translate-middle-x",bottomRight:"bottom-0 end-0"},S=t=>{const s=a.useMemo(()=>new N(t),[t]),o=T(s.toasts),r=T(s.options),i=a.useCallback(l=>s.addToast(l),[s]),n=s.removeToast,c=s.eventsDirective,d=s.closeAll;return{toasts:o,options:r,addToast:i,removeToast:n,eventsDirective:c,closeAll:d}},b=a.createContext(void 0),$=({options:t,children:s})=>{const o=S(t);return e.jsx(b.Provider,{value:o,children:s})},B=()=>{const t=a.useContext(b);if(!t)throw new Error("useToaster must be used within a ToasterProvider");return t},O=L,W=R,st=w,_=t=>e.jsx("button",{...u([p,"btn-close me-0 ms-auto"],t.directives.closeButtonDirective)}),k=t=>e.jsxs("div",{className:"toast-header",children:[e.jsx(v,{slotContent:t.state.header,props:t}),t.state.dismissible&&e.jsx(_,{...t})]}),F=t=>e.jsx("button",{...u([p,"btn-close btn-close-white me-2 m-auto"],t.directives.closeButtonDirective)}),I=t=>e.jsxs(e.Fragment,{children:[t.state.header&&e.jsx(k,{...t}),e.jsx("div",{className:"toast-body",children:e.jsx(v,{slotContent:t.state.children,props:t})}),t.state.dismissible&&!t.state.header&&e.jsx(F,{...t})]}),M=t=>e.jsx("div",{...u([p,{"toast-dismissible":t.state.dismissible,"d-flex":!t.state.header}],t.directives.transitionDirective,t.directives.autoHideDirective,t.directives.bodyDirective),children:e.jsx(v,{slotContent:t.state.structure,props:t})});function q(t){const s=y(O,t,"toast",{structure:I,children:t.children});return a.useImperativeHandle(t.ref,()=>s.api,[s.api]),e.jsx(e.Fragment,{children:!s.state.hidden&&e.jsx(M,{...s})})}const z=({id:t,className:s,visible:o,structure:r,children:i,header:n,dismissible:c,ariaCloseButtonLabel:d,animated:l,animatedOnInit:f,onShown:x,onHidden:h,onVisibleChange:j,transition:g,toaster:m})=>e.jsx("div",{...D(m.eventsDirective,t),children:e.jsx(q,{animated:l,animatedOnInit:f,autoHide:!1,className:s,dismissible:c??m.options.dismissible,ariaCloseButtonLabel:d,structure:r,header:n,onShown:x,onHidden:()=>{m.removeToast(t),h==null||h()},onVisibleChange:j,visible:o,transition:g,children:i})});function G(){const t=J();return e.jsx("div",{className:"au-toaster","aria-live":"polite","aria-atomic":"true",children:e.jsxs("div",{className:`au-toaster-container toast-container ${W[t.options.position]}`,children:[t.options.closeAll&&t.toasts.length>1&&e.jsx("div",{className:"d-flex position-relative align-items-end pb-2",children:e.jsx("button",{className:"au-toaster-closeAll btn btn-secondary me-0 ms-auto pe-auto",onClick:()=>t.closeAll(),children:t.options.closeAllLabel||"Close all"})}),t.toasts.map(({id:s,props:o})=>e.jsx(z,{id:s,...o,toaster:t},s))]})})}const ot=({options:t,children:s})=>e.jsxs($,{options:t,children:[s,e.jsx(G,{})]}),J=()=>B();export{q as T,ot as a,W as b,st as e,J as u};
