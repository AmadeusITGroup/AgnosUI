import{r,j as m}from"./index-60324781.js";import{f as a,x,a as W,v as y,y as C,z as j}from"./utils-54fce9d2.js";const c=(e,t,n=1/0)=>{if(t!==void 0)if(typeof t=="object"&&t&&n>=1)for(const o of Object.keys(t))e[o]=c(e[o]??{},t[o],n-1);else return t;return e},b=(e,t=x)=>{const n=a({}),o=t===x?e:W(()=>t(c({},e==null?void 0:e(),2)));return y(W(()=>c(c({},o==null?void 0:o(),2),n(),2)),{...n,own$:n,adaptedParent$:o,parent$:e})},h=(e=r.createContext(void 0))=>{const t=(i,f)=>{const s=r.useContext(e),u=C(f);return r.useMemo(()=>W(()=>({...u(),...i?s==null?void 0:s()[i]:void 0})),[s])};return{widgetsConfigContext:e,useWidgetContext:t,useWidgetWithConfig:(i,f,s,u)=>j(i,f,{config:t(s,u)}),WidgetsDefaultConfig:({children:i,adaptParentConfig:f,...s})=>{const u=r.useContext(e);let g=!1;const d=r.useMemo(()=>{const l=b(u,f);return l.set(s),g=!0,l},[u,f]);return r.useEffect(()=>{g||d.set(s)},[s]),m.jsx(e.Provider,{value:d,children:i})}}},{widgetsConfigContext:k,useWidgetContext:v,useWidgetWithConfig:I,WidgetsDefaultConfig:M}=h();export{M as W,I as u};
