import{r as u,j as x}from"./index-SjBHt5an.js";import{w as a,i as l,c as W,d as C}from"./func-B0ufEirG.js";import{u as y}from"./widget-B-2fT5Ff.js";import{a as j}from"./stores-pDHDZWLG.js";const c=(t,e,i=1/0)=>{if(e!==void 0)if(typeof e=="object"&&e&&i>=1)for(const o of Object.keys(e))t[o]=c(t[o]??{},e[o],i-1);else return e;return t},b=(t,e=l)=>{const i=a({}),o=e===l?t:W(()=>e(c({},t==null?void 0:t(),2)));return C(W(()=>c(c({},o==null?void 0:o(),2),i(),2)),{...i,own$:i,adaptedParent$:o,parent$:t})},h=(t=u.createContext(void 0))=>{const e=(n,r)=>{const s=u.useContext(t),f=j(r);return u.useMemo(()=>W(()=>({...f(),...n?s==null?void 0:s()[n]:void 0})),[s])};return{widgetsConfigContext:t,useWidgetContext:e,useWidgetWithConfig:(n,r,s,f)=>y(n,r,{config:e(s,f)}),WidgetsDefaultConfig:({children:n,adaptParentConfig:r,...s})=>{const f=u.useContext(t);let d=!1;const g=u.useMemo(()=>{const m=b(f,r);return m.set(s),d=!0,m},[f,r]);return u.useEffect(()=>{d||g.set(s)},[s]),x.jsx(t.Provider,{value:g,children:n})}}},{widgetsConfigContext:M,WidgetsDefaultConfig:R,useWidgetContext:v,useWidgetWithConfig:A}=h();export{R as W,A as u};
