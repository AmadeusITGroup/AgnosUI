import{j as e,r}from"./App-DTWWbA95.js";import{a as v,u as D}from"./directive-Ds3K8r_f-BERykgBX.js";import{c as P,T as H,d as N}from"./toaster-DIpW5KvP-BmIj2R_o.js";import{f as w}from"./stores-DDsfCC7o.js";import{u as f}from"./stores-BWQ6d_4B-DE0BHNJn.js";import{e as A}from"./extendWidget-p6D3ic5a.js";import{f as y}from"./fade-uOobJKgw-CWuslkxT.js";import{S as h}from"./slot-B3DYfOsn.js";import{u as E}from"./config-aOulNCjY.js";import{c as T}from"./dom-q8JF3QN8-DA_38J3x.js";const O={structure:void 0,children:void 0,header:void 0},R={transition:y},C=A(P,O,{structure:void 0,children:void 0,header:void 0},R),L={topLeft:"top-0 start-0",topCenter:"top-0 start-50 translate-middle-x",topRight:"top-0 end-0",middleLeft:"top-50 start-0 translate-middle-y",middleCenter:"top-50 start-50 translate-middle",middleRight:"top-50 end-0 translate-middle-y",bottomLeft:"bottom-0 start-0",bottomCenter:"bottom-0 start-50 translate-middle-x",bottomRight:"bottom-0 end-0"},S=t=>{const s=r.useMemo(()=>new H(t),[]);t=t??{};const o=r.useRef(t);r.useMemo(()=>{const a=w(o.current,t);o.current=t,a&&s.options.update(u=>({...u,...a}))},[s.options,t]);const i=f(s.toasts),n=f(s.options),c=r.useCallback(a=>s.addToast(a),[s]),d=s.removeToast,l=s.eventsDirective,m=s.closeAll;return{toasts:i,options:n,addToast:c,removeToast:d,eventsDirective:l,closeAll:m}},b=r.createContext(void 0),$=({options:t,children:s})=>{const o=S(t);return e.jsx(b.Provider,{value:o,children:s})},B=()=>{const t=r.useContext(b);if(!t)throw new Error("useToaster must be used within a ToasterProvider");return t},_=C,k=L,rt=N,F=t=>e.jsx("button",{...v([T,"btn-close me-0 ms-auto"],t.directives.closeButtonDirective)}),M=t=>e.jsxs("div",{className:"toast-header",children:[e.jsx(h,{slotContent:t.state.header,props:t}),t.state.dismissible&&e.jsx(F,{...t})]}),W=t=>e.jsx("button",{...v([T,"btn-close btn-close-white me-2 m-auto"],t.directives.closeButtonDirective)}),I=t=>e.jsxs(e.Fragment,{children:[t.state.header&&e.jsx(M,{...t}),e.jsx("div",{className:"toast-body",children:e.jsx(h,{slotContent:t.state.children,props:t})}),t.state.dismissible&&!t.state.header&&e.jsx(W,{...t})]}),q=t=>e.jsx("div",{...v([T,{"toast-dismissible":t.state.dismissible,"d-flex":!t.state.header}],t.directives.transitionDirective,t.directives.autoHideDirective,t.directives.bodyDirective),children:e.jsx(h,{slotContent:t.state.structure,props:t})});function z({ref:t,...s}){const o=E(_,s,{structure:I,children:s.children});return r.useImperativeHandle(t,()=>o.api,[o.api]),e.jsx(e.Fragment,{children:!o.state.hidden&&e.jsx(q,{...o})})}const G=({id:t,className:s,visible:o,structure:i,children:n,header:c,dismissible:d,ariaCloseButtonLabel:l,animated:m,animatedOnInit:a,onShown:u,onHidden:x,onVisibleChange:j,transition:g,toaster:p})=>e.jsx("div",{...D(p.eventsDirective,t),children:e.jsx(z,{animated:m,animatedOnInit:a,autoHide:!1,className:s,dismissible:d??p.options.dismissible,ariaCloseButtonLabel:l,structure:i,header:c,onShown:u,onHidden:()=>{p.removeToast(t),x?.()},onVisibleChange:j,visible:o,transition:g,children:n})});function J(){const t=K();return e.jsx("div",{className:"au-toaster","aria-live":"polite","aria-atomic":"true",children:e.jsxs("div",{className:`au-toaster-container toast-container ${k[t.options.position]}`,children:[t.options.closeAll&&t.toasts.length>1&&e.jsx("div",{className:"d-flex position-relative align-items-end pb-2",children:e.jsx("button",{className:"au-toaster-closeAll btn btn-secondary me-0 ms-auto pe-auto",onClick:()=>t.closeAll(),children:t.options.closeAllLabel||"Close all"})}),t.toasts.map(({id:s,props:o})=>e.jsx(G,{id:s,...o,toaster:t},s))]})})}const at=({options:t,children:s})=>e.jsxs($,{options:t,children:[s,e.jsx(J,{})]}),K=()=>B();export{z as T,at as a,k as b,rt as e,K as u};
