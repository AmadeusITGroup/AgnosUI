import{a as u,j as t,r as c,c as p}from"./App-CMLx6mqi.js";import{u as f,S as a}from"./config-UTOxIG5j.js";import{a as d,u as v}from"./directive-Kqp31pwt-CmYlrUyd.js";import{c as j}from"./modal-Bcc7Xh5d-MzuW6Gei.js";import{f as n}from"./fade-uOobJKgw-DxMY8pXp.js";import{e as x}from"./extendWidget-DmHfBe22.js";import{t as g}from"./writables-DoU_XYTX-CLq9hDK4.js";import{c as h}from"./index-Vc4g3iZb.js";import{t as D,c as m}from"./directive-DCYlDznf-D6Op6yAr.js";const S={contentData:void 0,slotDefault:void 0,slotFooter:void 0,slotHeader:void 0,slotStructure:void 0,slotTitle:void 0,fullscreen:!1},b={backdropTransition:n,modalTransition:n},w={fullscreen:g},M=x(j,S,w,b),N=({children:e,container:o})=>o?u.createPortal(e,o):t.jsx(t.Fragment,{children:e}),E=M,k=({directive:e})=>t.jsx("button",{className:"btn-close",...v(e)}),F=e=>t.jsxs(t.Fragment,{children:[t.jsx("h5",{className:"modal-title",children:t.jsx(a,{slotContent:e.state.slotTitle,props:e})}),e.state.closeButton&&t.jsx(k,{directive:e.widget.directives.closeButtonDirective})]}),H=e=>t.jsxs(t.Fragment,{children:[e.state.slotTitle&&t.jsx("div",{className:"modal-header",children:t.jsx(a,{slotContent:e.state.slotHeader,props:e})}),t.jsx("div",{className:"modal-body",children:t.jsx(a,{slotContent:e.state.slotDefault,props:e})}),e.state.slotFooter&&t.jsx("div",{className:"modal-footer",children:t.jsx(a,{slotContent:e.state.slotFooter,props:e})})]}),T={slotHeader:F,slotStructure:H},y=({widget:e})=>t.jsx("div",{...d([m,"modal-backdrop"],e.directives.backdropDirective)}),B=e=>{const{fullscreen:o}=e.state;return t.jsx("div",{...d([m,"modal d-block"],e.widget.directives.modalDirective),children:t.jsx("div",{className:h("modal-dialog",{"modal-fullscreen":o}),children:t.jsx("div",{className:"modal-content",children:t.jsx(a,{slotContent:e.state.slotStructure,props:e})})})})},P=c.forwardRef(function(o,r){const[s,i]=f(E,o,"modal",{...T,slotDefault:o.children});c.useImperativeHandle(r,()=>i.api,[]);const l={state:s,widget:D(i)};return t.jsxs(N,{container:s.container,children:[!s.backdropHidden&&t.jsx(y,{...l}),!s.hidden&&t.jsx(B,{...l})]})});async function G(e){const o=p.createRoot(document.createElement("div"));try{return await(await new Promise(s=>{o.render(t.jsx(P,{...e,ref:s}))})).open()}finally{o.unmount()}}export{P as M,G as o};
