import{r as o,j as e}from"./App-Z_OzLO2G.js";import{u as c}from"./directive-CEErjM5c-DVieIczM.js";import{c as S}from"./clsx-B-dksMZM.js";import{a as L,S as C}from"./next-CCRgEG8A.js";import{u as j}from"./widget-BP6z-zfB-gtoCYGER.js";import{c as y}from"./index-B3sgZO52.js";import"./dom-gfxqXJpK-DnwY-KAj.js";import"./stores-CNc_rSPE.js";import"./stores-DZalyTTa-CmJXqD-S.js";import"./writables-CgpOQ4hA-Cd7Z63K9.js";import"./navManager-DPi01Ap_.js";const E=s=>o.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-6 w-6 fill-current md:h-8 md:w-8",...s},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})),F=s=>o.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-6 w-6 fill-current md:h-8 md:w-8",...s},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"})),D=({sources:s,src:t,alt:r,loadRequested:a,aspectRatio:u,id:p,index:h,slide:n})=>{const x=o.useRef(null),[v,f]=o.useState(!1);return e.jsx("div",{className:"relative basis-full min-w-0 shrink-0 grow-0 flex justify-center",...c(n,{id:p,index:h}),children:a?e.jsxs(e.Fragment,{children:[!v&&e.jsx("span",{className:"absolute top-1/2 -translate-y-1/2 left-1/2 loading loading-spinner loading-lg text-primary",ref:x}),e.jsxs("picture",{className:"flex justify-center",children:[s.map(({media:b,srcset:m},g)=>e.jsx("source",{media:b,srcSet:m},g)),e.jsx("img",{className:S("select-none","object-contain"),alt:r,src:t,style:{aspectRatio:u},onLoad:()=>f(!0)})]})]}):e.jsx("div",{className:"skeleton w-full h-full"})})},I=({scrollPrev:s,scrollNext:t})=>e.jsxs("div",{className:"absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between",children:[e.jsx("button",{className:"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100",onPointerDown:r=>r.preventDefault(),...c(s),children:e.jsx(L,{fill:"currentColor"})}),e.jsx("button",{className:"btn btn-primary btn-sm md:btn-md btn-circle opacity-75 hover:opacity-100",onPointerDown:r=>r.preventDefault(),...c(t),children:e.jsx(C,{fill:"currentColor"})})]}),P=({tabIndicator:s,index:t,id:r,selectedScrollSnap:a,aspectRatio:u,thumbnail:p})=>e.jsx("button",{className:S("ring-primary","cursor-pointer",a===t&&"ring-3"),...c(s,{index:t,id:r}),children:e.jsx("img",{className:"select-none",alt:"random picsum",src:p,loading:"lazy",style:{aspectRatio:u}})}),R=({photos:s,withNavArrows:t=!1,withShowFullscreen:r=!1,aspectRatio:a=4/3})=>{const[u,p]=o.useState(s.map((i,l)=>({...i,loadRequested:l===0}))),{state:h,directives:n}=j(y),{api:x,directives:v}=j(y,{dragFree:!0,containScroll:"keepSnaps"}),f=o.useRef(null),b=!!(document!=null&&document.fullscreenEnabled)&&r,[m,g]=o.useState(!1),M=()=>{m?document.exitFullscreen():f.current.requestFullscreen(),g(!m)};return o.useEffect(()=>{const i=h.selectedScrollSnap;x.scrollTo(i),p(l=>l.map((w,k)=>Math.abs(k-i)<=1&&!w.loadRequested?{...w,loadRequested:!0}:w))},[h.selectedScrollSnap,x]),e.jsxs("div",{ref:f,className:"grid grid-flow-row max-h-dvh",children:[e.jsxs("div",{className:"overflow-hidden relative cursor-grab active:cursor-grabbing",...c(n.root),children:[e.jsx("div",{className:"flex max-h-full",children:u.map((i,l)=>e.jsx(D,{...i,aspectRatio:a,id:`gallery-photo-${l}`,index:l,slide:n.slide},l))}),t&&e.jsx(I,{scrollNext:n.scrollNext,scrollPrev:n.scrollPrev}),b&&e.jsx("div",{className:"absolute right-5 bottom-5 flex",children:e.jsx("button",{className:"btn btn-primary btn-sm md:btn-md btn-square opacity-75 hover:opacity-100",onClick:M,"aria-label":m?"leave fullscreen":"open photo in fullscreen",children:m?e.jsx(F,{fill:"currentColor"}):e.jsx(E,{fill:"currentColor"})})})]}),e.jsx("div",{className:"overflow-hidden mt-1 mb-2",...c(v.root),children:e.jsx("div",{className:"grid grid-flow-col auto-cols-max gap-2 mx-1 my-1 items-center",...c(n.tabList),children:s.map(({thumbnail:i},l)=>e.jsx(P,{thumbnail:i,selectedScrollSnap:h.selectedScrollSnap,aspectRatio:a,id:`gallery-photo-${l}`,index:l,tabIndicator:n.tabIndicator},l))})})]})},q=[36,43,70,102,124,142,156,242,288,289,295,361,400,488,496,515,557,607,623,645],$=[124,289,400,488,607],N=[],d=(s,t,r,a)=>`https://picsum.photos/id/${s}/${a?r:t}/${a?t:r}.webp`;for(const s of q){const t=$.includes(s);N.push({thumbnail:d(s,120,90,t),src:d(s,1600,1200,t),alt:"random picsum",sources:[{media:"(max-width: 599px)",srcset:d(s,600,450,t)},{media:"(min-width: 600px) and (max-width: 799px)",srcset:d(s,800,600,t)},{media:"(min-width: 800px) and (max-width: 1199px)",srcset:d(s,1200,900,t)},{media:"(min-width: 1200px)",srcset:d(s,1600,1200,t)}]})}const G=[...N],O=()=>e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{className:"max-w-[600px] lg:max-w-[1000px]",children:e.jsx(R,{photos:G,withNavArrows:!0,withShowFullscreen:!0})})});export{O as default};
