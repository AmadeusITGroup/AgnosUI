import{r as a,j as i}from"./index-60324781.js";import{S as o,c as f}from"./index-8109b606.js";import{u as l}from"./config-50b7debc.js";import{u as n}from"./utils-54fce9d2.js";const m=a.createContext({}),g=e=>{const s=n(e.widget.directives.collapseDirective),r=new RegExp("^h[1-6]$").test(e.state.itemHeadingTag)?e.state.itemHeadingTag:"h2";return i.jsxs(i.Fragment,{children:[i.jsx(r,{className:`accordion-header ${e.state.itemHeaderClass}`,children:i.jsx("button",{type:"button",id:`${e.state.itemId}-toggle`,onClick:e.widget.actions.click,className:`accordion-button ${e.state.itemButtonClass} ${e.state.itemVisible?"":"collapsed"}`,disabled:e.state.itemDisabled,"aria-controls":`${e.state.itemId}-collapse`,"aria-disabled":e.state.itemDisabled,"aria-expanded":e.state.itemVisible,children:i.jsx(o,{slotContent:e.state.slotItemHeader,props:e})})}),e.state.shouldBeInDOM?i.jsx("div",{className:`accordion-collapse ${e.state.itemCollapseClass}`,id:`${e.state.itemId}-collapse`,"aria-labelledby":`${e.state.itemId}-toggle`,ref:s,children:i.jsx("div",{className:`accordion-body ${e.state.itemBodyClass}`,children:i.jsx(o,{slotContent:e.state.slotItemBody,props:e})})}):null]})},I={slotItemStructure:g},$=a.forwardRef(function(s,d){const{registerItem:r}=a.useContext(m),[t,c]=l(r,s,null,{...I}),u={state:t,widget:c},p=n(c.directives.accordionItemDirective);return a.useImperativeHandle(d,()=>c.api,[]),a.useEffect(()=>{c.api.initDone()},[]),i.jsx("div",{className:`accordion-item ${t.itemClass}`,id:t.itemId,ref:p,children:i.jsx(o,{slotContent:t.slotItemStructure,props:u})})}),D=a.forwardRef(function(s,d){const[r,t]=l(f,s,"accordion");a.useImperativeHandle(d,()=>t.api,[]);const c=n(t.directives.accordionDirective);return i.jsx(m.Provider,{value:t.api,children:i.jsx("div",{className:`accordion ${r.className}`,ref:c,children:s.children})})});export{D as A,$ as a};
