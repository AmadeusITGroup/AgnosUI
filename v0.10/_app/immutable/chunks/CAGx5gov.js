import{_ as i}from"./PPVm8Dsz.js";const S=500,$=20,k=300,N="https://stackblitz.com",T=["angular-cli","create-react-app","html","javascript","node","polymer","typescript","vue"],F=["project","search","ports","settings"],C=["light","dark"],M=["editor","preview"],O={clickToLoad:t=>p("ctl",t),devToolsHeight:t=>j("devtoolsheight",t),forceEmbedLayout:t=>p("embed",t),hideDevTools:t=>p("hidedevtools",t),hideExplorer:t=>p("hideExplorer",t),hideNavigation:t=>p("hideNavigation",t),openFile:t=>f("file",t),showSidebar:t=>U("showSidebar",t),sidebarView:t=>g("sidebarView",t,F),startScript:t=>f("startScript",t),terminalHeight:t=>j("terminalHeight",t),theme:t=>g("theme",t,C),view:t=>g("view",t,M),zenMode:t=>p("zenMode",t),organization:t=>`${f("orgName",t?.name)}&${f("orgProvider",t?.provider)}`,crossOriginIsolated:t=>p("corp",t)};function A(t={}){const e=Object.entries(t).map(([r,o])=>o!=null&&O.hasOwnProperty(r)?O[r](o):"").filter(Boolean);return e.length?`?${e.join("&")}`:""}function p(t,e){return e===!0?`${t}=1`:""}function U(t,e){return typeof e=="boolean"?`${t}=${e?"1":"0"}`:""}function j(t,e){if(typeof e=="number"&&!Number.isNaN(e)){const r=Math.min(100,Math.max(0,e));return`${t}=${encodeURIComponent(Math.round(r))}`}return""}function g(t,e="",r=[]){return r.includes(e)?`${t}=${encodeURIComponent(e)}`:""}function f(t,e){return(Array.isArray(e)?e:[e]).filter(o=>typeof o=="string"&&o.trim()!=="").map(o=>`${t}=${encodeURIComponent(o)}`).join("&")}function D(){return Math.random().toString(36).slice(2,6)+Math.random().toString(36).slice(2,6)}function v(t,e){return`${L(e)}${t}${A(e)}`}function b(t,e){const r={forceEmbedLayout:!0};return e&&typeof e=="object"&&Object.assign(r,e),`${L(r)}${t}${A(r)}`}function L(t={}){return(typeof t.origin=="string"?t.origin:N).replace(/\/$/,"")}function P(t,e,r){if(!e||!t||!t.parentNode)throw new Error("Invalid Element");t.id&&(e.id=t.id),t.className&&(e.className=t.className),q(e,r),x(t,e,r),t.replaceWith(e)}function I(t){if(typeof t=="string"){const e=document.getElementById(t);if(!e)throw new Error(`Could not find element with id '${t}'`);return e}else if(t instanceof HTMLElement)return t;throw new Error(`Invalid element: ${t}`)}function w(t){return t&&t.newWindow===!1?"_self":"_blank"}function q(t,e={}){const r=Object.hasOwnProperty.call(e,"height")?`${e.height}`:`${k}`,o=Object.hasOwnProperty.call(e,"width")?`${e.width}`:void 0;t.setAttribute("height",r),o?t.setAttribute("width",o):t.setAttribute("style","width:100%;")}function x(t,e,r={}){const o=t.allow?.split(";")?.map(n=>n.trim())??[];r.crossOriginIsolated&&!o.includes("cross-origin-isolated")&&o.push("cross-origin-isolated"),o.length>0&&(e.allow=o.join("; "))}class B{constructor(e){this.pending={},this.port=e,this.port.onmessage=this.messageListener.bind(this)}request({type:e,payload:r}){return new Promise((o,n)=>{const s=D();this.pending[s]={resolve:o,reject:n},this.port.postMessage({type:e,payload:{...r,__reqid:s}})})}messageListener(e){if(typeof e.data.payload?.__reqid!="string")return;const{type:r,payload:o}=e.data,{__reqid:n,__success:s,__error:a}=o;this.pending[n]&&(s?this.pending[n].resolve(this.cleanResult(o)):this.pending[n].reject(a?`${r}: ${a}`:r),delete this.pending[n])}cleanResult(e){const r={...e};return delete r.__reqid,delete r.__success,delete r.__error,Object.keys(r).length?r:null}}class H{constructor(e,r){this.editor={openFile:o=>this._rdc.request({type:"SDK_OPEN_FILE",payload:{path:o}}),setCurrentFile:o=>this._rdc.request({type:"SDK_SET_CURRENT_FILE",payload:{path:o}}),setTheme:o=>this._rdc.request({type:"SDK_SET_UI_THEME",payload:{theme:o}}),setView:o=>this._rdc.request({type:"SDK_SET_UI_VIEW",payload:{view:o}}),showSidebar:(o=!0)=>this._rdc.request({type:"SDK_TOGGLE_SIDEBAR",payload:{visible:o}})},this.preview={origin:"",getUrl:()=>this._rdc.request({type:"SDK_GET_PREVIEW_URL",payload:{}}).then(o=>o?.url??null),setUrl:(o="/")=>{if(typeof o!="string"||!o.startsWith("/"))throw new Error(`Invalid argument: expected a path starting with '/', got '${o}'`);return this._rdc.request({type:"SDK_SET_PREVIEW_URL",payload:{path:o}})}},this._rdc=new B(e),Object.defineProperty(this.preview,"origin",{value:typeof r.previewOrigin=="string"?r.previewOrigin:null,writable:!1})}applyFsDiff(e){const r=o=>o!==null&&typeof o=="object";if(!r(e)||!r(e.create))throw new Error("Invalid diff object: expected diff.create to be an object.");if(!Array.isArray(e.destroy))throw new Error("Invalid diff object: expected diff.destroy to be an array.");return this._rdc.request({type:"SDK_APPLY_FS_DIFF",payload:e})}getDependencies(){return this._rdc.request({type:"SDK_GET_DEPS_SNAPSHOT",payload:{}})}getFsSnapshot(){return this._rdc.request({type:"SDK_GET_FS_SNAPSHOT",payload:{}})}}const h=[];class K{constructor(e){this.id=D(),this.element=e,this.pending=new Promise((r,o)=>{const n=({data:c,ports:u})=>{c?.action==="SDK_INIT_SUCCESS"&&c.id===this.id&&(this.vm=new H(u[0],c.payload),r(this.vm),a())},s=()=>{this.element.contentWindow?.postMessage({action:"SDK_INIT",id:this.id},"*")};function a(){window.clearInterval(d),window.removeEventListener("message",n)}window.addEventListener("message",n),s();let l=0;const d=window.setInterval(()=>{if(this.vm){a();return}if(l>=$){a(),o("Timeout: Unable to establish a connection with the StackBlitz VM"),h.forEach((c,u)=>{c.id===this.id&&h.splice(u,1)});return}l++,s()},S)}),h.push(this)}}const W=t=>{const e=t instanceof Element?"element":"id";return h.find(r=>r[e]===t)??null};function G(t,e){const r=document.createElement("input");return r.type="hidden",r.name=t,r.value=e,r}function z(t){return t.replace(/\[/g,"%5B").replace(/\]/g,"%5D")}function R({template:t,title:e,description:r,dependencies:o,files:n,settings:s}){if(!T.includes(t)){const c=T.map(u=>`'${u}'`).join(", ");console.warn(`Unsupported project.template: must be one of ${c}`)}const a=[],l=(c,u,V="")=>{a.push(G(c,typeof u=="string"?u:V))};l("project[title]",e),typeof r=="string"&&r.length>0&&l("project[description]",r),l("project[template]",t,"javascript"),o&&(t==="node"?console.warn("Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template."):l("project[dependencies]",JSON.stringify(o))),s&&l("project[settings]",JSON.stringify(s)),Object.entries(n).forEach(([c,u])=>{l(`project[files][${z(c)}]`,u)});const d=document.createElement("form");return d.method="POST",d.setAttribute("style","display:none!important;"),d.append(...a),d}function J(t,e){const r=R(t);return r.action=b("/run",e),r.id="sb_run",`<!doctype html>
<html>
<head><title></title></head>
<body>
  ${r.outerHTML}
  <script>document.getElementById('${r.id}').submit();<\/script>
</body>
</html>`}function X(t,e){const r=R(t);r.action=v("/run",e),r.target=w(e),document.body.appendChild(r),r.submit(),document.body.removeChild(r)}function E(t){return t?.contentWindow?(W(t)??new K(t)).pending:Promise.reject("Provided element is not an iframe.")}function Y(t,e){X(t,e)}function Q(t,e){const r=v(`/edit/${t}`,e),o=w(e);window.open(r,o)}function Z(t,e){const r=v(`/github/${t}`,e),o=w(e);window.open(r,o)}function tt(t,e,r){const o=I(t),n=J(e,r),s=document.createElement("iframe");return P(o,s,r),s.contentDocument?.write(n),E(s)}function et(t,e,r){const o=I(t),n=document.createElement("iframe");return n.src=b(`/edit/${e}`,r),P(o,n,r),E(n)}function rt(t,e,r){const o=I(t),n=document.createElement("iframe");return n.src=b(`/github/${e}`,r),P(o,n,r),E(n)}const ot={connect:E,embedGithubProject:rt,embedProject:tt,embedProjectId:et,openGithubProject:Z,openProject:Y,openProjectId:Q},y=t=>t.style==="bootstrap",m=t=>t.style==="daisyui",_=(t,e="",r,o=()=>!0)=>async(n,s)=>{o(s)&&await Promise.all(Object.keys(t).map(async a=>{const l=e+(r&&a.startsWith(r)?a.substring(r.length):a);n.files[l]=await t[a]()}))},it=()=>({angular:[_(Object.assign({"./angular-bootstrap/angular.json":()=>i(()=>import("./Dlp7tQ46.js"),[],import.meta.url).then(t=>t.default),"./angular-bootstrap/index.html":()=>i(()=>import("./DDi5qaYr.js"),[],import.meta.url).then(t=>t.default),"./angular-bootstrap/package-lock.json":()=>i(()=>import("./DNrTz5X7.js"),[],import.meta.url).then(t=>t.default),"./angular-bootstrap/package.json":()=>i(()=>import("./a_e0O1Kb.js"),[],import.meta.url).then(t=>t.default),"./angular-bootstrap/src/main.css":()=>i(()=>import("./BRxQFTxW.js"),[],import.meta.url).then(t=>t.default),"./angular-bootstrap/src/raw-loader.d.ts":()=>i(()=>import("./C5Bwl_T2.js"),[],import.meta.url).then(t=>t.default),"./angular-bootstrap/tsconfig.json":()=>i(()=>import("./D3bJfTXp.js"),[],import.meta.url).then(t=>t.default)}),"","./angular-bootstrap/",y),_(Object.assign({"./angular-daisyui/angular.json":()=>i(()=>import("./BXogXpMk.js"),[],import.meta.url).then(t=>t.default),"./angular-daisyui/index.html":()=>i(()=>import("./7_4nm6b0.js"),[],import.meta.url).then(t=>t.default),"./angular-daisyui/package-lock.json":()=>i(()=>import("./BHPeEHxl.js"),[],import.meta.url).then(t=>t.default),"./angular-daisyui/package.json":()=>i(()=>import("./BMdflWup.js"),[],import.meta.url).then(t=>t.default),"./angular-daisyui/src/main.css":()=>i(()=>import("./C1CxZFf2.js"),[],import.meta.url).then(t=>t.default),"./angular-daisyui/src/raw-loader.d.ts":()=>i(()=>import("./CihDBm0o.js"),[],import.meta.url).then(t=>t.default),"./angular-daisyui/tsconfig.json":()=>i(()=>import("./BBPsXRDl.js"),[],import.meta.url).then(t=>t.default)}),"","./angular-daisyui/",m),(t,e)=>{t.files["src/main.ts"]=`import {bootstrapApplication} from '@angular/platform-browser';
import {provideBrowserGlobalErrorListeners} from '@angular/core';
import MainComponent from './${e.files.angular.entryPoint.replace(/\.ts$/,"")}';
${m(e)?`import '@tailwindcss/browser';
`:""}
bootstrapApplication(MainComponent, {providers: [provideBrowserGlobalErrorListeners()]}).catch((err) => console.error(err));`}],react:[_(Object.assign({"./react-bootstrap/index.html":()=>i(()=>import("./Cli6hQyx.js"),[],import.meta.url).then(t=>t.default),"./react-bootstrap/package-lock.json":()=>i(()=>import("./BEkfWAYT.js"),[],import.meta.url).then(t=>t.default),"./react-bootstrap/package.json":()=>i(()=>import("./Qohg12dM.js"),[],import.meta.url).then(t=>t.default),"./react-bootstrap/src/main.css":()=>i(()=>import("./ZhGDlwE2.js"),[],import.meta.url).then(t=>t.default),"./react-bootstrap/src/vite-env.d.ts":()=>i(()=>import("./DWSAnUdW.js"),[],import.meta.url).then(t=>t.default),"./react-bootstrap/tsconfig.json":()=>i(()=>import("./C40rB0Dp.js"),[],import.meta.url).then(t=>t.default),"./react-bootstrap/vite.config.ts":()=>i(()=>import("./Dnv89lCz.js"),[],import.meta.url).then(t=>t.default)}),"","./react-bootstrap/",y),_(Object.assign({"./react-daisyui/index.html":()=>i(()=>import("./BrGP54gV.js"),[],import.meta.url).then(t=>t.default),"./react-daisyui/package-lock.json":()=>i(()=>import("./Ck8-tEZE.js"),[],import.meta.url).then(t=>t.default),"./react-daisyui/package.json":()=>i(()=>import("./D7j9fWU4.js"),[],import.meta.url).then(t=>t.default),"./react-daisyui/src/main.css":()=>i(()=>import("./CUXDL2PX.js"),[],import.meta.url).then(t=>t.default),"./react-daisyui/src/vite-env.d.ts":()=>i(()=>import("./DaOiv1oo.js"),[],import.meta.url).then(t=>t.default),"./react-daisyui/tsconfig.json":()=>i(()=>import("./BId8BjcK.js"),[],import.meta.url).then(t=>t.default),"./react-daisyui/vite.config.ts":()=>i(()=>import("./Dyasu8hp.js"),[],import.meta.url).then(t=>t.default)}),"","./react-daisyui/",m),(t,e)=>{t.files["src/main.tsx"]=`import {createRoot} from "react-dom/client";
import "./main.css";
import App from ${JSON.stringify(`./${e.files.react.entryPoint.replace(/\.tsx?$/,"")}`)};
${m(e)?`import '@tailwindcss/browser';
`:""}
const rootElement = document.getElementById('root')!;
const root = createRoot(rootElement);
root.render(<App />)`}],svelte:[_(Object.assign({"./svelte-bootstrap/index.html":()=>i(()=>import("./BJL-MOHB.js"),[],import.meta.url).then(t=>t.default),"./svelte-bootstrap/package-lock.json":()=>i(()=>import("./R516RQ05.js"),[],import.meta.url).then(t=>t.default),"./svelte-bootstrap/package.json":()=>i(()=>import("./BOlrvy7d.js"),[],import.meta.url).then(t=>t.default),"./svelte-bootstrap/src/main.css":()=>i(()=>import("./CInbvJFq.js"),[],import.meta.url).then(t=>t.default),"./svelte-bootstrap/src/vite-env.d.ts":()=>i(()=>import("./BDc_3yBB.js"),[],import.meta.url).then(t=>t.default),"./svelte-bootstrap/svelte.config.js":()=>i(()=>import("./DWm-87YB.js"),[],import.meta.url).then(t=>t.default),"./svelte-bootstrap/tsconfig.json":()=>i(()=>import("./BQ6yow3M.js"),[],import.meta.url).then(t=>t.default),"./svelte-bootstrap/vite.config.ts":()=>i(()=>import("./BAv7YOyr.js"),[],import.meta.url).then(t=>t.default)}),"","./svelte-bootstrap/",y),_(Object.assign({"./svelte-daisyui/index.html":()=>i(()=>import("./Bc_x1pbm.js"),[],import.meta.url).then(t=>t.default),"./svelte-daisyui/package-lock.json":()=>i(()=>import("./BX4rIC1A.js"),[],import.meta.url).then(t=>t.default),"./svelte-daisyui/package.json":()=>i(()=>import("./t4Hrgpvs.js"),[],import.meta.url).then(t=>t.default),"./svelte-daisyui/src/main.css":()=>i(()=>import("./DMqp1EMY.js"),[],import.meta.url).then(t=>t.default),"./svelte-daisyui/src/vite-env.d.ts":()=>i(()=>import("./CDC67F1K.js"),[],import.meta.url).then(t=>t.default),"./svelte-daisyui/svelte.config.js":()=>i(()=>import("./BtdtTcyg.js"),[],import.meta.url).then(t=>t.default),"./svelte-daisyui/tsconfig.json":()=>i(()=>import("./C_lTJ7ze.js"),[],import.meta.url).then(t=>t.default),"./svelte-daisyui/vite.config.ts":()=>i(()=>import("./CdjHn5n5.js"),[],import.meta.url).then(t=>t.default)}),"","./svelte-daisyui/",m),(t,e)=>{t.files["src/main.ts"]=`import "./main.css";
import {mount} from 'svelte';
import App from ${JSON.stringify(`./${e.files.svelte.entryPoint}`)};
${m(e)?`import '@tailwindcss/browser';
`:""}
const app = mount(App, {target: document.getElementById('root')!});
export default app;`,t.template="node"}]}),nt=async(t,e,r)=>{const o={title:`AgnosUI ${e} demo - ${t.componentName} - ${t.sampleName} (${t.style})`,files:{},template:"node"},n=t.files[e],{entryPoint:s,files:a}=n,l=[_(a,"src/"),...r[e]];for(const c of l)await c(o,t,e);const d=[s,...Object.keys(a).filter(c=>c!=s)].map(c=>`src/${c}`).join(",");return{project:o,openFile:d}},st=()=>it(),at=st(),lt=async(t,e)=>{const{project:r,openFile:o}=await nt(t,e,at);ot.openProject(r,{newWindow:!0,openFile:o})};export{lt as openInStackblitz};
