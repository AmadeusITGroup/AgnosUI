import{r as i,j as m}from"./App-XYQ6f2LA.js";import{f as W,F as p}from"./stores-HF2X-Ulc.js";import{o as g,w as b,b as d,d as l}from"./dom-DD1hAVZy-CRhXymqz.js";import{a as x,b as y}from"./stores-BWQ6d_4B-6K7yTK4p.js";const f=(e,t,r=1/0)=>{if(t!==void 0)if(typeof t=="object"&&t&&r>=1){e||(e={});for(const s of Object.keys(t))Object.prototype.hasOwnProperty.call(t,s)&&(s==="__proto__"||s==="constructor"||(e[s]=f(e[s],t[s],r-1)))}else return t;return e},C=(e,t=g)=>{const r=b({}),s=t===g?e:d(()=>t(f({},e?.(),2)));return l(d(()=>f(f({},s?.(),2),r(),2)),{...r,own$:r,adaptedParent$:s,parent$:e})};function v(e,t={},r){const s=i.useMemo(()=>e({...r,props:{...r?.props,...t}}),[]),o=i.useRef(t);return i.useMemo(()=>{const n=W(o.current,t);o.current=t,n&&s.patch(n)},[t]),{state:x(s.stores),api:s.api,directives:s.directives}}const j=(e=i.createContext(void 0))=>{const t=(o,c)=>{const n=i.useContext(e),u=y(c);return i.useMemo(()=>d(()=>({...u(),...o?n?.()[o]:void 0})),[u,o,n])};return{WidgetsConfigContext:e,useWidgetContext:t,useWidget:(o,c,n)=>v(o,c,{config:t(o[p],n)}),WidgetsDefaultConfig:({children:o,adaptParentConfig:c,...n})=>{const u=i.useContext(e),a=i.useMemo(()=>C(u,c),[u,c]);return i.useMemo(()=>a.set(n),[n,a]),m.jsx(e,{value:a,children:o})}}},{useWidget:O}=j();export{O as u,j as w};
