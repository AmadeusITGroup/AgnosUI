import{Z as a,$ as ze,Y as A,a1 as se,a2 as oe,I as de,f as P,h as H,s as J,d as T,a as Se,L as Ce,M as _e,b as Me,j as Z,p as xe,e as L,v as Te}from"./AppCommon-Wa4AmAan.js";import{a as k}from"./actions-D7IIRiiZ.js";import{S as K}from"./Slot-DFH2C-kU.js";import{c as Ve}from"./config-_cCvVkuj.js";import{p as ne,r as He,a as Pe,f as Ee,s as Be}from"./focusElement-B1nSPubH.js";import{c as Ne}from"./pointerdownPosition-BorTzqud.js";import{c as ce}from"./baseTransitions-COHS6YM7.js";import{n as l,d as G,e as Ae,m as g,a as h,i as Le,f as We}from"./dom-DD1hAVZy-DF7A35x4.js";import{w as Re,b as Fe,s as Ie,t as V}from"./stores-Cnqi-Xzl.js";import{c as le}from"./widget-dYgkJFv4.js";import{d as Oe,c as x,b as v,e as Ye,t as W}from"./writables-Is1bF1Vt-BG3Pzxwh.js";import{e as Xe}from"./extendWidget-Bk2kvPn-.js";import{c as je,a as qe}from"./collapse-CVjUhnIz-DXNwVaDp.js";import{f as Ue}from"./fade-uOobJKgw-CJdm4xxN.js";const Ze={animated:!0,ariaDescribedBy:"",ariaLabelledBy:"",backdropClass:"",backdropTransition:l,className:"w-full",visible:!1,container:typeof window<"u"?document.body:null,transition:l,verticalTransition:l,onHidden:l,onShown:l,onSizeChange:l,onVisibleChange:l,onMinimizedChange:l,onMaximizedChange:l,onResizingChange:l,resizable:!1,backdrop:!0,bodyScroll:!1,size:null},Ge={animated:x,ariaDescribedBy:W,ariaLabelledBy:W,backdropClass:W,backdropTransition:v,className:W,visible:x,transition:v,verticalTransition:v,container:Ye,onHidden:v,onShown:v,onSizeChange:v,onVisibleChange:v,onMinimizedChange:v,onMaximizedChange:v,onResizingChange:v,resizable:x,backdrop:x,bodyScroll:x,size:Oe},Je=le("drawer",p=>{const[{backdrop$:t,backdropTransition$:n,backdropClass$:f,bodyScroll$:b,transition$:$,verticalTransition$:z,visible$:S,container$:u,className$:w,size$:R,animated$:m,ariaDescribedBy$:Q,ariaLabelledBy$:F,onHidden$:E,onShown$:B,onSizeChange$:I,onVisibleChange$:O,onMinimizedChange$:Y,onMaximizedChange$:c,onResizingChange$:r,...s},X]=Re(Ze,p,Ge),C=Fe(R,I,e=>e&&Math.round(e)),D=a(()=>["block-start","block-end"].some(o=>w().includes(o))),i=ce({props:{animated:m,animatedOnInit:m,transition:ze(a(()=>D()?z():$())),visible:S,onVisibleChange:O,onHidden:E,onShown:B}}),_=G(ne,a(()=>({container:u()}))),{directive:M,element$:j}=Ae(),ve=g(M,h(()=>({attributes:{class:w,role:A("dialog"),"aria-describedby":Q,"aria-labelledby":F,"aria-modal":A("true"),tabIndex:A("-1")},styles:{position:a(()=>{const e=u();return e&&Le(e)&&e!==document.body?"relative":"fixed"}),outline:A("none")},events:{keydown:async e=>{e.key==="Escape"&&await i.api.hide()}}}))),ee=ce({props:{animated:m,transition:n}}),pe=G(ne,a(()=>{const e=u(),o=e?i.stores.element$():void 0;return{container:e,insertBefore:o?.parentElement===e?o:void 0}})),be=a(()=>(b()||(U()?Pe():He()),!t()||U())),ue=h(()=>({attributes:{class:f,"data-agnos-ignore-inert":V},events:{click:async()=>await i.api.hide()}})),me=a(()=>["inline-start","block-start"].some(e=>w().includes(e))?1:-1),ie=se(void 0),te=se(void 0);function q(e){const o=j(),d=D();e=Math.round(Math.max(0,e)),o.style[d?"height":"width"]=`${e}px`;const y=Math.round(o[d?"offsetHeight":"offsetWidth"]);return C.set(y),ie.set(e!=null&&(e<y||e===0)),te.set(!!e&&e>y),y}const fe=g(Ne(e=>{const o=j(),d=D(),y=o[d?"offsetHeight":"offsetWidth"],ae=d?"clientY":"clientX",De=e[ae],ye=me();let N=!1;return{onMove(ke){q(y+ye*(ke[ae]-De)),N||(N=!0,r()(!0))},onEnd(){o.style[d?"height":"width"]="",N&&(r()(!1),N=!1)}}}),h(()=>({events:{keydown:e=>{const{key:o}=e,d=C()||j()?.[D()?"offsetHeight":"offsetWidth"];if(d!=null)switch(o){case"ArrowLeft":case"ArrowDown":r()(!0),q(d-10),r()(!1);break;case"ArrowRight":case"ArrowUp":r()(!0),q(d+10),r()(!1);break}}}}))),re=i.stores.visible$,ge=a(()=>i.stores.transitioning$()||ee.stores.transitioning$()),U=a(()=>!ge()&&!re()),he=a(()=>{const e=ie();e!=null&&oe(()=>Y()(e))}),$e=a(()=>{const e=te();e!=null&&oe(()=>c()(e))}),we=a(()=>{he(),$e()});return{...Ie({...s,backdropClass$:f,className$:w,container$:u,size$:C,visible$:re,backdropHidden$:be,hidden$:U}),patch:X,api:{open:i.api.show,close:i.api.hide},directives:{drawerPortalDirective:_,drawerDirective:g(We(we),ve,G(Be,a(()=>!b())),i.directives.directive,Ee),backdropPortalDirective:pe,backdropDirective:g(ee.directives.directive,ue),splitterDirective:fe}}}),Ke={structure:void 0,header:void 0,children:void 0},Qe={structure:void 0,header:void 0,children:void 0},ei={backdropTransition:Ue,transition:qe,verticalTransition:je},ii=le("drawer",p=>{const t=Xe(Je,Ke,Qe,ei)(p);return{...t,directives:{...t.directives,drawerDirective:g(h(()=>({classNames:{"au-drawer":V,show:t.stores.visible$},styles:{"--bs-drawer-size":a(()=>{const n=t.stores.size$();return n==null?void 0:n+"px"})}})),t.directives.drawerDirective),backdropDirective:g(t.directives.backdropDirective,h(()=>({classNames:{"au-drawer-backdrop":V,show:t.stores.visible$}}))),splitterDirective:g(t.directives.splitterDirective,h(()=>({classNames:{"au-splitter":V}}))),containerDirective:h(()=>({classNames:{"au-drawer-container":V}}))}}}),ti=ii;var ri=P('<div class="au-drawer-content"><div class="au-drawer-header"><!></div> <div class="au-drawer-body"><!></div></div>');function ai(p,t){let n=de(t,["$$slots","$$events","$$legacy"]),{state:f}=n;var b=ri(),$=H(b),z=H($);K(z,{get content(){return f.header},get props(){return n}});var S=J($,2),u=H(S);K(u,{get content(){return f.children},get props(){return n}}),T(p,b)}const si=(p,t=_e)=>{ai(p,Te(t))};var oi=P("<div></div>"),ni=P("<div><div><!></div> <!></div>"),ci=P("<div></div>"),di=P("<!> <!>",1);function Si(p,t){Se(t,!0);let n=Ce(t,"visible",15),f=de(t,["$$slots","$$events","$$legacy","visible"]);const b=Ve(ti,{get props(){return{...f,visible:n()}},defaultConfig:{structure:si},events:{onVisibleChange:c=>{n(c)}}}),{directives:{backdropDirective:$,backdropPortalDirective:z,drawerDirective:S,drawerPortalDirective:u,containerDirective:w,splitterDirective:R},state:m}=b;var F={api:b.api},E=di(),B=Me(E);{var I=c=>{var r=ni();L(r,i=>({...i}),[()=>({})]);var s=H(r);L(s,i=>({...i}),[()=>({})]);var X=H(s);K(X,{get content(){return m.structure},get props(){return b}}),k(s,i=>w?.(i));var C=J(s,2);{var D=i=>{var _=oi();L(_,M=>({tabindex:"0",...M}),[()=>({})]),k(_,M=>R?.(M)),T(i,_)};Z(C,i=>{m.resizable&&i(D)})}k(r,i=>u?.(i)),k(r,i=>S?.(i)),T(c,r)};Z(B,c=>{m.hidden||c(I)})}var O=J(B,2);{var Y=c=>{var r=ci();L(r,s=>({...s}),[()=>({})]),k(r,s=>z?.(s)),k(r,s=>$?.(s)),T(c,r)};Z(O,c=>{m.backdropHidden||c(Y)})}return T(p,E),xe(F)}export{Si as D};
