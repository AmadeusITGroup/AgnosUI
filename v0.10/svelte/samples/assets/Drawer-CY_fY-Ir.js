import{Z as a,$ as Se,Y as N,a1 as se,a2 as ne,I as de,f as H,h as V,s as J,d as x,a as Ce,L as _e,M as Me,b as xe,j as Z,p as Te,e as A,v as Ve}from"./AppCommon-CwgpheFC.js";import{a as k}from"./actions-BYm8bsEM.js";import{S as K}from"./Slot-D3mVoTX5.js";import{c as He}from"./config-461P0FvU.js";import{p as oe,r as Pe,a as Ee,s as Be,f as Ne}from"./focusElement-BkW1RdHj.js";import{c as Ae}from"./pointerdownPosition-4c3LTl0c.js";import{c as ce}from"./baseTransitions-C_67dO6I.js";import{n as v,d as G,e as Ie,m as $,a as h,i as Le,f as Oe,g as We}from"./dom-iY0R3D7u-B4H-kIla.js";import{w as Re,b as Fe,s as Ye,t as T}from"./stores-Zo5ehpUA.js";import{c as le}from"./widget-DZPJugrQ.js";import{c as z,d as Xe,b as p,e as je,t as I}from"./writables-Is1bF1Vt-DduVNjup.js";import{e as qe}from"./extendWidget-BbVO4Y6F.js";import{c as Ue,a as Ze}from"./collapse-CVjUhnIz-DHcd3imW.js";import{f as Ge}from"./fade-uOobJKgw-DHhDPDWE.js";const Je={animated:!0,ariaDescribedBy:"",ariaLabelledBy:"",backdropClass:"",backdropTransition:v,className:"w-full",visible:!1,container:typeof window<"u"?document.body:null,transition:v,verticalTransition:v,onHidden:v,onShown:v,onSizeChange:v,onVisibleChange:v,onMinimizedChange:v,onMaximizedChange:v,onResizingChange:v,resizable:!1,backdrop:!0,bodyScroll:!1,size:null,focusOnInit:!0},Ke={animated:z,ariaDescribedBy:I,ariaLabelledBy:I,backdropClass:I,backdropTransition:p,className:I,visible:z,transition:p,verticalTransition:p,container:je,onHidden:p,onShown:p,onSizeChange:p,onVisibleChange:p,onMinimizedChange:p,onMaximizedChange:p,onResizingChange:p,resizable:z,backdrop:z,bodyScroll:z,size:Xe,focusOnInit:z},Qe=le("drawer",b=>{const[{backdrop$:t,backdropTransition$:c,backdropClass$:g,bodyScroll$:u,transition$:w,verticalTransition$:S,visible$:C,container$:m,className$:D,size$:L,animated$:f,ariaDescribedBy$:Q,ariaLabelledBy$:O,onHidden$:P,onShown$:E,onSizeChange$:W,onVisibleChange$:R,onMinimizedChange$:F,onMaximizedChange$:d,onResizingChange$:r,focusOnInit$:s,...Y},X]=Re(Je,b,Ke),_=Fe(L,W,e=>e&&Math.round(e)),i=a(()=>["block-start","block-end"].some(o=>D().includes(o))),n=ce({props:{animated:f,animatedOnInit:f,transition:Se(a(()=>i()?S():w())),visible:C,onVisibleChange:R,onHidden:P,onShown:E}}),M=G(oe,a(()=>({container:m()}))),{directive:ve,element$:j}=Ie(),pe=$(ve,h(()=>({attributes:{class:D,role:N("dialog"),"aria-describedby":Q,"aria-labelledby":O,"aria-modal":N("true"),tabIndex:N("-1")},styles:{position:a(()=>{const e=m();return e&&Le(e)&&e!==document.body?"relative":"fixed"}),outline:N("none")},events:{keydown:async e=>{e.key==="Escape"&&await n.api.hide()}}}))),ee=ce({props:{animated:f,transition:c}}),be=G(oe,a(()=>{const e=m(),o=e?n.stores.element$():void 0;return{container:e,insertBefore:o?.parentElement===e?o:void 0}})),ue=a(()=>(u()||(U()?Ee():Pe()),!t()||U())),me=h(()=>({attributes:{class:g,"data-agnos-ignore-inert":T},events:{click:async()=>await n.api.hide()}})),fe=a(()=>["inline-start","block-start"].some(e=>D().includes(e))?1:-1),ie=se(void 0),te=se(void 0);function q(e){const o=j(),l=i();e=Math.round(Math.max(0,e)),o.style[l?"height":"width"]=`${e}px`;const y=Math.round(o[l?"offsetHeight":"offsetWidth"]);return _.set(y),ie.set(e!=null&&(e<y||e===0)),te.set(!!e&&e>y),y}const ge=$(Ae(e=>{const o=j(),l=i(),y=o[l?"offsetHeight":"offsetWidth"],ae=l?"clientY":"clientX",ye=e[ae],ke=fe();let B=!1;return{onMove(ze){q(y+ke*(ze[ae]-ye)),B||(B=!0,r()(!0))},onEnd(){o.style[l?"height":"width"]="",B&&(r()(!1),B=!1)}}}),h(()=>({events:{keydown:e=>{const{key:o}=e,l=_()||j()?.[i()?"offsetHeight":"offsetWidth"];if(l!=null)switch(o){case"ArrowLeft":case"ArrowDown":r()(!0),q(l-10),r()(!1);break;case"ArrowRight":case"ArrowUp":r()(!0),q(l+10),r()(!1);break}}}}))),re=n.stores.visible$,$e=a(()=>n.stores.transitioning$()||ee.stores.transitioning$()),U=a(()=>!$e()&&!re()),he=a(()=>{const e=ie();e!=null&&ne(()=>F()(e))}),we=a(()=>{const e=te();e!=null&&ne(()=>d()(e))}),De=a(()=>{he(),we()});return{...Ye({...Y,backdropClass$:g,className$:D,container$:m,size$:_,visible$:re,backdropHidden$:ue,hidden$:U,isVertical$:i}),patch:X,api:{open:n.api.show,close:n.api.hide},directives:{drawerPortalDirective:M,drawerDirective:$(We(De),pe,G(Be,a(()=>!u())),n.directives.directive,Oe(Ne,s)),backdropPortalDirective:be,backdropDirective:$(ee.directives.directive,me),splitterDirective:ge}}}),ei={structure:void 0,header:void 0,children:void 0},ii={structure:void 0,header:void 0,children:void 0},ti={backdropTransition:Ge,transition:Ze,verticalTransition:Ue},ri=le("drawer",b=>{const t=qe(Qe,ei,ii,ti)(b);return{...t,directives:{...t.directives,drawerDirective:$(h(()=>({classNames:{"au-drawer":T,show:t.stores.visible$},styles:{"--bs-drawer-size":a(()=>{const c=t.stores.size$();return c==null?void 0:c+"px"})}})),t.directives.drawerDirective),backdropDirective:$(t.directives.backdropDirective,h(()=>({classNames:{"au-drawer-backdrop":T,show:t.stores.visible$}}))),splitterDirective:$(t.directives.splitterDirective,h(()=>({classNames:{"au-splitter":T}}))),containerDirective:h(()=>({classNames:{"au-drawer-container":T}}))}}}),ai=ri;var si=H('<div class="au-drawer-content"><div class="au-drawer-header"><!></div> <div class="au-drawer-body"><!></div></div>');function ni(b,t){let c=de(t,["$$slots","$$events","$$legacy"]),{state:g}=c;var u=si(),w=V(u),S=V(w);K(S,{get content(){return g.header},get props(){return c}});var C=J(w,2),m=V(C);K(m,{get content(){return g.children},get props(){return c}}),x(b,u)}const oi=(b,t=Me)=>{ni(b,Ve(t))};var ci=H("<div></div>"),di=H("<div><div><!></div> <!></div>"),li=H("<div></div>"),vi=H("<!> <!>",1);function _i(b,t){Ce(t,!0);let c=_e(t,"visible",15),g=de(t,["$$slots","$$events","$$legacy","visible"]);const u=He(ai,{get props(){return{...g,visible:c()}},defaultConfig:{structure:oi},events:{onVisibleChange:d=>{c(d)}}}),{directives:{backdropDirective:w,backdropPortalDirective:S,drawerDirective:C,drawerPortalDirective:m,containerDirective:D,splitterDirective:L},state:f}=u;var O={api:u.api},P=vi(),E=xe(P);{var W=d=>{var r=di();A(r,i=>({...i}),[()=>({})]);var s=V(r);A(s,i=>({...i}),[()=>({})]);var Y=V(s);K(Y,{get content(){return f.structure},get props(){return u}}),k(s,i=>D?.(i));var X=J(s,2);{var _=i=>{var n=ci();A(n,M=>({tabindex:"0",...M}),[()=>({})]),k(n,M=>L?.(M)),x(i,n)};Z(X,i=>{f.resizable&&i(_)})}k(r,i=>m?.(i)),k(r,i=>C?.(i)),x(d,r)};Z(E,d=>{f.hidden||d(W)})}var R=J(E,2);{var F=d=>{var r=li();A(r,s=>({...s}),[()=>({})]),k(r,s=>S?.(s)),k(r,s=>w?.(s)),x(d,r)};Z(R,d=>{f.backdropHidden||d(F)})}return x(b,P),Te(O)}export{_i as D};
