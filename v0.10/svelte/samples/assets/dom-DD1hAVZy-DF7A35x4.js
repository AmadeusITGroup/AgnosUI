import{a1 as l,a0 as u,ae as f,Y as C,Z as N}from"./AppCommon-Wa4AmAan.js";const O=()=>{},U=e=>e;function p(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=p(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function S(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=p(e))&&(s&&(s+=" "),s+=t);return s}const d=(e=>{const t=e?.ownerDocument?.defaultView??window;return e instanceof t.HTMLElement}),b=e=>(t,r)=>{if(d(t))return e(t,r)},A=(e,t)=>r=>{let s=!0,n;const i=t.subscribe(a=>{s?(s=!1,n=e(r,a)):n?.update?.(a)});return{destroy(){n?.destroy?.(),i()}}},w=C(void 0),T=e=>A(e,w),H=(e,t=!0)=>()=>{const r=e.subscribe(O);return{destroy:async()=>{t&&await Promise.resolve(),r()}}},m={equal:Object.is},E=()=>{const e=l([],m);return f(e,{register:t=>{let r=!1;return e.update(s=>[...s,t]),()=>{r||(r=!0,e.update(s=>{const n=s.indexOf(t);if(n>-1){const i=[...s];return i.splice(n,1),i}return s}))}}})},y=()=>{const e=E();return{elements$:f(e),directive:(t,r=!0)=>{let s;const n=(i=!0)=>{!!i!=!!s&&(i?s=e.register(t):(s?.(),s=void 0))};return n(r),{destroy:()=>n(!1),update:n}}}},I=()=>{const{directive:e,elements$:t}=y();return{directive:T(e),elements$:t}},R=()=>{const{directive:e,elements$:t}=I();return{directive:b(e),elements$:t}},W=()=>{const{directive:e,elements$:t}=y();return{directive:b(e),elements$:t}},$=()=>{const e=l(null,m);return{element$:f(e),directive:t=>{let r=!1;return e.update(s=>s?(console.error("The directive cannot be used on multiple elements.",s,t),s):(r=!0,t)),r?{destroy(){e.update(s=>t===s?null:s)}}:void 0}}},Y=()=>{const{directive:e,element$:t}=$();return{directive:b(e),element$:t}},z=(...e)=>(t,r)=>{const s=u(()=>e.map(n=>n(t,r)));return{update(n){u(()=>s.forEach(i=>i?.update?.(n)))},destroy(){u(()=>s.reverse().forEach(n=>n?.destroy?.()))}}},L=e=>(t,r)=>{const s=[],n=l(r),{events:i,attributes:a,styles:h,classNames:D}=e(n);if(d(t))for(const[o,c]of Object.entries(i??{}))typeof c=="function"?s.push(v(t,o,c)):s.push(v(t,o,c.handler,c.options));for(const[o,c]of Object.entries(a??{}))c!=null&&s.push(B(t,o,c));for(const[o,c]of Object.entries(h??{}))c&&s.push(k(t,o,c));for(const[o,c]of Object.entries(D??{}))s.push(x(t,o,c));return{update:o=>n.set(o),destroy:()=>s.forEach(o=>o())}},V=L(e=>({attributes:{class:N(()=>S(e()))}})),Z=e=>{const t=e.length;if(t===0)return null;let r=e[0];for(let s=1;s<t&&r;s++){const n=e[s];for(;r&&r!==n;){const i=r.compareDocumentPosition(n);if(i&Node.DOCUMENT_POSITION_CONTAINED_BY)break;if(i&Node.DOCUMENT_POSITION_CONTAINS){r=n;break}else if(i&Node.DOCUMENT_POSITION_DISCONNECTED)return null;r=r.parentElement}}return r},F=(e=document.body)=>{d(e)&&e.getBoundingClientRect()},G=(e,t)=>{t&&t.length>0&&e.classList.add(...t)},J=(e,t)=>{t&&t.length>0&&e.classList.remove(...t)};function v(e,t,r,s){return e.addEventListener(t,r,s),function(){e.removeEventListener(t,r,s)}}let j=0;const K=()=>`auId-${j++}`,g=e=>e!=null&&e!==!1;function P(e,t){let r=new Set;return t.subscribe(s=>{const n=new Set(`${s??""}`.split(" "));n.delete("");const i=e.classList;for(const a of r)n.has(a)||i.remove(a);n.size>0&&i.add(...n),r=n})}function _(e,t,r){return r.subscribe(s=>{g(s)?e.setAttribute(t,""+(s===!0?t:s)):e.removeAttribute(t)})}function B(e,t,r){return t==="class"?P(e,r):_(e,t,r)}const M=e=>e.startsWith("--");function k(e,t,r){return r.subscribe(s=>{const n=e.style;s=""+(g(s)?s:""),M(t)?n.setProperty(t,s):n[t]=s})}function x(e,t,r){const s=r.subscribe(n=>{e.classList.toggle(t,n)});return()=>{s(),e.classList.remove(t)}}export{L as a,b,V as c,A as d,Y as e,H as f,v as g,U as h,d as i,K as j,J as k,G as l,z as m,O as n,F as o,$ as p,Z as q,E as r,W as s,R as t,T as u};
