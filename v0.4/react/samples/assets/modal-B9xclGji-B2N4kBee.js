import{a as p,j as t,r as n,c as u}from"./App-D2FAakDZ.js";import{u as f,S as a}from"./config-87LujZOd.js";import{a as l,u as v}from"./directive-Kqp31pwt-o0igtPiy.js";import{c as j}from"./modal-CeTI4jxI-GRmunsqm.js";import{f as d}from"./fade-uOobJKgw-BJsoKbPR.js";import{e as x}from"./extendWidget-CY6dlHOY.js";import{t as g}from"./writables-DoU_XYTX-8sqxFTfY.js";import{c as h}from"./index-D735YuCH.js";import{t as D,c as m}from"./directive-3-8yr-ZK-C5h7Dwqe.js";const S={contentData:void 0,children:void 0,slotFooter:void 0,slotHeader:void 0,slotStructure:void 0,slotTitle:void 0,fullscreen:!1},b={backdropTransition:d,modalTransition:d},w={fullscreen:g},M=x(j,S,w,b),N=({children:e,container:o})=>o?p.createPortal(e,o):t.jsx(t.Fragment,{children:e}),E=M,k=({directive:e})=>t.jsx("button",{className:"btn-close",...v(e)}),F=e=>t.jsxs(t.Fragment,{children:[t.jsx("h5",{className:"modal-title",children:t.jsx(a,{slotContent:e.state.slotTitle,props:e})}),e.state.closeButton&&t.jsx(k,{directive:e.widget.directives.closeButtonDirective})]}),H=e=>t.jsxs(t.Fragment,{children:[e.state.slotTitle&&t.jsx("div",{className:"modal-header",children:t.jsx(a,{slotContent:e.state.slotHeader,props:e})}),t.jsx("div",{className:"modal-body",children:t.jsx(a,{slotContent:e.state.children,props:e})}),e.state.slotFooter&&t.jsx("div",{className:"modal-footer",children:t.jsx(a,{slotContent:e.state.slotFooter,props:e})})]}),T={slotHeader:F,slotStructure:H},y=({widget:e})=>t.jsx("div",{...l([m,"modal-backdrop"],e.directives.backdropDirective)}),B=e=>{const{fullscreen:o}=e.state;return t.jsx("div",{...l([m,"modal d-block"],e.widget.directives.modalDirective),children:t.jsx("div",{className:h("modal-dialog",{"modal-fullscreen":o}),children:t.jsx("div",{className:"modal-content",children:t.jsx(a,{slotContent:e.state.slotStructure,props:e})})})})},P=n.forwardRef(function(o,r){const[s,i]=f(E,o,"modal",T);n.useImperativeHandle(r,()=>i.api,[]);const c={state:s,widget:D(i)};return t.jsxs(N,{container:s.container,children:[!s.backdropHidden&&t.jsx(y,{...c}),!s.hidden&&t.jsx(B,{...c})]})});async function G(e){const o=u.createRoot(document.createElement("div"));try{return await(await new Promise(s=>{o.render(t.jsx(P,{...e,ref:s}))})).open()}finally{o.unmount()}}export{P as M,G as o};
