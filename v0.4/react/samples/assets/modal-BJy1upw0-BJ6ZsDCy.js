import{a as p,j as t,r as n,c as u}from"./App-CxtE82cU.js";import{u as f,S as a}from"./config-C3kGgTWE.js";import{a as l,u as v}from"./directive-Kqp31pwt-COBoBQl9.js";import{c as j}from"./modal-CeTI4jxI-GRmunsqm.js";import{f as d}from"./fade-uOobJKgw-BJsoKbPR.js";import{e as h}from"./extendWidget-CY6dlHOY.js";import{t as x}from"./writables-DoU_XYTX-8sqxFTfY.js";import{c as g}from"./index-WxqJ1Dwf.js";import{t as D,c as m}from"./directive-3-8yr-ZK-C5h7Dwqe.js";const b={contentData:void 0,children:void 0,footer:void 0,header:void 0,structure:void 0,title:void 0,fullscreen:!1},w={backdropTransition:d,modalTransition:d},M={fullscreen:x},N=h(j,b,M,w),E=({children:e,container:o})=>o?p.createPortal(e,o):t.jsx(t.Fragment,{children:e}),k=N,S=({directive:e})=>t.jsx("button",{className:"btn-close",...v(e)}),y=e=>t.jsxs(t.Fragment,{children:[t.jsx("h5",{className:"modal-title",children:t.jsx(a,{slotContent:e.state.title,props:e})}),e.state.closeButton&&t.jsx(S,{directive:e.widget.directives.closeButtonDirective})]}),B=e=>t.jsxs(t.Fragment,{children:[e.state.title&&t.jsx("div",{className:"modal-header",children:t.jsx(a,{slotContent:e.state.header,props:e})}),t.jsx("div",{className:"modal-body",children:t.jsx(a,{slotContent:e.state.children,props:e})}),e.state.footer&&t.jsx("div",{className:"modal-footer",children:t.jsx(a,{slotContent:e.state.footer,props:e})})]}),P={header:y,structure:B},W=({widget:e})=>t.jsx("div",{...l([m,"modal-backdrop"],e.directives.backdropDirective)}),F=e=>{const{fullscreen:o}=e.state;return t.jsx("div",{...l([m,"modal d-block"],e.widget.directives.modalDirective),children:t.jsx("div",{className:g("modal-dialog",{"modal-fullscreen":o}),children:t.jsx("div",{className:"modal-content",children:t.jsx(a,{slotContent:e.state.structure,props:e})})})})},H=n.forwardRef(function(o,r){const[s,i]=f(k,o,"modal",P);n.useImperativeHandle(r,()=>i.api,[]);const c={state:s,widget:D(i)};return t.jsxs(E,{container:s.container,children:[!s.backdropHidden&&t.jsx(W,{...c}),!s.hidden&&t.jsx(F,{...c})]})});async function G(e){const o=u.createRoot(document.createElement("div"));try{return await(await new Promise(s=>{o.render(t.jsx(H,{...e,ref:s}))})).open()}finally{o.unmount()}}export{H as M,G as o};
