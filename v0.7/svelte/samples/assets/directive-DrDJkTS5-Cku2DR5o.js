import{a9 as y,aa as u,ab as _,ac as h,ad as E,ae as T,af as v,W as g,ag as b}from"./AppCommon-BTcEnNQH.js";const V=()=>{},w=e=>e,N=Symbol();function $(e){return function(t){v(()=>{var r;for(const[s,n]of Object.entries(t))(r=e[`${s}$`])==null||r.set(n)})}}function Q(e,t){if(e===t)return null;let r=!1;const s={},n=new Set([...Object.keys(e),...Object.keys(t)]);for(const o of n){const i=t[o];e[o]!==i&&(s[o]=i,r=!0)}return r?s:null}function L(e,t=g(void 0),r={},s=b(void 0)){const{normalizeValue:n=w,equal:o=Object.is}=r,i=()=>e,a=(c,f=i)=>{const p=c===void 0?void 0:n(c);return p===N?(console.error("Not using invalid value",c),f()):p===void 0?f():p},d=u(()=>a(t()),{equal:o}),l=u(()=>a(s(),d),{equal:o});return h(l,c=>{if(c!==void 0){const f=n(c);if(f===N){console.error("Not setting invalid value",c);return}c=f}s.set(c)})}const S=e=>!!(e&&typeof e=="function"&&"subscribe"in e),m=e=>S(e)?e:g(e),j=e=>S(e)?e:b(e),P=(e,t)=>{const r={};if(t){const s=S(t);for(const n of e)r[n]=s?u(()=>t()[n]):m(t[n])}return r},X=(e,t,r)=>{const s={};for(const n of e){const o=t==null?void 0:t[n],i=r==null?void 0:r[n];s[n]=o&&i?u(()=>o()??i()):o||i}return s},q=(e,t,r)=>{const s={},n=Object.keys(e),o=P(n,t==null?void 0:t.config),i=t==null?void 0:t.props;for(const a of n){const d=i==null?void 0:i[a];s[`${a}$`]=L(e[a],o[a],r==null?void 0:r[a],j(d))}return s},Z=(e,t,r)=>{const s=q(e,t,r);return[s,$(s)]},x=e=>{const t=[],r=[],s={};for(const[n,o]of Object.entries(e))n.endsWith("$")&&(t.push(n.substring(0,n.length-1)),r.push(o),s[n]=y(o));return{stores:s,state$:u(()=>{const n=r.map(_),o={};return t.forEach((i,a)=>{o[i]=n[a]}),o})}},ee=(e,t,r=n=>n[0],s=(n,o)=>o===n)=>{let n=t[0]();return h(E(t,{derive(o){const i=r(o),a=!s(o[0],i);return a&&t[0].set(i),(a||!s(n,i))&&(n=i,e()(i)),i},equal:s}),t[0].set.bind(t[0]))},te=(e,t,r=w,s=T)=>h(u(()=>r(e()),{equal:s}),n=>{const o=r(n);s(e(),o)||(e.set(o),t()(o))}),se=e=>{const t=e.length;if(t===0)return null;let r=e[0];for(let s=1;s<t&&r;s++){const n=e[s];for(;r&&r!==n;){const o=r.compareDocumentPosition(n);if(o&Node.DOCUMENT_POSITION_CONTAINED_BY)break;if(o&Node.DOCUMENT_POSITION_CONTAINS){r=n;break}else if(o&Node.DOCUMENT_POSITION_DISCONNECTED)return null;r=r.parentElement}}return r},re=(e=document.body)=>{O(e)&&e.getBoundingClientRect()},ne=(e,t)=>{t&&t.length>0&&e.classList.add(...t)},oe=(e,t)=>{t&&t.length>0&&e.classList.remove(...t)};function D(e,t,r,s){return e.addEventListener(t,r,s),function(){e.removeEventListener(t,r,s)}}let z=0;const ie=()=>`auId-${z++}`,C=e=>e!=null&&e!==!1;function W(e,t){let r=new Set;return t.subscribe(s=>{const n=new Set(`${s??""}`.split(" "));n.delete("");const o=e.classList;for(const i of r)n.has(i)||o.remove(i);n.size>0&&o.add(...n),r=n})}function B(e,t,r){return r.subscribe(s=>{C(s)?e.setAttribute(t,""+(s===!0?t:s)):e.removeAttribute(t)})}function M(e,t,r){return t==="class"?W(e,r):B(e,t,r)}function U(e,t,r){return r.subscribe(s=>{const n=e.style;n[t]=""+(C(s)?s:"")})}function R(e,t,r){const s=r.subscribe(n=>{e.classList.toggle(t,n)});return()=>{s(),e.classList.remove(t)}}function A(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=A(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function H(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=A(e))&&(s&&(s+=" "),s+=t);return s}const O=e=>{var t;const r=((t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)??window;return e instanceof r.HTMLElement},I=e=>(t,r)=>{if(O(t))return e(t,r)},ce=(e,t)=>r=>{let s=!0,n;const o=t.subscribe(i=>{var a;s?(s=!1,n=e(r,i)):(a=n==null?void 0:n.update)==null||a.call(n,i)});return{destroy(){var i;(i=n==null?void 0:n.destroy)==null||i.call(n),o()}}};g(void 0);const ae=(e,t=!0)=>()=>{const r=e.subscribe(V);return{destroy:async()=>{t&&await Promise.resolve(),r()}}},k={equal:Object.is},F=()=>{const e=b([],k);return y(e,{register:t=>{let r=!1;return e.update(s=>[...s,t]),()=>{r||(r=!0,e.update(s=>{const n=s.indexOf(t);if(n>-1){const o=[...s];return o.splice(n,1),o}return s}))}}})},Y=()=>{const e=F();return{elements$:y(e),directive:t=>({destroy:e.register(t)})}},le=()=>{const{directive:e,elements$:t}=Y();return{directive:I(e),elements$:t}},G=()=>{const e=b(null,k);return{element$:y(e),directive:t=>{let r=!1;return e.update(s=>s?(console.error("The directive cannot be used on multiple elements.",s,t),s):(r=!0,t)),r?{destroy(){e.update(s=>t===s?null:s)}}:void 0}}},ue=()=>{const{directive:e,element$:t}=G();return{directive:I(e),element$:t}},de=(...e)=>(t,r)=>{const s=v(()=>e.map(n=>n(t,r)));return{update(n){v(()=>s.forEach(o=>{var i;return(i=o==null?void 0:o.update)==null?void 0:i.call(o,n)}))},destroy(){v(()=>s.reverse().forEach(n=>{var o;return(o=n==null?void 0:n.destroy)==null?void 0:o.call(n)}))}}},J=e=>(t,r)=>{const s=[],n=b(r),{events:o,attributes:i,styles:a,classNames:d}=e(n);if(O(t))for(const[l,c]of Object.entries(o??{}))typeof c=="function"?s.push(D(t,l,c)):s.push(D(t,l,c.handler,c.options));for(const[l,c]of Object.entries(i??{}))c!=null&&s.push(M(t,l,m(c)));for(const[l,c]of Object.entries(a??{}))c&&s.push(U(t,l,m(c)));for(const[l,c]of Object.entries(d??{}))s.push(R(t,l,m(c)));return{update:l=>n.set(l),destroy:()=>s.forEach(l=>l())}},fe=J(e=>({attributes:{class:u(()=>H(e()))}}));export{le as A,ce as B,se as C,N as I,J as a,I as b,fe as c,D as d,X as e,Q as f,ae as g,V as h,w as i,ie as j,O as k,oe as l,de as m,P as n,ne as o,re as p,q,F as r,x as s,m as t,S as u,G as v,Z as w,ee as x,te as y,ue as z};
