"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[661],{6661:(v,u,c)=>{c.r(u),c.d(u,{default:()=>b});var p=c(4795),r=c(6937),e=c(6985);function C(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",5),e._uU(1),e.qZA(),e.TgZ(2,"button",6),e.NdJ("click",function(){const l=e.CHM(t);return e.KtG(l.widget.api.unselect(l.itemContext.item))}),e.qZA()}if(2&n){const t=o.itemContext,i=e.oxw();e.uIk("href",i.basePageUrl+t.item.pageid,e.LSH),e.xp6(1),e.Oqu(t.item.title)}}function _(n,o){if(1&n&&(e.TgZ(0,"div",4),e._uU(1),e.qZA(),e.TgZ(2,"div",7),e._uU(3),e.qZA()),2&n){const t=o.itemContext;e.xp6(1),e.Oqu(t.item.title),e.xp6(2),e.Oqu(t.item.snippet)}}function f(n,o){if(1&n&&(e.TgZ(0,"a",8),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.uIk("href",i.basePageUrl+t.pageid,e.LSH),e.xp6(1),e.Oqu(t.title)}}function h(n,o){if(1&n&&e.SjG(0,f,2,2,"a",9,e.x6l),2&n){const t=e.oxw();e.wJu(t.selected)}}function x(n,o){1&n&&e._uU(0," none ")}const T=new Intl.Collator("en").compare;function S(n){const o=document.createElement("div");return o.innerHTML=n,o.innerText}let b=(()=>{class n{constructor(){var t=this;this.basePageUrl="https://en.wikipedia.org/?curid=",this.items=[],this.selected=[],this.onFilterTextChange=function d(n,o){let t;return(...i)=>{t&&clearTimeout(t),t=setTimeout(()=>{n(...i)},o)}}((n=>{let o;return(...t)=>(o?.abort(),o=new AbortController,n(o.signal,...t))})(function(){var i=(0,p.Z)(function*(l,s){const w=yield(yield fetch("https://en.wikipedia.org/w/api.php?action=query&list=search&prop=info&inprop=url&utf8=&format=json&origin=*&srlimit=5&srsearch="+s,{signal:l})).json();t.items=w.query?.search.map(m=>({...m,snippet:S(m.snippet)}))??[]});return function(l,s){return i.apply(this,arguments)}}()),200)}itemIdFn(t){return"page-"+t.pageid}onSelectedChange(t){this.selected=(t||[]).sort((i,l)=>T(i.title,l.title))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:8,vars:3,consts:[[1,"custom-select","my-auto","mb-3"],["auSelect","","auBadgeClassName","badge text-bg-light d-flex align-items-center",3,"auItems","auItemIdFn","auFilterTextChange","auSelectedChange"],["auSelectBadgeLabel",""],["auSelectItem",""],[1,"fw-bold"],["target","_blank","rel","noreferrer"],["type","button","aria-label","Close",1,"btn-close","ms-1","wiki-btn-close",3,"click"],[1,"text-wrap","wiki-desc"],[1,"pe-2"],["class","pe-2"]],template:function(i,l){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("auFilterTextChange",function(a){return l.onFilterTextChange(a)})("auSelectedChange",function(a){return l.onSelectedChange(a)}),e.YNc(2,C,3,2,"ng-template",2)(3,_,4,2,"ng-template",3),e.qZA(),e.TgZ(4,"span",4),e._uU(5,"Selection: "),e.qZA(),e.YNc(6,h,2,0)(7,x,1,0),e.qZA()),2&i&&(e.xp6(1),e.Q6J("auItems",l.items)("auItemIdFn",l.itemIdFn),e.xp6(5),e.um2(6,l.selected.length?6:7))},dependencies:[r.NS,r.Hr,r.bQ,r.BS],styles:[".custom-select[_ngcontent-%COMP%]{max-width:500px;height:400px}.au-select[_ngcontent-%COMP%]   .wiki-desc[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2}.wiki-btn-close[_ngcontent-%COMP%]{font-size:10px}"]})}return n})()}}]);