import{F as K,G as He,a4 as pe,S as Ue,i as We,s as Ge,Q as se,j as z,f as fe,n as b,g as E,p as V,q as le,w as oe,y as Z,X as Te,Y as Pe,z as y,t as $,a as v,h as H,v as Me,M as Je,b as k,A as ne,L as de,c as A,m as j,d as q,ac as Qe,o as te,ab as Xe,O as ae,l as De,B as ie,C as re,H as U,I as W,J as G,K as J}from"./index-2zKz2ixV.js";import{c as Ye}from"./config-sp8SshpP.js";import{c as Re,o as Ve,a as Ze,b as ye}from"./floatingUI-nO3gQ-BE.js";import{c as xe}from"./focustrack-HLwf-kWP.js";import{n as ce}from"./func-tK0QDe5R.js";import{w as et,b as he,s as tt}from"./stores-iA5ZNWiP.js";import{S as Oe}from"./Slot-2Ge4f3go.js";const st=t=>""+t,lt={id:void 0,ariaLabel:"Select",open:!1,disabled:!1,items:[],filterText:"",loading:!1,selected:[],itemIdFn:st,onOpenChange:ce,onFilterTextChange:ce,onSelectedChange:ce,allowedPlacements:["bottom-start","top-start","bottom-end","top-end"],className:"",menuClassName:"",menuItemClassName:"",badgeClassName:"",slotBadgeLabel:({itemContext:t})=>t.item,slotItem:({itemContext:t})=>t.item};function ot(t){const[{open$:e,filterText$:l,items$:s,itemIdFn$:o,onOpenChange$:n,onFilterTextChange$:c,onSelectedChange$:i,allowedPlacements$:u,..._},a]=et(lt,t),{selected$:r}=_,g=he(c,[l]),{hasFocus$:P,directive:w}=xe(),d=he(n,[e,P],([m,p])=>m&&p),h=K(()=>{const m=new Map,p=o();for(const C of r()){const I=p(C);m.set(I,{item:C,id:p(C),selected:!0})}return m}),F=K(()=>[...h().values()]),T=function(){const m=He(0);return pe(m,p=>{const{length:C}=D();p!=null&&(C?p<0?p=C-1:p>=C&&(p=0):p=void 0),m.set(p)})}(),Q=K(()=>{const m=new Map;if(d()){const p=h(),C=o();for(const I of s()){const N=C(I);m.set(N,{item:I,id:N,selected:p.has(N)})}}return m}),D=K(()=>d()?[...Q().values()]:[]),O=K(()=>{const m=D(),p=T();return m.length&&p!=null?m[p]:void 0}),{directives:{floatingDirective:X,referenceDirective:Y},stores:{placement$:B}}=Re({props:{computePositionOptions:pe(K(()=>({middleware:[Ve(5),Ze({allowedPlacements:u()}),ye()]})))}}),L={...tt({visibleItems$:D,highlighted$:O,open$:d,selectedContexts$:F,filterText$:g,placement$:B,..._}),patch:a,api:{clear(){r.set([])},select(m){L.api.toggleItem(m,!0)},unselect(m){L.api.toggleItem(m,!1)},toggleItem(m,p){const C=o(),I=C(m),M=h().has(I);p==null&&(p=!M),!(p&&!Q().has(I)||!p&&!M)&&r.update(S=>{var R;if(S=[...S],p&&!M)S.push(m);else if(!p&&M){const x=S.findIndex(ee=>C(ee)===I);S.splice(x,1)}return(R=i())==null||R(S),S})},clearText(){},highlight(m){const p=D().findIndex(C=>C.item===m);T.set(p===-1?void 0:p)},highlightFirst(){T.set(0)},highlightPrevious(){T.update(m=>m!=null?m-1:-1)},highlightNext(){T.update(m=>m!=null?m+1:1/0)},highlightLast(){T.set(-1)},focus(m){},focusFirst(){},focusPrevious(){},focusNext(){},focusLast(){},open:()=>L.api.toggle(!0),close:()=>L.api.toggle(!1),toggle(m){e.update(p=>m??!p)}},directives:{hasFocusDirective:w,floatingDirective:X,referenceDirective:Y},actions:{onInput({target:m}){const p=m.value;a({open:p!=null&&p!=="",filterText:p})},onInputKeydown(m){const{ctrlKey:p,key:C}=m;let I=!0;switch(C){case"ArrowDown":{d()?p?L.api.highlightLast():L.api.highlightNext():(L.api.open(),L.api.highlightFirst());break}case"ArrowUp":p?L.api.highlightFirst():L.api.highlightPrevious();break;case"Enter":{const N=O();N&&L.api.toggleItem(N.item);break}case"Escape":e.set(!1);break;default:I=!1}I&&m.preventDefault()}}};return L}const nt=ot;function be(t,e,l){const s=t.slice();return s[45]=e[l],s}const at=t=>({itemContext:t[1]&16384,state:t[1]&524288,widget:t[1]&16}),we=t=>({slot:"badgeLabel",itemContext:t[45],state:t[50],widget:t[35]}),it=t=>({itemContext:t[1]&16384,state:t[1]&524288,widget:t[1]&16}),Ce=t=>({slot:"item",itemContext:t[45],state:t[50],widget:t[35]}),rt=t=>t[1]&131072,ct=t=>({}),$e=t=>({slot:"slot",...t[48]});function ve(t,e,l){const s=t.slice();return s[45]=e[l],s}const ft=t=>({itemContext:t[1]&16384,state:t[1]&524288,widget:t[1]&16}),Le=t=>({slot:"badgeLabel",itemContext:t[45],state:t[50],widget:t[35]}),ut=t=>({itemContext:t[1]&16384,state:t[1]&524288,widget:t[1]&16}),ke=t=>({slot:"item",itemContext:t[45],state:t[50],widget:t[35]}),_t=t=>t[1]&131072,mt=t=>({}),Ie=t=>({slot:"slot",...t[48]});function gt(t){let e;const l=t[39].badgeLabel,s=U(l,t,t[42],Le);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&542736)&&W(s,l,o,o[42],e?J(l,o[42],n,ft):G(o[42]),Le)},i(o){e||($(s,o),e=!0)},o(o){v(s,o),e=!1},d(o){s&&s.d(o)}}}function pt(t){let e;const l=t[39].item,s=U(l,t,t[42],ke);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&542736)&&W(s,l,o,o[42],e?J(l,o[42],n,ut):G(o[42]),ke)},i(o){e||($(s,o),e=!0)},o(o){v(s,o),e=!1},d(o){s&&s.d(o)}}}function dt(t){let e,l,s;const o=[t[48]];var n=t[49];function c(i,u){let _={$$slots:{item:[pt,({widget:a,state:r,itemContext:g})=>({35:a,50:r,45:g}),({widget:a,state:r,itemContext:g})=>[0,(a?16:0)|(r?524288:0)|(g?16384:0)]],badgeLabel:[gt,({widget:a,state:r,itemContext:g})=>({35:a,50:r,45:g}),({widget:a,state:r,itemContext:g})=>[0,(a?16:0)|(r?524288:0)|(g?16384:0)]]},$$scope:{ctx:i}};if(u!==void 0&&u[1]&131072)_=ie(o,[re(i[48])]);else for(let a=0;a<o.length;a+=1)_=ne(_,o[a]);return{props:_}}return n&&(e=ae(n,c(t))),{c(){e&&A(e.$$.fragment),l=De()},m(i,u){e&&j(e,i,u),E(i,l,u),s=!0},p(i,u){if(u[1]&262144&&n!==(n=i[49])){if(e){Z();const _=e;v(_.$$.fragment,1,0,()=>{q(_,1)}),y()}n?(e=ae(n,c(i,u)),A(e.$$.fragment),$(e.$$.fragment,1),j(e,l.parentNode,l)):e=null}else if(n){const _=u[1]&131072?ie(o,[re(i[48])]):{};u[1]&542736&&(_.$$scope={dirty:u,ctx:i}),e.$set(_)}},i(i){s||(e&&$(e.$$.fragment,i),s=!0)},o(i){e&&v(e.$$.fragment,i),s=!1},d(i){i&&H(l),e&&q(e,i)}}}function ht(t){let e;const l=t[39].badgeLabel,s=U(l,t,t[42],Ie);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&133120)&&W(s,l,o,o[42],_t(n)||!e?G(o[42]):J(l,o[42],n,mt),Ie)},i(o){e||($(s,o),e=!0)},o(o){v(s,o),e=!1},d(o){s&&s.d(o)}}}function Fe(t,e){let l,s,o,n;return s=new Oe({props:{slotContent:e[4],props:{state:e[5],widget:e[35],itemContext:e[45]},$$slots:{slot:[ht,({props:c})=>({48:c}),({props:c})=>[0,c?131072:0]],default:[dt,({component:c,props:i})=>({49:c,48:i}),({component:c,props:i})=>[0,(c?262144:0)|(i?131072:0)]]},$$scope:{ctx:e}}}),{key:t,first:null,c(){l=z("div"),A(s.$$.fragment),b(l,"class",o=`au-select-badge me-1 ${e[3]}`),this.first=l},m(c,i){E(c,l,i),j(s,l,null),n=!0},p(c,i){e=c;const u={};i[0]&16&&(u.slotContent=e[4]),i[0]&36&&(u.props={state:e[5],widget:e[35],itemContext:e[45]}),i[1]&395264&&(u.$$scope={dirty:i,ctx:e}),s.$set(u),(!n||i[0]&8&&o!==(o=`au-select-badge me-1 ${e[3]}`))&&b(l,"class",o)},i(c){n||($(s.$$.fragment,c),n=!0)},o(c){v(s.$$.fragment,c),n=!1},d(c){c&&H(l),q(s)}}}function Ne(t){let e,l=[],s=new Map,o,n,c,i,u=se(t[9]);const _=a=>a[45].id;for(let a=0;a<u.length;a+=1){let r=be(t,u,a),g=_(r);s.set(g,l[a]=Se(g,r))}return{c(){e=z("ul");for(let a=0;a<l.length;a+=1)l[a].c();b(e,"class",o="dropdown-menu show "+t[10]),b(e,"data-popper-placement",t[11])},m(a,r){E(a,e,r);for(let g=0;g<l.length;g+=1)l[g]&&l[g].m(e,null);n=!0,c||(i=[oe(t[33].call(null,e)),oe(t[32].call(null,e)),le(e,"mousedown",Qe(t[40]))],c=!0)},p(a,r){r[0]&29216|r[1]&935952&&(u=se(a[9]),Z(),l=Te(l,r,_,1,a,u,s,e,Pe,Se,null,be),y()),(!n||r[0]&1024&&o!==(o="dropdown-menu show "+a[10]))&&b(e,"class",o),(!n||r[0]&2048)&&b(e,"data-popper-placement",a[11])},i(a){if(!n){for(let r=0;r<u.length;r+=1)$(l[r]);n=!0}},o(a){for(let r=0;r<l.length;r+=1)v(l[r]);n=!1},d(a){a&&H(e);for(let r=0;r<l.length;r+=1)l[r].d();c=!1,Me(i)}}}function bt(t){let e;const l=t[39].badgeLabel,s=U(l,t,t[42],we);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&542736)&&W(s,l,o,o[42],e?J(l,o[42],n,at):G(o[42]),we)},i(o){e||($(s,o),e=!0)},o(o){v(s,o),e=!1},d(o){s&&s.d(o)}}}function wt(t){let e;const l=t[39].item,s=U(l,t,t[42],Ce);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&542736)&&W(s,l,o,o[42],e?J(l,o[42],n,it):G(o[42]),Ce)},i(o){e||($(s,o),e=!0)},o(o){v(s,o),e=!1},d(o){s&&s.d(o)}}}function Ct(t){let e,l,s;const o=[t[48]];var n=t[49];function c(i,u){let _={$$slots:{item:[wt,({widget:a,state:r,itemContext:g})=>({35:a,50:r,45:g}),({widget:a,state:r,itemContext:g})=>[0,(a?16:0)|(r?524288:0)|(g?16384:0)]],badgeLabel:[bt,({widget:a,state:r,itemContext:g})=>({35:a,50:r,45:g}),({widget:a,state:r,itemContext:g})=>[0,(a?16:0)|(r?524288:0)|(g?16384:0)]]},$$scope:{ctx:i}};if(u!==void 0&&u[1]&131072)_=ie(o,[re(i[48])]);else for(let a=0;a<o.length;a+=1)_=ne(_,o[a]);return{props:_}}return n&&(e=ae(n,c(t))),{c(){e&&A(e.$$.fragment),l=De()},m(i,u){e&&j(e,i,u),E(i,l,u),s=!0},p(i,u){if(u[1]&262144&&n!==(n=i[49])){if(e){Z();const _=e;v(_.$$.fragment,1,0,()=>{q(_,1)}),y()}n?(e=ae(n,c(i,u)),A(e.$$.fragment),$(e.$$.fragment,1),j(e,l.parentNode,l)):e=null}else if(n){const _=u[1]&131072?ie(o,[re(i[48])]):{};u[1]&542736&&(_.$$scope={dirty:u,ctx:i}),e.$set(_)}},i(i){s||(e&&$(e.$$.fragment,i),s=!0)},o(i){e&&v(e.$$.fragment,i),s=!1},d(i){i&&H(l),e&&q(e,i)}}}function $t(t){let e;const l=t[39].item,s=U(l,t,t[42],$e);return{c(){s&&s.c()},m(o,n){s&&s.m(o,n),e=!0},p(o,n){s&&s.p&&(!e||n[1]&133120)&&W(s,l,o,o[42],rt(n)||!e?G(o[42]):J(l,o[42],n,ct),$e)},i(o){e||($(s,o),e=!0)},o(o){v(s,o),e=!1},d(o){s&&s.d(o)}}}function Se(t,e){let l,s,o,n,c,i,u;s=new Oe({props:{slotContent:e[14],props:{state:e[5],widget:e[35],itemContext:e[45]},$$slots:{slot:[$t,({props:a})=>({48:a}),({props:a})=>[0,a?131072:0]],default:[Ct,({component:a,props:r})=>({49:a,48:r}),({component:a,props:r})=>[0,(a?262144:0)|(r?131072:0)]]},$$scope:{ctx:e}}});function _(){return e[41](e[45])}return{key:t,first:null,c(){l=z("li"),A(s.$$.fragment),o=fe(),b(l,"class",n=`au-select-item dropdown-item position-relative ${e[12]}`),te(l,"bg-light",e[45]===e[13]),te(l,"selected",e[45].selected),this.first=l},m(a,r){E(a,l,r),j(s,l,null),V(l,o),c=!0,i||(u=le(l,"click",_),i=!0)},p(a,r){e=a;const g={};r[0]&16384&&(g.slotContent=e[14]),r[0]&544&&(g.props={state:e[5],widget:e[35],itemContext:e[45]}),r[1]&395264&&(g.$$scope={dirty:r,ctx:e}),s.$set(g),(!c||r[0]&4096&&n!==(n=`au-select-item dropdown-item position-relative ${e[12]}`))&&b(l,"class",n),(!c||r[0]&12800)&&te(l,"bg-light",e[45]===e[13]),(!c||r[0]&4608)&&te(l,"selected",e[45].selected)},i(a){c||($(s.$$.fragment,a),c=!0)},o(a){v(s.$$.fragment,a),c=!1},d(a){a&&H(l),q(s),i=!1,u()}}}function vt(t){let e,l,s=[],o=new Map,n,c,i,u,_,a,r,g=se(t[2]);const P=d=>d[45].id;for(let d=0;d<g.length;d+=1){let h=ve(t,g,d),F=P(h);o.set(F,s[d]=Fe(F,h))}let w=t[1]&&t[9].length>0&&Ne(t);return{c(){e=z("div"),l=z("div");for(let d=0;d<s.length;d+=1)s[d].c();n=fe(),c=z("input"),i=fe(),w&&w.c(),b(c,"id",t[6]),b(c,"aria-label",t[7]),b(c,"type","text"),b(c,"class","au-select-input flex-grow-1 border-0"),c.value=t[8],b(c,"aria-autocomplete","list"),b(c,"autocorrect","off"),b(c,"autocapitalize","none"),b(c,"autocomplete","off"),b(l,"role","combobox"),b(l,"class","d-flex align-items-center flex-wrap"),b(l,"aria-haspopup","listbox"),b(l,"aria-expanded",t[1]),b(e,"class",u="au-select dropdown border border-1 p-1 mb-3 d-block "+t[0])},m(d,h){E(d,e,h),V(e,l);for(let F=0;F<s.length;F+=1)s[F]&&s[F].m(l,null);V(l,n),V(l,c),V(e,i),w&&w.m(e,null),_=!0,a||(r=[le(c,"keydown",t[30]),le(c,"input",t[31]),oe(t[33].call(null,l)),oe(t[34].call(null,e))],a=!0)},p(d,h){h[0]&60|h[1]&935952&&(g=se(d[2]),Z(),s=Te(s,h,P,1,d,g,o,l,Pe,Fe,n,ve),y()),(!_||h[0]&64)&&b(c,"id",d[6]),(!_||h[0]&128)&&b(c,"aria-label",d[7]),(!_||h[0]&256&&c.value!==d[8])&&(c.value=d[8]),(!_||h[0]&2)&&b(l,"aria-expanded",d[1]),d[1]&&d[9].length>0?w?(w.p(d,h),h[0]&514&&$(w,1)):(w=Ne(d),w.c(),$(w,1),w.m(e,null)):w&&(Z(),v(w,1,1,()=>{w=null}),y()),(!_||h[0]&1&&u!==(u="au-select dropdown border border-1 p-1 mb-3 d-block "+d[0]))&&b(e,"class",u)},i(d){if(!_){for(let h=0;h<g.length;h+=1)$(s[h]);$(w),_=!0}},o(d){for(let h=0;h<s.length;h+=1)v(s[h]);v(w),_=!1},d(d){d&&H(e);for(let h=0;h<s.length;h+=1)s[h].d();w&&w.d(),a=!1,Me(r)}}}function Lt(t,e,l){let s,o,n,c,i,u,_,a,r,g,P,w,d,h,F,{$$slots:T={},$$scope:Q}=e;const D=Je(T);let{open:O=!1}=e,{filterText:X=void 0}=e,{selected:Y=void 0}=e;const B=Ye({factory:nt,widgetName:"select",$$slots:D,$$props:e,events:{onOpenChange(f){l(36,O=f)},onSelectedChange:f=>{l(38,Y=f)},onFilterTextChange:f=>{l(37,X=f)}}}),{stores:{id$:L,ariaLabel$:m,badgeClassName$:p,className$:C,filterText$:I,highlighted$:N,menuClassName$:M,menuItemClassName$:S,open$:R,placement$:x,selectedContexts$:ee,slotBadgeLabel$:ue,slotItem$:_e,visibleItems$:me},state$:ge,actions:{onInputKeydown:Be,onInput:Ke},directives:{floatingDirective:ze,hasFocusDirective:Ae,referenceDirective:je}}=B;k(t,L,f=>l(6,_=f)),k(t,m,f=>l(7,a=f)),k(t,p,f=>l(3,c=f)),k(t,C,f=>l(0,s=f)),k(t,I,f=>l(8,r=f)),k(t,N,f=>l(13,h=f)),k(t,M,f=>l(10,P=f)),k(t,S,f=>l(12,d=f)),k(t,R,f=>l(1,o=f)),k(t,x,f=>l(11,w=f)),k(t,ee,f=>l(2,n=f)),k(t,ue,f=>l(4,i=f)),k(t,_e,f=>l(14,F=f)),k(t,me,f=>l(9,g=f)),k(t,ge,f=>l(5,u=f));function qe(f){Xe.call(this,t,f)}const Ee=f=>B.api.toggleItem(f.item);return t.$$set=f=>{l(43,e=ne(ne({},e),de(f))),"open"in f&&l(36,O=f.open),"filterText"in f&&l(37,X=f.filterText),"selected"in f&&l(38,Y=f.selected),"$$scope"in f&&l(42,Q=f.$$scope)},t.$$.update=()=>{B.patchChangedProps(e)},e=de(e),[s,o,n,c,i,u,_,a,r,g,P,w,d,h,F,L,m,p,C,I,N,M,S,R,x,ee,ue,_e,me,ge,Be,Ke,ze,Ae,je,B,O,X,Y,T,qe,Ee,Q]}class kt extends Ue{constructor(e){super(),We(this,e,Lt,vt,Ge,{open:36,filterText:37,selected:38},null,[-1,-1])}}const Dt=kt;export{Dt as S};
