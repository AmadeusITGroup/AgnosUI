import{j as o,R as Le}from"./index-swMVOEdb.js";import{u as De}from"./config-2-MXpfG2.js";import{c as n,e as xe,w as we,n as ye}from"./func-B0ufEirG.js";import{w as Me,b as Ve,s as je}from"./stores-xGmoBAgM.js";import{e as I,m as Re,d as Pe,u as ee}from"./directive-Tjiq1YGH.js";import{g as le,e as re,h as Se,t as C,a as ne}from"./writables-0gUpArvH.js";const Ce=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/;function te(c){var m;const l=(""+c).match(Ce);return Math.max(0,(((m=l[1])==null?void 0:m.length)??0)-(+l[2]||0))}const ae={min:0,max:100,stepSize:1,readonly:!1,disabled:!1,vertical:!1,className:"",ariaLabelHandle:(c,l)=>""+c,onValuesChange:ye,values:[0],showValueLabels:!0,showMinMaxLabels:!0,rtl:!1},ke={min:re,max:re,stepSize:Se(0,1/0,{strict:!0}),readonly:C,disabled:C,vertical:C,ariaLabelHandle:ne,onValuesChange:ne,values:le,showValueLabels:C,showMinMaxLabels:C,rtl:C},Ee=(c,l,m,h,b)=>{const i=Math.pow(10,b);if(c>=m)return m;if(c<=l)return l;const p=Math.floor((c-l)*i/h);return+(((c-l)*i%h<h/2?p:p+1)*h/i+l).toFixed(b)},B=(c,l,m,h,b)=>{l.update(i=>(i=[...i],i[c]=m[c]+h*b,i))},W=(c,l,m)=>c&&l?m?1:-1:c&&!l?-1:!c&&l?m?-1:1:!c&&!l?-1:1;function Oe(c){const[{min$:l,max$:m,stepSize$:h,rtl$:b,values$:i,ariaLabelHandle$:p,onValuesChange$:_,showValueLabels$:k,showMinMaxLabels$:M,...F},q]=Me(ae,c,ke),{vertical$:$,disabled$:T,readonly$:V}=F;let j=-1;const f=n(()=>{const e=l(),t=m();return e===t?ae.min:Math.min(e,t)}),v=n(()=>{const e=l(),t=m();return e===t?ae.max:Math.max(e,t)}),z=n(()=>Math.max(te(h()),te(f()),te(v()))),E=n(()=>h()*Math.pow(10,z())),g=Ve(_,[i,f,v,E,z],([e,t,a,r,s])=>e.map(d=>Ee(d,t,a,r,s)),le.equal),{directive:U,element$:H}=I(),{directive:X,element$:Y}=I(),{directive:K,element$:G}=I(),R=xe(H,(e,t)=>{if(!e){t({});return}const a=new ResizeObserver(()=>{t({})});return a.observe(e),()=>a.disconnect()},{}),x=we({}),P=n(()=>{var e;return R(),x(),((e=H())==null?void 0:e.getBoundingClientRect())??{}},{equal:Object.is}),u=n(()=>{var e;return R(),x(),((e=Y())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),w=n(()=>{var e;return R(),x(),((e=G())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),y=n(()=>$()?P().top:P().left),J=n(()=>$()?P().height:P().width),se=n(()=>[...g()].sort((e,t)=>e-t)),ie=n(()=>g().map((e,t)=>({id:t,value:e})).sort((e,t)=>e.value-t.value)),oe=n(()=>{const e=p();return ie().map((t,a)=>({...t,ariaLabel:e(t.value,a,t.id)}))}),S=n(()=>g().map(e=>ve(e))),Q=n(()=>[...S()].sort((e,t)=>e-t)),ce=n(()=>u().width/J()*100),ue=n(()=>w().width/J()*100),de=n(()=>{if(M()){if(!k())return!0}else return!1;const e=ce();return b()?!S().some(t=>100-t>100-e-1):!S().some(t=>t<e+1)}),me=n(()=>{if(M()){if(!k())return!0}else return!1;const e=ue();return b()?!S().some(t=>100-t<e+1):!S().some(t=>t>100-e-1)}),be=n(()=>{const e=g();return e.length==2&&Math.abs(e[0]-e[1])<10}),O=n(()=>!T()&&!V()),fe=n(()=>{const e=Q(),t=(e[0]+e[1])/2;return $()||e.length!=2?0:b()?100-t:t}),he=n(()=>{const e=Q(),t=100-(e[0]+e[1])/2;return $()&&e.length==2?b()?100-t:t:0}),$e=n(()=>{const e=$(),t=b();return S().map((a,r)=>({left:t?e?null:100-a:e?null:a,top:t?e?a:null:e?100-a:null}))}),pe=n(()=>{const e=$(),t=Q(),a=b();return t.length===1?[{left:e||a?null:0,right:e?null:a?0:null,bottom:e?a?null:0:null,top:e&&a?0:null,width:e?100:t[0],height:e?t[0]:100}]:t.map((r,s,d)=>({left:e||a?null:r,right:e?null:a?d[s]:null,bottom:e?a?null:r:null,top:e&&a?d[s]:null,width:e?100:s===d.length-1?r:d[s+1]-r,height:e?s===d.length-1?r:d[s+1]-r:100})).slice(0,t.length-1)}),ve=e=>{const t=f();return(e-t)*100/(v()-t)},ge=e=>{const t=g();if(t.length===1)return 0;const a=se(),r=a.find(D=>D>e*100),s=r?a.indexOf(r):a.length-1,d=a[s-1]+(a[s]-a[s-1])/2,N=a[e*100<=d?s-1:s];return t.indexOf(N)},Z=(e,t)=>{if(O()){const a=J(),r=y();let s=$()?(a-e+r)/a:(e-r)/a;s=b()?1-s:s;const d=t??ge(s),N=s*(v()-f())+f();i.update(D=>(D=[...D],D[d]=N,D))}};return{...je({min$:f,max$:v,stepSize$:h,values$:g,sortedValues$:se,sortedHandles$:oe,minValueLabelDisplay$:de,maxValueLabelDisplay$:me,combinedLabelDisplay$:be,isInteractable$:O,combinedLabelPositionLeft$:fe,combinedLabelPositionTop$:he,progressDisplayOptions$:pe,handleDisplayOptions$:$e,showValueLabels$:k,showMinMaxLabels$:M,rtl$:b,...F}),patch:q,api:{},directives:{sliderDirective:Re(U,Pe(R)),minLabelDirective:X,maxLabelDirective:K},actions:{click(e){Z($()?e.clientY:e.clientX)},keydown(e,t){const{key:a}=e,r=b(),s=g(),d=h(),N=f(),D=v(),A=$();if(O()){switch(a){case"ArrowDown":B(t,i,s,d,W(A,r,!0));break;case"ArrowLeft":B(t,i,s,d,W(A,r,!1));break;case"ArrowUp":B(t,i,s,d,-1*W(A,r,!0));break;case"ArrowRight":B(t,i,s,d,-1*W(A,r,!1));break;case"Home":i.update(L=>(L=[...L],L[t]=N,L));break;case"End":i.update(L=>(L=[...L],L[t]=D,L));break;case"PageUp":break;case"PageDown":break;default:return}e.preventDefault(),e.stopPropagation()}},mouseDown(e,t){e.preventDefault();const a=r=>{r.preventDefault();const s=$()?r.clientY:r.clientX;e.target.focus(),j!==s&&(j=s,Z(s,t))};O()&&(x.set({}),e.target.focus(),document.addEventListener("mousemove",a),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",a)},{once:!0}))},touchStart(e,t){e.preventDefault();const a=r=>{r.preventDefault();const s=$()?r.touches[0].clientY:r.touches[0].clientX;e.target.focus(),j!==s&&(j=s,Z(s,t))};O()&&(x.set({}),e.target.focus(),document.addEventListener("touchmove",a),document.addEventListener("touchend",()=>{document.removeEventListener("touchmove",a),document.removeEventListener("touchcancel",a)},{once:!0}),document.addEventListener("touchcancel",()=>{document.removeEventListener("touchmove",a),document.removeEventListener("touchend",a)},{once:!0}))}}}}function Be(c){const[{className:l,combinedLabelDisplay:m,combinedLabelPositionLeft:h,combinedLabelPositionTop:b,disabled:i,handleDisplayOptions:p,max:_,maxValueLabelDisplay:k,min:M,minValueLabelDisplay:F,progressDisplayOptions:q,readonly:$,sortedHandles:T,sortedValues:V,values:j,vertical:f,showValueLabels:v,showMinMaxLabels:z,rtl:E},{actions:{click:g,keydown:U,mouseDown:H,touchStart:X},directives:{sliderDirective:Y,minLabelDirective:K,maxLabelDirective:G}}]=De(Oe,c,"slider"),R=ee(Y),x=ee(K),P=ee(G);return o.jsxs("div",{ref:R,className:`au-slider ${f?"au-slider-vertical":"au-slider-horizontal"} ${l} ${i?" disabled":""}`,children:[q.map((u,w)=>o.jsx("div",{className:"au-slider-progress",style:{left:`${u.left}%`,right:`${u.right}%`,bottom:`${u.bottom}%`,top:`${u.top}%`,width:`${u.width}%`,height:`${u.height}%`}},w)),o.jsx("div",{className:f?"au-slider-clickable-area-vertical":"au-slider-clickable-area",onClick:u=>g(u)}),z?o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:x,className:`${E?"au-slider-rtl":""} ${f?"au-slider-label-vertical au-slider-label-vertical-min":"au-slider-label au-slider-label-min"} ${F?"":" invisible"}
						`,children:M}),o.jsx("div",{ref:P,className:`${E?"au-slider-rtl":""} ${f?"au-slider-label-vertical au-slider-label-vertical-max":"au-slider-label au-slider-label-max"} ${k?"":" invisible"}`,children:_})]}):o.jsx(o.Fragment,{}),v&&m?o.jsx("div",{className:f?"au-slider-label-vertical au-slider-label-vertical-now":"au-slider-label au-slider-label-now",style:{left:`${h}%`,top:`${b}%`},children:E?o.jsxs(o.Fragment,{children:[V[1]," - ",V[0]]}):o.jsxs(o.Fragment,{children:[V[0]," - ",V[1]]})}):o.jsx(o.Fragment,{}),T.map((u,w)=>o.jsxs(Le.Fragment,{children:[o.jsx("button",{className:`au-slider-handle ${f?"au-slider-handle-vertical":"au-slider-handle-horizontal"}`,role:"slider","aria-valuemin":M,"aria-valuemax":_,"aria-valuenow":u.value,"aria-valuetext":""+u.value,"aria-label":u.ariaLabel,"aria-readonly":$?"true":void 0,"aria-disabled":i?"true":void 0,"aria-orientation":f?"vertical":void 0,disabled:i,style:{top:`${p[u.id].top}%`,left:`${p[u.id].left}%`},onKeyDown:y=>U(y,u.id),onMouseDown:y=>H(y,u.id),onTouchStart:y=>X(y,u.id),children:"Â "}),v&&!m?o.jsx("div",{className:f?"au-slider-label-vertical au-slider-label-vertical-now":"au-slider-label au-slider-label-now",style:{left:`${p[w].left}%`,top:`${p[w].top}%`},children:j[w]}):o.jsx(o.Fragment,{})]},u.id))]})}export{Be as S};
