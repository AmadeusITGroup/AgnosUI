import{e as g,u as w,r as L,h as A,aa as S}from"./DdRCHyDR.js";import{e as l,w as f,r as D,f as u,n as C,g as O}from"./BnBfMKLG.js";function k(e,t,r){g(()=>{var s=w(()=>t(e,r?.())||{});if(r&&s?.update){var n=!1,i={};L(()=>{var o=r();A(o),n&&S(i,o)&&(i=o,s.update(o))}),n=!0}if(s?.destroy)return()=>s.destroy()})}function v(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=v(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function $(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=v(e))&&(s&&(s+=" "),s+=t);return s}const d=e=>{var t;const r=((t=e?.ownerDocument)==null?void 0:t.defaultView)??window;return e instanceof r.HTMLElement},j=e=>(t,r)=>{if(d(t))return e(t,r)};D(void 0);const z=(e,t=!0)=>()=>{const r=e.subscribe(C);return{destroy:async()=>{t&&await Promise.resolve(),r()}}},p={equal:Object.is},_=()=>{const e=f([],p);return l(e,{register:t=>{let r=!1;return e.update(s=>[...s,t]),()=>{r||(r=!0,e.update(s=>{const n=s.indexOf(t);if(n>-1){const i=[...s];return i.splice(n,1),i}return s}))}}})},N=()=>{const e=_();return{elements$:l(e),directive:t=>({destroy:e.register(t)})}},P=()=>{const{directive:e,elements$:t}=N();return{directive:j(e),elements$:t}},V=()=>{const e=f(null,p);return{element$:l(e),directive:t=>{let r=!1;return e.update(s=>s?(console.error("The directive cannot be used on multiple elements.",s,t),s):(r=!0,t)),r?{destroy(){e.update(s=>t===s?null:s)}}:void 0}}},W=(...e)=>(t,r)=>{const s=u(()=>e.map(n=>n(t,r)));return{update(n){u(()=>s.forEach(i=>{var o;return(o=i?.update)==null?void 0:o.call(i,n)}))},destroy(){u(()=>s.reverse().forEach(n=>{var i;return(i=n?.destroy)==null?void 0:i.call(n)}))}}},x=e=>(t,r)=>{const s=[],n=f(r),{events:i,attributes:o,styles:m,classNames:h}=e(n);if(d(t))for(const[a,c]of Object.entries(i??{}))typeof c=="function"?s.push(b(t,a,c)):s.push(b(t,a,c.handler,c.options));for(const[a,c]of Object.entries(o??{}))c!=null&&s.push(B(t,a,c));for(const[a,c]of Object.entries(m??{}))c&&s.push(T(t,a,c));for(const[a,c]of Object.entries(h??{}))s.push(H(t,a,c));return{update:a=>n.set(a),destroy:()=>s.forEach(a=>a())}},F=x(e=>({attributes:{class:O(()=>$(e()))}})),G=(e=document.body)=>{d(e)&&e.getBoundingClientRect()},I=(e,t)=>{t&&t.length>0&&e.classList.add(...t)},J=(e,t)=>{t&&t.length>0&&e.classList.remove(...t)};function b(e,t,r,s){return e.addEventListener(t,r,s),function(){e.removeEventListener(t,r,s)}}const y=e=>e!=null&&e!==!1;function E(e,t){let r=new Set;return t.subscribe(s=>{const n=new Set(`${s??""}`.split(" "));n.delete("");const i=e.classList;for(const o of r)n.has(o)||i.remove(o);n.size>0&&i.add(...n),r=n})}function q(e,t,r){return r.subscribe(s=>{y(s)?e.setAttribute(t,""+(s===!0?t:s)):e.removeAttribute(t)})}function B(e,t,r){return t==="class"?E(e,r):q(e,t,r)}function T(e,t,r){return r.subscribe(s=>{const n=e.style;n[t]=""+(y(s)?s:"")})}function H(e,t,r){const s=r.subscribe(n=>{e.classList.toggle(t,n)});return()=>{s(),e.classList.remove(t)}}export{k as a,j as b,P as c,F as d,V as e,z as f,I as g,G as h,d as i,W as m,J as r};
