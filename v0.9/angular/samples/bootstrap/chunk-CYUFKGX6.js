import{a as pe,b as ue}from"./chunk-OKOHCKDB.js";import{c as oe}from"./chunk-7VIPA3OJ.js";import{P as re,Q as se,R as le}from"./chunk-2B4F5C4X.js";import{aa as ae}from"./chunk-3MVGMEYI.js";import"./chunk-7REZ6SAQ.js";import{Bb as K,Cb as X,Eb as Y,Fb as F,Ga as R,Ha as Q,Hb as Z,Ia as y,Jb as ee,Sb as M,Va as P,X as j,_a as W,aa as d,ac as te,ba as m,cc as ie,dc as A,ec as ne,ja as x,jb as B,ob as G,pb as J,qb as f,rb as l,sb as g,tb as T,vb as E,wb as v,xb as N}from"./chunk-OSJKQHZ2.js";var Ne=["progressbar"],Ae=(n,t)=>({index:n,id:t}),Oe=(n,t)=>[n,t],Ie=(n,t)=>t.id;function Ve(n,t){if(n&1&&(l(0,"div",6)(1,"button",11),Z(2),g()()),n&2){let e=t.$implicit,i=t.$index,o=N();y(),F("active",o.state().selectedScrollSnap()===i),f("auUse",M(7,Oe,o.directives().tabIndicator,M(4,Ae,i,e.id))),y(),ee(" ",i+1," ")}}var h=class h{constructor(){this.state=A.required();this.api=A.required();this.directives=A.required();this.playingChange=ie();this.sanitizer=j(oe);this.playSvg=this.sanitizer.bypassSecurityTrustHtml(pe);this.pauseSvg=this.sanitizer.bypassSecurityTrustHtml(ue);this.progressbar=ne.required("progressbar");this.isPlaying=x(!0);te(()=>{this.state().initialized()&&(this.api().emblaApi().on("autoplay:play",()=>{this.isPlaying.set(!0),this.playingChange.emit(!0)}).on("autoplay:stop",()=>{this.isPlaying.set(!1),this.playingChange.emit(!1)}).on("autoplay:timerset",()=>{this.launchProgressbar()}).on("autoplay:timerstopped",()=>{this.progressbar().nativeElement.style.transition="none",this.progressbar().nativeElement.style.width="0%"}),this.launchProgressbar())})}onClick(){this.isPlaying()?this.api().plugins().autoplay.stop():this.api().plugins().autoplay.play()}launchProgressbar(){this.progressbar().nativeElement.style.transition="none",this.progressbar().nativeElement.style.width="0%",window.requestAnimationFrame(()=>{window.setTimeout(()=>{this.progressbar().nativeElement.style.transition=`width ${this.api().plugins().autoplay.timeUntilNext()}ms linear`,this.progressbar().nativeElement.style.width="100%"})})}};h.\u0275fac=function(e){return new(e||h)},h.\u0275cmp=P({type:h,selectors:[["app-autoplay-navigation"]],viewQuery:function(e,i){e&1&&K(i.progressbar,Ne,5),e&2&&X()},inputs:{state:[1,"state"],api:[1,"api"],directives:[1,"directives"]},outputs:{playingChange:"playingChange"},decls:12,vars:5,consts:[["progressbar",""],[1,"navigation"],[1,"d-flex","bg-light","rounded-4","py-1","px-2",3,"pointerdown","touchstart"],["type","button",1,"btn","btn-sm","btn-outline-primary","rounded-5","d-flex","align-items-center",3,"click","innerHTML"],[1,"d-flex","bg-light","rounded-4","py-1","px-3","align-items-center",3,"pointerdown","touchstart"],[1,"pagination","pagination-sm","align-items-center",3,"auUse"],[1,"page-item"],["aria-hidden","true",1,"progress-container","d-none","d-sm-flex"],[1,"bg-light","rounded-4","py-1","px-3","w-100","d-flex","align-items-center"],[1,"progress","w-100"],[1,"autoplay-progress-bar","progress-bar"],["type","button",1,"page-link",3,"auUse"]],template:function(e,i){if(e&1){let o=E();l(0,"div",1)(1,"div",2),v("pointerdown",function(r){return d(o),m(r.preventDefault())})("touchstart",function(r){return d(o),m(r.stopPropagation())}),l(2,"button",3),v("click",function(){return d(o),m(i.onClick())}),g()(),l(3,"div",4),v("pointerdown",function(r){return d(o),m(r.preventDefault())})("touchstart",function(r){return d(o),m(r.stopPropagation())}),l(4,"div",5),G(5,Ve,3,10,"div",6,Ie),g()()(),l(7,"div",7)(8,"div",8)(9,"div",9),T(10,"div",10,0),g()()()}e&2&&(y(2),f("innerHTML",i.isPlaying()?i.pauseSvg:i.playSvg,R),B("aria-label",i.isPlaying()?"Pause rotation of slides":"Play rotation of slides"),y(2),f("auUse",i.directives().tabList),y(),J(i.state().slidesData()),y(2),F("opacity-0",!i.isPlaying()))},dependencies:[ae],encapsulation:2,changeDetection:0});var O=h;var Le={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Fe(n,t){let e=n.scrollSnapList();return typeof t=="number"?e.map(()=>t):t(e,n)}function Me(n,t){let e=n.rootNode();return t&&t(e)||e}function I(n={}){let t,e,i,o,s=null,r=0,p=!1,C=!1,V=!1,w=!1;function ce(a,b){e=a;let{mergeOptions:S,optionsAtMedia:L}=b,De=S(Le,I.globalOptions),xe=S(De,n);if(t=L(xe),e.scrollSnapList().length<=1)return;w=t.jump,i=!1,o=Fe(e,t.delay);let{eventStore:D,ownerDocument:Pe}=e.internalEngine(),$=!!e.internalEngine().options.watchDrag,q=Me(e,t.rootNode);D.add(Pe,"visibilitychange",ge),$&&e.on("pointerDown",k),$&&!t.stopOnInteraction&&e.on("pointerUp",H),t.stopOnMouseEnter&&D.add(q,"mouseenter",ye),t.stopOnMouseEnter&&!t.stopOnInteraction&&D.add(q,"mouseleave",ve),t.stopOnFocusIn&&e.on("slideFocusStart",c),t.stopOnFocusIn&&!t.stopOnInteraction&&D.add(e.containerNode(),"focusout",u),t.playOnInit&&u()}function de(){e.off("pointerDown",k).off("pointerUp",H).off("slideFocusStart",c),c(),i=!0,p=!1}function me(){let{ownerWindow:a}=e.internalEngine();a.clearTimeout(r),r=a.setTimeout(we,o[e.selectedScrollSnap()]),s=new Date().getTime(),e.emit("autoplay:timerset")}function fe(){let{ownerWindow:a}=e.internalEngine();a.clearTimeout(r),r=0,s=null,e.emit("autoplay:timerstopped")}function u(){if(!i){if(z()){V=!0;return}p||e.emit("autoplay:play"),me(),p=!0}}function c(){i||(p&&e.emit("autoplay:stop"),fe(),p=!1)}function ge(){if(z())return V=p,c();V&&u()}function z(){let{ownerDocument:a}=e.internalEngine();return a.visibilityState==="hidden"}function k(){C||c()}function H(){C||u()}function ye(){C=!0,c()}function ve(){C=!1,u()}function he(a){typeof a<"u"&&(w=a),u()}function _e(){p&&c()}function be(){p&&u()}function Ce(){return p}function we(){let{index:a}=e.internalEngine(),b=a.clone().add(1).get(),S=e.scrollSnapList().length-1,L=t.stopOnLastSnap&&b===S;if(e.canScrollNext()?e.scrollNext(w):e.scrollTo(0,w),e.emit("autoplay:select"),L)return c();u()}function Se(){if(!s)return null;let a=o[e.selectedScrollSnap()],b=new Date().getTime()-s;return a-b}return{name:"autoplay",options:n,init:ce,destroy:de,play:he,stop:_e,reset:be,isPlaying:Ce,timeUntilNext:Se}}I.globalOptions=void 0;function Ue(n,t){if(n&1){let e=E();l(0,"app-autoplay-navigation",3),v("playingChange",function(o){d(e);let s=N();return m(s.isPlaying.set(o))}),g()}if(n&2){let e=t.directives,i=t.state,o=t.api;f("state",i)("api",o)("directives",e)}}function ze(n,t){if(n&1&&T(0,"img",4),n&2){let e=t.src;Y("aspect-ratio",1.8/1),f("src",e,Q)}}var _=class _{constructor(){this.photos=[944,1011,984].map(t=>({id:`carousel-autoplay-${t}`,src:`https://picsum.photos/id/${t}/900/500`}));this.plugins=[I({playOnInit:!0,stopOnFocusIn:!0,delay:4e3})];this.isPlaying=x(!0)}};_.\u0275fac=function(e){return new(e||_)},_.\u0275cmp=P({type:_,selectors:[["ng-component"]],decls:3,vars:3,consts:[["auCarousel","","auLoop","",1,"autoplay-carousel",3,"auSlidesData","auPlugins","auAriaLive"],["auCarouselNavigation",""],["auCarouselSlide",""],[3,"playingChange","state","api","directives"],["alt","random picsum",1,"w-100","rounded-5",3,"src"]],template:function(e,i){e&1&&(l(0,"div",0),W(1,Ue,1,3,"ng-template",1)(2,ze,1,3,"ng-template",2),g()),e&2&&f("auSlidesData",i.photos)("auPlugins",i.plugins)("auAriaLive",i.isPlaying()?"off":"polite")},dependencies:[le,se,re,O],styles:[`.autoplay-carousel .au-carousel-slide{flex-basis:85%;margin-right:.5rem}.autoplay-carousel .navigation{position:absolute;top:1rem;left:10%;right:10%;z-index:1;display:flex;justify-content:space-between}.autoplay-carousel .progress-container{position:absolute;bottom:1rem;left:35%;right:35%;z-index:1}.autoplay-carousel .progress-container .progress{height:.75rem}@media (max-width: 576px){.au-carousel-slide{flex-basis:100%;margin-right:0}}@media (max-width: 576px){.navigation{top:.5rem;left:1rem;right:1rem}}
`],encapsulation:2});var U=_;export{U as default};
