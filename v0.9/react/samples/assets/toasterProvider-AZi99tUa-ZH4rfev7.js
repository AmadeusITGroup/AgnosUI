import{j as e,r}from"./App-D-jqKXBC.js";import{a as v,u as D}from"./directive-CEErjM5c-BORGxa0J.js";import{c as P,T as N,d as w}from"./toaster-XfzHDqz_-IKbQVBaM.js";import{f as A}from"./stores-DrD8dowx.js";import{u as b}from"./stores-DZalyTTa-C145uTrh.js";import{e as H}from"./extendWidget-BcmC0c8l.js";import{f as y}from"./fade-uOobJKgw-CNXnPkdI.js";import{S as h}from"./slot-Cj99MDpM.js";import{u as E}from"./config-DEneCstc.js";import{c as f}from"./dom-gfxqXJpK-BAcWixjJ.js";const O={structure:void 0,children:void 0,header:void 0},R={transition:y},C=H(P,O,{structure:void 0,children:void 0,header:void 0},R),L={topLeft:"top-0 start-0",topCenter:"top-0 start-50 translate-middle-x",topRight:"top-0 end-0",middleLeft:"top-50 start-0 translate-middle-y",middleCenter:"top-50 start-50 translate-middle",middleRight:"top-50 end-0 translate-middle-y",bottomLeft:"bottom-0 start-0",bottomCenter:"bottom-0 start-50 translate-middle-x",bottomRight:"bottom-0 end-0"},S=t=>{const s=r.useMemo(()=>new N(t),[]);t=t??{};const o=r.useRef(t);r.useMemo(()=>{const a=A(o.current,t);o.current=t,a&&s.options.update(u=>({...u,...a}))},[s.options,t]);const i=b(s.toasts),n=b(s.options),c=r.useCallback(a=>s.addToast(a),[s]),d=s.removeToast,l=s.eventsDirective,m=s.closeAll;return{toasts:i,options:n,addToast:c,removeToast:d,eventsDirective:l,closeAll:m}},x=r.createContext(void 0),$=({options:t,children:s})=>{const o=S(t);return e.jsx(x.Provider,{value:o,children:s})},B=()=>{const t=r.useContext(x);if(!t)throw new Error("useToaster must be used within a ToasterProvider");return t},_=C,k=L,rt=w,F=t=>e.jsx("button",{...v([f,"btn-close me-0 ms-auto"],t.directives.closeButtonDirective)}),M=t=>e.jsxs("div",{className:"toast-header",children:[e.jsx(h,{slotContent:t.state.header,props:t}),t.state.dismissible&&e.jsx(F,{...t})]}),W=t=>e.jsx("button",{...v([f,"btn-close btn-close-white me-2 m-auto"],t.directives.closeButtonDirective)}),I=t=>e.jsxs(e.Fragment,{children:[t.state.header&&e.jsx(M,{...t}),e.jsx("div",{className:"toast-body",children:e.jsx(h,{slotContent:t.state.children,props:t})}),t.state.dismissible&&!t.state.header&&e.jsx(W,{...t})]}),q=t=>e.jsx("div",{...v([f,{"toast-dismissible":t.state.dismissible,"d-flex":!t.state.header}],t.directives.transitionDirective,t.directives.autoHideDirective,t.directives.bodyDirective),children:e.jsx(h,{slotContent:t.state.structure,props:t})});function z(t){const s=E(_,t,{structure:I,children:t.children});return r.useImperativeHandle(t.ref,()=>s.api,[s.api]),e.jsx(e.Fragment,{children:!s.state.hidden&&e.jsx(q,{...s})})}const G=({id:t,className:s,visible:o,structure:i,children:n,header:c,dismissible:d,ariaCloseButtonLabel:l,animated:m,animatedOnInit:a,onShown:u,onHidden:T,onVisibleChange:j,transition:g,toaster:p})=>e.jsx("div",{...D(p.eventsDirective,t),children:e.jsx(z,{animated:m,animatedOnInit:a,autoHide:!1,className:s,dismissible:d??p.options.dismissible,ariaCloseButtonLabel:l,structure:i,header:c,onShown:u,onHidden:()=>{p.removeToast(t),T==null||T()},onVisibleChange:j,visible:o,transition:g,children:n})});function J(){const t=K();return e.jsx("div",{className:"au-toaster","aria-live":"polite","aria-atomic":"true",children:e.jsxs("div",{className:`au-toaster-container toast-container ${k[t.options.position]}`,children:[t.options.closeAll&&t.toasts.length>1&&e.jsx("div",{className:"d-flex position-relative align-items-end pb-2",children:e.jsx("button",{className:"au-toaster-closeAll btn btn-secondary me-0 ms-auto pe-auto",onClick:()=>t.closeAll(),children:t.options.closeAllLabel||"Close all"})}),t.toasts.map(({id:s,props:o})=>e.jsx(G,{id:s,...o,toaster:t},s))]})})}const at=({options:t,children:s})=>e.jsxs($,{options:t,children:[s,e.jsx(J,{})]}),K=()=>B();export{z as T,at as a,k as b,rt as e,K as u};
