import{b as a,B as Y,C as lt,w as ye,m as M,a as f,r as y,e as st,n as nt}from"./dom-gfxqXJpK-DnwY-KAj.js";import{w as rt,d as ot,t as N,s as ct}from"./stores-lycFhSg7.js";import{t as ut,b as w,k as ke,a as Pe,c as U,f as Ve}from"./writables-CgpOQ4hA-RosD9yhs.js";import{c as dt}from"./resizeObserver-DU9tiOkX.js";import{c as mt}from"./widget-CM0nNcys.js";const bt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/;function ne(c){var u;const m=(""+c).match(bt);return Math.max(0,(((u=m[1])==null?void 0:u.length)??0)-(+m[2]||0))}const re={min:0,max:100,stepSize:1,readonly:!1,disabled:!1,vertical:!1,className:"",ariaLabel:()=>"Value",ariaLabelledBy:()=>"",ariaValueText:()=>"",onValuesChange:nt,values:[0],showValueLabels:!0,showMinMaxLabels:!0,showTicks:!1,showTickValues:!0,tickInterval:0,rtl:!1},vt={min:Ve,max:Ve,stepSize:ke(0,1/0,{strict:!0}),readonly:w,disabled:w,vertical:w,ariaLabel:U,ariaLabelledBy:U,ariaValueText:U,onValuesChange:U,values:Pe,showValueLabels:w,showMinMaxLabels:w,showTicks:w,showTickValues:w,tickInterval:ke(0,1/0,{strict:!0}),rtl:w,className:ut},Se=(c,u,m,b,o)=>{const x=Math.pow(10,o);if(c>=m)return m;if(c<=u)return u;const O=Math.floor((c-u)*x/b);return+(((c-u)*x%b<b/2?O:O+1)*b/x+u).toFixed(o)},W=(c,u,m,b)=>{u.update(o=>(o=[...o],o[c]=o[c]+m*b,o))},G=(c,u,m)=>c&&u?m?1:-1:c&&!u?-1:!c&&u?m?-1:1:!c&&!u?-1:1,d=c=>c!=null?`${c}%`:"",wt=mt("slider",c=>{const[{min$:u,max$:m,stepSize$:b,rtl$:o,values$:x,ariaLabel$:O,ariaLabelledBy$:ze,ariaValueText$:Me,onValuesChange$:xe,showValueLabels$:J,showMinMaxLabels$:K,showTicks$:k,showTickValues$:H,tickInterval$:oe,...Q},_e]=rt(re,c,vt),{vertical$:n,disabled$:_,readonly$:ce}=Q;let A=-1;const j=new Map,L=a(()=>{const e=u(),t=m();return e===t?re.min:Math.min(e,t)}),g=a(()=>{const e=u(),t=m();return e===t?re.max:Math.max(e,t)}),Z=a(()=>Math.max(ne(b()),ne(L()),ne(g()))),ue=a(()=>b()*Math.pow(10,Z())),v=ot(x,xe,e=>{const t=L(),i=g(),l=ue(),s=Z();return e.map(r=>Se(r,t,i,l,s))},Pe.equal),{directive:Be,element$:Re}=Y(),{directive:Te,element$:Ee}=Y(),{directive:Ne,element$:Oe}=Y(),{directive:He,element$:de}=Y(),{directive:Ae,elements$:je}=lt(),{directive:Ie,dimensions$:I}=dt(),V=ye({}),ee=a(()=>(I(),V(),je().map(e=>e.getBoundingClientRect())),{equal:Object.is}),q=a(()=>{var e;return I(),V(),((e=Re())==null?void 0:e.getBoundingClientRect())??{}},{equal:Object.is}),qe=a(()=>{var e;return I(),V(),((e=Ee())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),Ce=a(()=>{var e;return I(),V(),((e=Oe())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),Fe=a(()=>n()?q().top:q().left),me=a(()=>n()?q().height:q().width),C=a(()=>[...v()].sort((e,t)=>e-t)),Xe=a(()=>v().map((e,t)=>({id:t,value:e})).sort((e,t)=>e.value-t.value)),Ye=a(()=>{const e=O(),t=Me(),i=ze();return Xe().map((l,s)=>({...l,ariaLabel:i(s)?void 0:e(s),ariaLabelledBy:i(s)||void 0,ariaValueText:t(l.value,s)||void 0}))}),be=a(()=>v().map(e=>X(e))),S=a(()=>[...be()].sort((e,t)=>e-t)),Ue=a(()=>{const e=qe();return F(n()?e.height:e.width)}),We=a(()=>{const e=Ce();return F(n()?e.height:e.width)}),Ge=a(()=>J()&&(!k()||!H())),F=e=>e?e/me()*100:0,ve=a(()=>{var e,t;return F(n()?(e=de())==null?void 0:e.getBoundingClientRect().height:(t=de())==null?void 0:t.getBoundingClientRect().width)}),he=a(()=>n()?ae():ie()),B=e=>{var t,i;return F(n()?(t=ee()[e])==null?void 0:t.height:(i=ee()[e])==null?void 0:i.width)},pe=a(()=>{if(!K()||k()&&H())return!1;if(!J())return!0;const e=Ue(),t=n(),i=o();if(te()){const s=ve(),r=he();return i&&!t||t&&!i?r+s/2<100-e-1:r-s/2>e+1}const l=S();return i?l[0]-B(l.length-1)/2>e+1:l[0]-B(0)/2>e+1}),fe=a(()=>{if(!K()||k()&&H())return!1;if(!J())return!0;const e=We(),t=n(),i=o();if(te()){const s=ve(),r=he();return i&&!t||t&&!i?r-s/2>e+1:r+s/2<100-e-1}const l=S();return i?100-l[l.length-1]-B(0)/2>e+1:l[l.length-1]+B(l.length-1)/2<100-e-1}),Le=ye([]),te=a(()=>{const e=S();ee().length===e.length&&Le.set(e.map((D,$)=>B($)/2));const t=Le(),i=(t==null?void 0:t[0])??0,l=(t==null?void 0:t[1])??0,s=Math.max(i,l),r=s!==50?s*2+2:15;return e.length==2&&e[1]-l-e[0]+i<r}),R=a(()=>!_()&&!ce()),ie=a(()=>{const e=S(),t=(e[0]+e[1])/2;return n()||e.length!=2?0:o()?100-t:t}),ae=a(()=>{const e=S(),t=100-(e[0]+e[1])/2;return n()&&e.length==2?o()?100-t:t:0}),T=a(()=>{const e=n(),t=o();return be().map(i=>({left:t?e?null:100-i:e?null:i,top:t?e?i:null:e?100-i:null}))}),Je=a(()=>{const e=n(),t=S(),i=o();return t.length===1?[{left:e||i?null:0,right:e?null:i?0:null,bottom:e?i?null:0:null,top:e&&i?0:null,width:e?100:t[0],height:e?t[0]:100,id:0}]:t.map((l,s,r)=>({left:e||i?null:l,right:e?null:i?r[s]:null,bottom:e?i?null:l:null,top:e&&i?r[s]:null,width:e?100:s===r.length-1?l:r[s+1]-l,height:e?s===r.length-1?l:r[s+1]-l:100,id:s})).slice(0,t.length-1)}),Ke=a(()=>{if(!k())return[];const e=n(),t=L(),i=g(),l=o(),s=H(),r=oe()||b(),D=[],$=ue(),P=Z(),p=z=>!!l!=!!e?100-z:z;for(let z=t;z<i;z+=r){const $e=Se(z,t,i,$,P),at=X($e);D.push({position:p(at),selected:!1,value:$e,displayLabel:s})}return D.push({position:p(100),selected:!1,value:i,displayLabel:s}),D}),Qe=a(()=>{const e=C(),t=i=>{const l=e.length>1,s=l?e[e.length-1]:e[0],r=l?e[0]:0;return i<=s&&i>=r};return Ke().map(i=>({...i,selected:t(i.value)}))}),X=e=>{const t=L(),i=g();return(e-t)*100/(i-t)},le=e=>{const t=v();if(t.length===1)return 0;const i=C(),l=i.find($=>X($)>e*100),s=l?i.indexOf(l):i.length-1,r=X(i[s-1]+(i[s]-i[s-1])/2),D=i[e*100<=r?s-1:s];return t.indexOf(D)},se=e=>{const t=me(),i=Fe();let l=n()?(t-e+i)/t:(e-i)/t;return l=o()?1-l:l,l},E=(e,t)=>{if(R()){const i=se(e),l=t??le(i),s=i*(g()-L())+L();v.update(r=>(r=[...r],r[l]=s,r))}},h=a(()=>!n()),Ze=f(()=>({attributes:{"aria-disabled":a(()=>_()?"true":void 0),class:Q.className$},classNames:{"au-slider":N,"au-slider-vertical":n,"au-slider-horizontal":h,disabled:_}})),et=f(()=>({classNames:{"au-slider-label-vertical":n,"au-slider-label-vertical-min":n,"au-slider-label":h,"au-slider-label-min":h,"au-slider-rtl":o,invisible:a(()=>!pe())},attributes:{"aria-hidden":y("true")}})),tt=f(()=>({classNames:{"au-slider-label-vertical":n,"au-slider-label-vertical-max":n,"au-slider-label":h,"au-slider-label-max":h,"au-slider-rtl":o,invisible:a(()=>!fe())},attributes:{"aria-hidden":y("true")}})),it=st((e,t)=>{const i=()=>{j.delete(t.item.id)},l=s=>{j.set(s.item.id,e)};return l(t),{update:l,destroy:i}}),ge=(e,t)=>{e.preventDefault();const i=t!==void 0?j.get(t):e.target,l=s=>{s.preventDefault();const r=n()?s.clientY:s.clientX;i==null||i.focus(),A!==r&&(A=r,E(r,t))};R()&&(V.set({}),i==null||i.focus(),document.addEventListener("mousemove",l),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",l)},{once:!0}))},De=(e,t)=>{const i=t!==void 0?j.get(t):e.target,l=s=>{s.preventDefault();const r=n()?s.touches[0].clientY:s.touches[0].clientX;i==null||i.focus(),A!==r&&(A=r,E(r,t))};R()&&(V.set({}),i==null||i.focus(),document.addEventListener("touchmove",l,{passive:!1}),document.addEventListener("touchend",()=>{document.removeEventListener("touchmove",l),document.removeEventListener("touchcancel",l)},{once:!0}),document.addEventListener("touchcancel",()=>{document.removeEventListener("touchmove",l),document.removeEventListener("touchend",l)},{once:!0}))},we=f(e=>({events:{keydown:t=>{const i=e().item.id,{key:l}=t,s=o(),r=b(),D=L(),$=g(),P=n();if(R()){switch(l){case"ArrowDown":W(i,v,r,G(P,s,!0));break;case"ArrowLeft":W(i,v,r,G(P,s,!1));break;case"ArrowUp":W(i,v,r,-1*G(P,s,!0));break;case"ArrowRight":W(i,v,r,-1*G(P,s,!1));break;case"Home":v.update(p=>(p=[...p],p[i]=D,p));break;case"End":v.update(p=>(p=[...p],p[i]=$,p));break;case"PageUp":break;case"PageDown":break;default:return}t.preventDefault()}},mousedown:t=>{t.button===0&&ge(t,e().item.id)},touchstart:t=>{De(t,e().item.id)}}}));return{...ct({min$:L,max$:g,stepSize$:b,values$:v,sortedValues$:C,sortedHandles$:Ye,minValueLabelDisplay$:pe,maxValueLabelDisplay$:fe,combinedLabelDisplay$:te,interactive$:R,combinedLabelPositionLeft$:ie,combinedLabelPositionTop$:ae,progressDisplayOptions$:Je,handleDisplayOptions$:T,showValueLabels$:Ge,showMinMaxLabels$:K,showTicks$:k,rtl$:o,ticks$:Qe,...Q}),patch:_e,api:{},directives:{sliderDirective:M(Be,Ie,Ze),progressDisplayDirective:f(e=>({styles:{left:a(()=>d(e().option.left)),right:a(()=>d(e().option.right)),top:a(()=>d(e().option.top)),bottom:a(()=>d(e().option.bottom)),width:a(()=>d(e().option.width)),height:a(()=>d(e().option.height))},classNames:{"au-slider-progress":N}})),clickableAreaDirective:f(()=>({events:{mousedown:e=>{if(e.button!==0)return;const t=n()?e.clientY:e.clientX,i=le(se(t));E(t,i),ge(e,i)},touchstart:e=>{const t=n()?e.touches[0].clientY:e.touches[0].clientX,i=le(se(t));E(t,i),De(e,i)}},classNames:{"au-slider-clickable-area":h,"au-slider-clickable-area-vertical":n,"au-slider-clickable-area-with-ticks":a(()=>k()&&oe()===0)}})),handleEventsDirective:we,handleDirective:M(it,we,f(e=>({attributes:{role:y("slider"),"aria-valuemin":L,"aria-valuemax":g,"aria-valuenow":a(()=>e().item.value),"aria-valuetext":a(()=>e().item.ariaValueText),"aria-label":a(()=>e().item.ariaLabel),"aria-labelledBy":a(()=>e().item.ariaLabelledBy),"aria-orientation":a(()=>n()?"vertical":void 0),"aria-disabled":a(()=>_()?"true":void 0),disabled:_,"aria-readonly":a(()=>ce()?"true":void 0)},styles:{left:a(()=>d(T()[e().item.id].left)),top:a(()=>d(T()[e().item.id].top))},classNames:{"au-slider-handle":N,"au-slider-handle-vertical":n,"au-slider-handle-horizontal":h}}))),minLabelDirective:M(Te,et),maxLabelDirective:M(Ne,tt),combinedHandleLabelDisplayDirective:M(He,f(()=>({classNames:{"au-slider-label-vertical":n,"au-slider-label-vertical-now":n,"au-slider-label":h,"au-slider-label-now":h},styles:{left:a(()=>d(ie())),top:a(()=>d(ae()))},attributes:{"aria-hidden":y("true")}}))),handleLabelDisplayDirective:M(Ae,f(e=>({classNames:{"au-slider-label-vertical":n,"au-slider-label-vertical-now":n,"au-slider-label":h,"au-slider-label-now":h},styles:{left:a(()=>d(T()[e().index].left)),top:a(()=>d(T()[e().index].top))},attributes:{"aria-hidden":y("true")}}))),tickDirective:f(e=>({classNames:{"au-slider-tick":N,"au-slider-tick-horizontal":h,"au-slider-tick-vertical":n},styles:{left:a(()=>n()?null:d(e().tick.position)),top:a(()=>n()?d(e().tick.position):null)},events:{click:t=>{E(n()?t.clientY:t.clientX)}},attributes:{"aria-hidden":y("true")}})),tickLabelDirective:f(e=>({classNames:{"au-slider-tick-label":N,"au-slider-tick-label-vertical":n,"au-slider-tick-label-now":a(()=>C().some(t=>t===e().tick.value))},styles:{left:a(()=>n()?null:d(e().tick.position)),top:a(()=>n()?d(e().tick.position):null)},attributes:{"aria-hidden":y("true")}}))}}});export{wt as c};
