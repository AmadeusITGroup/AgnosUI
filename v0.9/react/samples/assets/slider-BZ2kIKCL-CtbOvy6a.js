import{b as a,B as de,C as pt,w as gt,m as B,a as w,r as T,f as Lt,n as $t}from"./dom-gfxqXJpK-BAcWixjJ.js";import{w as Dt,d as wt,t as N,s as yt}from"./stores-DrD8dowx.js";import{g as Mt,c as V,k as ee,t as kt,a as Ee,b as te,f as _e}from"./writables-CgpOQ4hA-BeXDOspc.js";import{c as Re,a as Pt}from"./resizeObserver-DTRhVMSv.js";import{c as St}from"./widget-zFin9FlD.js";const Vt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/;function me(r){var c;const u=(""+r).match(Vt);return Math.max(0,(((c=u[1])==null?void 0:c.length)??0)-(+u[2]||0))}const he=(r,c,u,b,m,p,f,d)=>{let h=r[c+b];if(h==null||Math.abs(h-u)>=m)return u;if(d){const k=u+m*b;h=he(r,c+b,k,b,m,p,f,d),h=Math.max(Math.min(h,f),p),r[c+b]=h}return Math.abs(h-u)<m&&(u=h-m*b,r[c]=u),u},fe=(r,c,u,b,m,p,f,d)=>{let h=r[c+b];if(h==null||Math.abs(h-u)<=m)return u;if(d){const k=u+m*b;h=fe(r,c+b,k,b,m,p,f,d),h=Math.max(Math.min(h,f),p),r[c+b]=h}return Math.abs(h-u)>m&&(u=h-m*b,r[c]=u),u},zt=(r,c,u,b,m,p,f)=>{let d=r[c];const h=r[c-1],k=r[c+1];return h!=null&&d<h?d=r[c]=h:k!=null&&d>k&&(d=r[c]=k),u&&(d=he(r,c,d,1,u,m,p,f),d=he(r,c,d,-1,u,m,p,f)),b&&(d=fe(r,c,d,1,b,m,p,f),fe(r,c,d,-1,b,m,p,f)),r},be={min:0,max:100,stepSize:1,readonly:!1,disabled:!1,vertical:!1,className:"",ariaLabel:()=>"Value",ariaLabelledBy:()=>"",ariaValueText:()=>"",onValuesChange:$t,values:[0],showValueLabels:!0,showMinMaxLabels:!0,showTicks:!1,showTickValues:!0,tickInterval:0,minRange:0,maxRange:0,pushRange:!1,rtl:!1},_t={min:_e,max:_e,stepSize:ee(0,1/0,{strict:!0}),readonly:V,disabled:V,vertical:V,ariaLabel:te,ariaLabelledBy:te,ariaValueText:te,onValuesChange:te,values:Ee,showValueLabels:V,showMinMaxLabels:V,showTicks:V,showTickValues:V,tickInterval:ee(0,1/0,{strict:!0}),rtl:V,className:kt,minRange:ee(0,1/0),maxRange:ee(0,1/0),pushRange:V},Te=(r,c,u,b,m)=>{const p=Math.pow(10,m);if(r>=u)return u;if(r<=c)return c;const f=Math.floor((r-c)*p/b);return+(((r-c)*p%b<b/2?f:f+1)*b/p+c).toFixed(m)},ie=(r,c,u,b)=>{c.update(m=>(m=[...m],m[r]=m[r]+u*b,m))},ae=(r,c,u)=>r&&c?u?1:-1:r&&!c?-1:!r&&c?u?-1:1:!r&&!c?-1:1,g=r=>r!=null?`${r}%`:"",Ht=St("slider",r=>{const[{min$:c,max$:u,minRange$:b,maxRange$:m,pushRange$:p,stepSize$:f,rtl$:d,values$:h,ariaLabel$:k,ariaLabelledBy$:Be,ariaValueText$:Ne,onValuesChange$:xe,showValueLabels$:F,showMinMaxLabels$:X,showTicks$:R,showTickValues$:x,tickInterval$:ve,...Y},He]=Dt(be,r,_t),{vertical$:o,disabled$:H,readonly$:pe}=Y;let q=-1;const C=new Map,P=a(()=>{const e=c(),t=u();return e===t?be.min:Math.min(e,t)}),z=a(()=>{const e=c(),t=u();return e===t?be.max:Math.max(e,t)}),Ie=a(()=>{const e=b();if(e<=0)return 0;const t=m();return t===0?e:Math.min(e,t)}),Oe=a(()=>{const e=m();if(e<=0)return 0;const t=b();return t===0?e:Math.max(t,e)}),se=a(()=>Math.max(me(f()),me(P()),me(z()))),ge=a(()=>f()*Math.pow(10,se()));let Le=h();const D=wt(h,xe,e=>{const t=P(),i=z(),s=ge(),n=se(),l=e.map(L=>Te(L,t,i,s,n));if(e.length>1){const L=Ie(),y=Oe();if(L||y){const M=p(),v=l.findIndex((_,Z)=>_!==Le[Z]);v!==-1&&zt(l,v,L,y,t,i,M)}}return Le=l,l},Ee.equal),{directive:Ae,element$:je}=de(),{directive:Fe,element$:Xe}=de(),{directive:Ye,element$:qe}=de(),{directive:Ce,elements$:$e}=pt(),{directive:Ue,dimensions$:ne}=Re(),{directive:We,dimensionsMap$:Ge}=Pt(),{directive:Je,dimensions$:Ke}=Re(),I=gt({}),De=a(()=>{var e;return ne(),I(),((e=je())==null?void 0:e.getBoundingClientRect())??{}},{equal:Object.is}),Qe=a(()=>{var e;return ne(),I(),((e=Xe())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),Ze=a(()=>{var e;return ne(),I(),((e=qe())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),et=a(()=>De()[o()?"top":"left"]),we=a(()=>De()[o()?"height":"width"]),U=a(()=>[...D()].sort((e,t)=>e-t)),tt=a(()=>D().map((e,t)=>({id:t,value:e})).sort((e,t)=>e.value-t.value)),it=a(()=>{const e=k(),t=Ne(),i=Be();return tt().map((s,n)=>({...s,ariaLabel:i(n)?void 0:e(n),ariaLabelledBy:i(n)||void 0,ariaValueText:t(s.value,n)||void 0}))}),ye=a(()=>D().map(e=>Q(e))),O=a(()=>[...ye()].sort((e,t)=>e-t)),W=a(()=>o()?"height":"width"),at=a(()=>o()?"top":"left"),st=a(()=>G(Qe()[W()])),nt=a(()=>G(Ze()[W()])),lt=a(()=>F()&&(!R()||!x())),G=e=>e?e/we()*100:0,le=a(()=>{var e;return G((e=Ke())==null?void 0:e.contentRect[W()])}),Me=a(()=>o()?oe():re()),S=e=>{var t;return G((t=Ge().get($e()[e]))==null?void 0:t.contentRect[W()])},ke=a(()=>{if(!X()||R()&&x())return!1;if(!F())return!0;const e=st(),t=o(),i=d();if(J()){const n=le(),l=Me();return i&&!t||t&&!i?l+n/2<100-e-1:l-n/2>e+1}const s=O();return i?s[0]-S(s.length-1)/2>e+1:s[0]-S(0)/2>e+1}),Pe=a(()=>{if(!X()||R()&&x())return!1;if(!F())return!0;const e=nt(),t=o(),i=d();if(J()){const n=le(),l=Me();return i&&!t||t&&!i?l-n/2>e+1:l+n/2<100-e-1}const s=O();return i?100-s[s.length-1]-S(0)/2>e+1:s[s.length-1]+S(s.length-1)/2<100-e-1}),J=a(()=>$e().length==2?rt():!1);function rt(){const e=E(),t=at(),i=K(e[0][t],S(0)),s=K(e[1][t],S(1)),n=S(0),l=S(1);if(n===100||l===100)return!1;const L=i-n,y=i+n,M=s-l,v=s+l;return!(y<M||L>v)}const A=a(()=>!H()&&!pe()),re=a(()=>{const e=O(),t=le();let i=(e[0]+e[1])/2;return i=K(i,t),o()||e.length!=2?0:d()?100-i:i}),oe=a(()=>{const e=O(),t=100-(e[0]+e[1])/2;return o()&&e.length==2?d()?100-t:t:0}),E=a(()=>{const e=o(),t=d();return ye().map(i=>({left:t?e?null:100-i:e?null:i,top:t?e?i:null:e?100-i:null}))}),K=(e,t)=>Mt(e,100-t/2,t/2),ot=a(()=>{const e=o(),t=O(),i=d();return t.length===1?[{left:e||i?null:0,right:e?null:i?0:null,bottom:e?i?null:0:null,top:e&&i?0:null,width:e?100:t[0],height:e?t[0]:100,id:0}]:t.map((s,n,l)=>({left:e||i?null:s,right:e?null:i?l[n]:null,bottom:e?i?null:s:null,top:e&&i?l[n]:null,width:e?100:n===l.length-1?s:l[n+1]-s,height:e?n===l.length-1?s:l[n+1]-s:100,id:n})).slice(0,t.length-1)}),ct=a(()=>{if(!R())return[];const e=o(),t=P(),i=z(),s=d(),n=x(),l=ve()||f(),L=[],y=ge(),M=se(),v=_=>!!s!=!!e?100-_:_;for(let _=t;_<i;_+=l){const Z=Te(_,t,i,y,M),vt=Q(Z);L.push({position:v(vt),selected:!1,value:Z,displayLabel:n})}return L.push({position:v(100),selected:!1,value:i,displayLabel:n}),L}),ut=a(()=>{const e=U(),t=i=>{const s=e.length>1,n=s?e[e.length-1]:e[0],l=s?e[0]:0;return i<=n&&i>=l};return ct().map(i=>({...i,selected:t(i.value)}))}),Q=e=>{const t=P(),i=z();return(e-t)*100/(i-t)},ce=e=>{const t=D();if(t.length===1)return 0;const i=U(),s=i.find(y=>Q(y)>e*100),n=s?i.indexOf(s):i.length-1,l=Q(i[n-1]+(i[n]-i[n-1])/2),L=i[e*100<=l?n-1:n];return t.indexOf(L)},ue=e=>{const t=we(),i=et();let s=o()?(t-e+i)/t:(e-i)/t;return s=d()?1-s:s,s},j=(e,t)=>{if(A()){const i=ue(e),s=t??ce(i),n=i*(z()-P())+P();D.update(l=>(l=[...l],l[s]=n,l))}},$=a(()=>!o()),dt=w(()=>({classNames:{"au-slider":N,"au-slider-vertical":o,"au-slider-horizontal":$},attributes:{class:Y.className$}})),mt=w(()=>({attributes:{"aria-disabled":a(()=>H()?"true":void 0),class:Y.className$},classNames:{"au-slider-content":N,"au-slider-vertical":o,"au-slider-horizontal":$,"au-slider-with-labels":a(()=>F()||X()||x()&&R()),disabled:H}})),bt=w(()=>({classNames:{"au-slider-label-vertical":o,"au-slider-label-vertical-min":o,"au-slider-label":$,"au-slider-label-min":$,"au-slider-rtl":d,invisible:a(()=>!ke())},attributes:{"aria-hidden":T("true")}})),ht=w(()=>({classNames:{"au-slider-label-vertical":o,"au-slider-label-vertical-max":o,"au-slider-label":$,"au-slider-label-max":$,"au-slider-rtl":d,invisible:a(()=>!Pe())},attributes:{"aria-hidden":T("true")}})),ft=Lt((e,t)=>{const i=()=>{C.delete(t.item.id)},s=n=>{C.set(n.item.id,e)};return s(t),{update:s,destroy:i}}),Se=(e,t)=>{e.preventDefault();const i=t!==void 0?C.get(t):e.target,s=n=>{n.preventDefault();const l=o()?n.clientY:n.clientX;i==null||i.focus(),q!==l&&(q=l,j(l,t))};A()&&(I.set({}),i==null||i.focus(),document.addEventListener("mousemove",s),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",s)},{once:!0}))},Ve=(e,t)=>{const i=t!==void 0?C.get(t):e.target,s=n=>{n.preventDefault();const l=o()?n.touches[0].clientY:n.touches[0].clientX;i==null||i.focus(),q!==l&&(q=l,j(l,t))};A()&&(I.set({}),i==null||i.focus(),document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("touchend",()=>{document.removeEventListener("touchmove",s),document.removeEventListener("touchcancel",s)},{once:!0}),document.addEventListener("touchcancel",()=>{document.removeEventListener("touchmove",s),document.removeEventListener("touchend",s)},{once:!0}))},ze=w(e=>({events:{keydown:t=>{const i=e().item.id,{key:s}=t,n=d(),l=f(),L=P(),y=z(),M=o();if(A()){switch(s){case"ArrowDown":ie(i,D,l,ae(M,n,!0));break;case"ArrowLeft":ie(i,D,l,ae(M,n,!1));break;case"ArrowUp":ie(i,D,l,-1*ae(M,n,!0));break;case"ArrowRight":ie(i,D,l,-1*ae(M,n,!1));break;case"Home":D.update(v=>(v=[...v],v[i]=L,v));break;case"End":D.update(v=>(v=[...v],v[i]=y,v));break;case"PageUp":break;case"PageDown":break;default:return}t.preventDefault()}},mousedown:t=>{t.button===0&&Se(t,e().item.id)},touchstart:t=>{Ve(t,e().item.id)}}}));return{...yt({min$:P,max$:z,stepSize$:f,values$:D,sortedValues$:U,sortedHandles$:it,minValueLabelDisplay$:ke,maxValueLabelDisplay$:Pe,combinedLabelDisplay$:J,interactive$:A,combinedLabelPositionLeft$:re,combinedLabelPositionTop$:oe,progressDisplayOptions$:ot,handleDisplayOptions$:E,showValueLabels$:lt,showMinMaxLabels$:X,showTicks$:R,rtl$:d,ticks$:ut,...Y}),patch:He,api:{},directives:{sliderDirective:B(Ae,Ue,mt),containerDirective:dt,progressDisplayDirective:w(e=>({styles:{left:a(()=>g(e().option.left)),right:a(()=>g(e().option.right)),top:a(()=>g(e().option.top)),bottom:a(()=>g(e().option.bottom)),width:a(()=>g(e().option.width)),height:a(()=>g(e().option.height))},classNames:{"au-slider-progress":N}})),clickableAreaDirective:w(()=>({events:{mousedown:e=>{if(e.button!==0)return;const t=o()?e.clientY:e.clientX,i=ce(ue(t));j(t,i),Se(e,i)},touchstart:e=>{const t=o()?e.touches[0].clientY:e.touches[0].clientX,i=ce(ue(t));j(t,i),Ve(e,i)}},classNames:{"au-slider-clickable-area":$,"au-slider-clickable-area-vertical":o,"au-slider-clickable-area-with-ticks":a(()=>R()&&ve()===0)}})),handleEventsDirective:ze,handleDirective:B(ft,ze,w(e=>({attributes:{role:T("slider"),"aria-valuemin":P,"aria-valuemax":z,"aria-valuenow":a(()=>e().item.value),"aria-valuetext":a(()=>e().item.ariaValueText),"aria-label":a(()=>e().item.ariaLabel),"aria-labelledBy":a(()=>e().item.ariaLabelledBy),"aria-orientation":a(()=>o()?"vertical":void 0),"aria-disabled":a(()=>H()?"true":void 0),disabled:H,"aria-readonly":a(()=>pe()?"true":void 0)},styles:{left:a(()=>g(E()[e().item.id].left)),top:a(()=>g(E()[e().item.id].top))},classNames:{"au-slider-handle":N,"au-slider-handle-vertical":o,"au-slider-handle-horizontal":$}}))),minLabelDirective:B(Fe,bt),maxLabelDirective:B(Ye,ht),combinedHandleLabelDisplayDirective:B(Je,w(()=>({classNames:{"au-slider-label-vertical":o,"au-slider-label-vertical-now":o,"au-slider-label":$,"au-slider-label-now":$},styles:{left:a(()=>g(re())),top:a(()=>g(oe()))},attributes:{"aria-hidden":T("true")}}))),handleLabelDisplayDirective:B(Ce,We,w(e=>({classNames:{"au-slider-label-vertical":o,"au-slider-label-vertical-now":o,"au-slider-label":$,"au-slider-label-now":$},styles:{left:a(()=>{const t=e().index,i=E()[t].left;return i===null?"":g(K(i,S(t)))}),top:a(()=>g(E()[e().index].top)),opacity:a(()=>J()?"0":"1")},attributes:{"aria-hidden":T("true")}}))),tickDirective:w(e=>({classNames:{"au-slider-tick":N,"au-slider-tick-horizontal":$,"au-slider-tick-vertical":o},styles:{left:a(()=>o()?null:g(e().tick.position)),top:a(()=>o()?g(e().tick.position):null)},events:{click:t=>{j(o()?t.clientY:t.clientX)}},attributes:{"aria-hidden":T("true")}})),tickLabelDirective:w(e=>({classNames:{"au-slider-tick-label":N,"au-slider-tick-label-vertical":o,"au-slider-tick-label-now":a(()=>U().some(t=>t===e().tick.value))},styles:{left:a(()=>o()?null:g(e().tick.position)),top:a(()=>o()?g(e().tick.position):null)},attributes:{"aria-hidden":T("true")}}))}}});export{Ht as c};
