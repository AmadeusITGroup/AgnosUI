import{l as y,p as x,O as K,K as P,f as c,e as g,h as b,s as k,j as O,d as r,a as M,m as S,a5 as V,i as W}from"./AppCommon-yGDLvh0E.js";import{s as q}from"./snippet-DTpzyFcZ.js";import{a as d}from"./actions-DRITltGU.js";import{c as z}from"./config-DgggZfh_.js";import{c as D}from"./modal-D3wGIDlj-PM38bDc7.js";import{c as C}from"./dom-gfxqXJpK-CL0tkJio.js";import"./stores-wS22gwlR.js";import"./index-client-BNS9osEX.js";import"./writables-CgpOQ4hA-Q9fMHnUi.js";import"./baseTransitions-Dslxp0HL.js";import"./promise-XSP94FjG-mEagLB-y.js";import"./widget-CAXEMoJb.js";var G=c("<button>✕</button>"),H=c('<div class="modal-backdrop"><button type="button">Close</button></div>'),I=c('<dialog><div class="modal-box"><!> <!></div> <!></dialog>');function J(i,t){x(t,!0);let s=K(t,"visible",15),f=P(t,["$$slots","$$events","$$legacy","children","closeOnOutsideClick","visible"]);const{state:w,directives:{closeButtonDirective:m,dialogDirective:p},api:A}=z(D,{get props(){return{visible:s(),closeOnOutsideClick:t.closeOnOutsideClick,...f}},defaultConfig:{closeButton:!0},events:{onVisibleChange:o=>{s(o)}}}),u=A;var l=I();g(l,o=>({onclose:u.close,...o}),[()=>({})]);var _=b(l),h=b(_);q(h,()=>t.children);var E=k(h,2);{var j=o=>{var e=G();g(e,a=>({...a}),[()=>({})]),d(e,(a,v)=>{var n;return(n=C)==null?void 0:n(a,v)},()=>"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),d(e,a=>m==null?void 0:m(a)),r(o,e)};O(E,o=>{w.closeButton&&o(j)})}var B=k(_,2);{var F=o=>{var e=H(),a=b(e);a.__click=function(...v){var n;(n=u.close)==null||n.apply(this,v)},r(o,e)};O(B,o=>{t.closeOnOutsideClick&&o(F)})}return d(l,(o,e)=>{var a;return(a=C)==null?void 0:a(o,e)},()=>"modal modal-bottom sm:modal-middle"),d(l,o=>p==null?void 0:p(o)),r(i,l),M({api:u})}y(["click"]);async function L(i){const t=document.createElement("div");document.body.append(t);const s=S(J,{target:t,props:i});try{return await s.api.open()}catch{t.remove(),await V(s)}}const N=i=>{var t=R();r(i,t)},Q=(i,t)=>L({children:t,closeOnOutsideClick:!0});var R=c('<h3 class="font-bold text-lg">A simple modal</h3> <p class="py-4">Press ESC key, click on ✕ button or click outside the modal to close</p>',1),T=c('<button class="btn" aria-haspopup="dialog">Open modal</button>');function nt(i,t){x(t,!1),W();var s=T();s.__click=[Q,N],r(i,s),M()}y(["click"]);export{nt as default};
