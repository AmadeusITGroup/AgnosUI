import{a0 as a,af as _e,$ as R}from"./AppCommon-yGDLvh0E.js";import{q as Z,s as bt,m as N,a as w,b as ht,n as ft}from"./dom-gfxqXJpK-CL0tkJio.js";import{w as vt,e as pt,s as gt,t as E}from"./stores-wS22gwlR.js";import{a as Te,k as ee,c as S,t as Lt,b as te,g as Re}from"./writables-CgpOQ4hA-Q9fMHnUi.js";import{c as Dt}from"./resizeObserver-CcpK70j3.js";import{c as $t}from"./widget-CAXEMoJb.js";const wt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/;function de(o){var c;const u=(""+o).match(wt);return Math.max(0,(((c=u[1])==null?void 0:c.length)??0)-(+u[2]||0))}const be=(o,c,u,b,m,v,f,d)=>{let h=o[c+b];if(h==null||Math.abs(h-u)>=m)return u;if(d){const k=u+m*b;h=be(o,c+b,k,b,m,v,f,d),h=Math.max(Math.min(h,f),v),o[c+b]=h}return Math.abs(h-u)<m&&(u=h-m*b,o[c]=u),u},he=(o,c,u,b,m,v,f,d)=>{let h=o[c+b];if(h==null||Math.abs(h-u)<=m)return u;if(d){const k=u+m*b;h=he(o,c+b,k,b,m,v,f,d),h=Math.max(Math.min(h,f),v),o[c+b]=h}return Math.abs(h-u)>m&&(u=h-m*b,o[c]=u),u},yt=(o,c,u,b,m,v,f)=>{let d=o[c];const h=o[c-1],k=o[c+1];return h!=null&&d<h?d=o[c]=h:k!=null&&d>k&&(d=o[c]=k),u&&(d=be(o,c,d,1,u,m,v,f),d=be(o,c,d,-1,u,m,v,f)),b&&(d=he(o,c,d,1,b,m,v,f),he(o,c,d,-1,b,m,v,f)),o},me={min:0,max:100,stepSize:1,readonly:!1,disabled:!1,vertical:!1,className:"",ariaLabel:()=>"Value",ariaLabelledBy:()=>"",ariaValueText:()=>"",onValuesChange:ft,values:[0],showValueLabels:!0,showMinMaxLabels:!0,showTicks:!1,showTickValues:!0,tickInterval:0,minRange:0,maxRange:0,pushRange:!1,rtl:!1},kt={min:Re,max:Re,stepSize:ee(0,1/0,{strict:!0}),readonly:S,disabled:S,vertical:S,ariaLabel:te,ariaLabelledBy:te,ariaValueText:te,onValuesChange:te,values:Te,showValueLabels:S,showMinMaxLabels:S,showTicks:S,showTickValues:S,tickInterval:ee(0,1/0,{strict:!0}),rtl:S,className:Lt,minRange:ee(0,1/0),maxRange:ee(0,1/0),pushRange:S},Be=(o,c,u,b,m)=>{const v=Math.pow(10,m);if(o>=u)return u;if(o<=c)return c;const f=Math.floor((o-c)*v/b);return+(((o-c)*v%b<b/2?f:f+1)*b/v+c).toFixed(m)},ie=(o,c,u,b)=>{c.update(m=>(m=[...m],m[o]=m[o]+u*b,m))},ae=(o,c,u)=>o&&c?u?1:-1:o&&!c?-1:!o&&c?u?-1:1:!o&&!c?-1:1,p=o=>o!=null?`${o}%`:"",Bt=$t("slider",o=>{const[{min$:c,max$:u,minRange$:b,maxRange$:m,pushRange$:v,stepSize$:f,rtl$:d,values$:h,ariaLabel$:k,ariaLabelledBy$:Ne,ariaValueText$:Ee,onValuesChange$:xe,showValueLabels$:q,showMinMaxLabels$:F,showTicks$:_,showTickValues$:x,tickInterval$:fe,...X},He]=vt(me,o,kt),{vertical$:r,disabled$:H,readonly$:ve}=X;let Y=-1;const C=new Map,M=a(()=>{const e=c(),t=u();return e===t?me.min:Math.min(e,t)}),V=a(()=>{const e=c(),t=u();return e===t?me.max:Math.max(e,t)}),Oe=a(()=>{const e=b();if(e<=0)return 0;const t=m();return t===0?e:Math.min(e,t)}),Ie=a(()=>{const e=m();if(e<=0)return 0;const t=b();return t===0?e:Math.max(t,e)}),se=a(()=>Math.max(de(f()),de(M()),de(V()))),pe=a(()=>f()*Math.pow(10,se()));let ge=h();const $=pt(h,xe,e=>{const t=M(),i=V(),s=pe(),n=se(),l=e.map(D=>Be(D,t,i,s,n));if(e.length>1){const D=Oe(),y=Ie();if(D||y){const z=v(),g=l.findIndex((P,Q)=>P!==ge[Q]);g!==-1&&yt(l,g,D,y,t,i,z)}}return ge=l,l},Te.equal),{directive:Ae,element$:je}=Z(),{directive:qe,element$:Fe}=Z(),{directive:Xe,element$:Ye}=Z(),{directive:Ce,element$:Le}=Z(),{directive:Ue,elements$:We}=bt(),{directive:Ge,dimensions$:U}=Dt(),B=_e({}),ne=a(()=>(U(),B(),We().map(e=>e.getBoundingClientRect())),{equal:Object.is}),W=a(()=>{var e;return U(),B(),((e=je())==null?void 0:e.getBoundingClientRect())??{}},{equal:Object.is}),Je=a(()=>{var e;return U(),B(),((e=Fe())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),Ke=a(()=>{var e;return U(),B(),((e=Ye())==null?void 0:e.getBoundingClientRect())??{}},{equal:(e,t)=>Object.is(e,t)}),Qe=a(()=>r()?W().top:W().left),De=a(()=>r()?W().height:W().width),G=a(()=>[...$()].sort((e,t)=>e-t)),Ze=a(()=>$().map((e,t)=>({id:t,value:e})).sort((e,t)=>e.value-t.value)),et=a(()=>{const e=k(),t=Ee(),i=Ne();return Ze().map((s,n)=>({...s,ariaLabel:i(n)?void 0:e(n),ariaLabelledBy:i(n)||void 0,ariaValueText:t(s.value,n)||void 0}))}),$e=a(()=>$().map(e=>K(e))),T=a(()=>[...$e()].sort((e,t)=>e-t)),tt=a(()=>{const e=Je();return J(r()?e.height:e.width)}),it=a(()=>{const e=Ke();return J(r()?e.height:e.width)}),at=a(()=>q()&&(!_()||!x())),J=e=>e?e/De()*100:0,we=a(()=>{var e,t;return J(r()?(e=Le())==null?void 0:e.getBoundingClientRect().height:(t=Le())==null?void 0:t.getBoundingClientRect().width)}),ye=a(()=>r()?oe():re()),O=e=>{var t,i;return J(r()?(t=ne()[e])==null?void 0:t.height:(i=ne()[e])==null?void 0:i.width)},ke=a(()=>{if(!F()||_()&&x())return!1;if(!q())return!0;const e=tt(),t=r(),i=d();if(le()){const n=we(),l=ye();return i&&!t||t&&!i?l+n/2<100-e-1:l-n/2>e+1}const s=T();return i?s[0]-O(s.length-1)/2>e+1:s[0]-O(0)/2>e+1}),Me=a(()=>{if(!F()||_()&&x())return!1;if(!q())return!0;const e=it(),t=r(),i=d();if(le()){const n=we(),l=ye();return i&&!t||t&&!i?l-n/2>e+1:l+n/2<100-e-1}const s=T();return i?100-s[s.length-1]-O(0)/2>e+1:s[s.length-1]+O(s.length-1)/2<100-e-1}),Se=_e([]),le=a(()=>{const e=T();ne().length===e.length&&Se.set(e.map((D,y)=>O(y)/2));const t=Se(),i=(t==null?void 0:t[0])??0,s=(t==null?void 0:t[1])??0,n=Math.max(i,s),l=n!==50?n*2+2:15;return e.length==2&&e[1]-s-e[0]+i<l}),I=a(()=>!H()&&!ve()),re=a(()=>{const e=T(),t=(e[0]+e[1])/2;return r()||e.length!=2?0:d()?100-t:t}),oe=a(()=>{const e=T(),t=100-(e[0]+e[1])/2;return r()&&e.length==2?d()?100-t:t:0}),A=a(()=>{const e=r(),t=d();return $e().map(i=>({left:t?e?null:100-i:e?null:i,top:t?e?i:null:e?100-i:null}))}),st=a(()=>{const e=r(),t=T(),i=d();return t.length===1?[{left:e||i?null:0,right:e?null:i?0:null,bottom:e?i?null:0:null,top:e&&i?0:null,width:e?100:t[0],height:e?t[0]:100,id:0}]:t.map((s,n,l)=>({left:e||i?null:s,right:e?null:i?l[n]:null,bottom:e?i?null:s:null,top:e&&i?l[n]:null,width:e?100:n===l.length-1?s:l[n+1]-s,height:e?n===l.length-1?s:l[n+1]-s:100,id:n})).slice(0,t.length-1)}),nt=a(()=>{if(!_())return[];const e=r(),t=M(),i=V(),s=d(),n=x(),l=fe()||f(),D=[],y=pe(),z=se(),g=P=>!!s!=!!e?100-P:P;for(let P=t;P<i;P+=l){const Q=Be(P,t,i,y,z),mt=K(Q);D.push({position:g(mt),selected:!1,value:Q,displayLabel:n})}return D.push({position:g(100),selected:!1,value:i,displayLabel:n}),D}),lt=a(()=>{const e=G(),t=i=>{const s=e.length>1,n=s?e[e.length-1]:e[0],l=s?e[0]:0;return i<=n&&i>=l};return nt().map(i=>({...i,selected:t(i.value)}))}),K=e=>{const t=M(),i=V();return(e-t)*100/(i-t)},ce=e=>{const t=$();if(t.length===1)return 0;const i=G(),s=i.find(y=>K(y)>e*100),n=s?i.indexOf(s):i.length-1,l=K(i[n-1]+(i[n]-i[n-1])/2),D=i[e*100<=l?n-1:n];return t.indexOf(D)},ue=e=>{const t=De(),i=Qe();let s=r()?(t-e+i)/t:(e-i)/t;return s=d()?1-s:s,s},j=(e,t)=>{if(I()){const i=ue(e),s=t??ce(i),n=i*(V()-M())+M();$.update(l=>(l=[...l],l[s]=n,l))}},L=a(()=>!r()),rt=w(()=>({classNames:{"au-slider":E,"au-slider-vertical":r,"au-slider-horizontal":L},attributes:{class:X.className$}})),ot=w(()=>({attributes:{"aria-disabled":a(()=>H()?"true":void 0),class:X.className$},classNames:{"au-slider-content":E,"au-slider-vertical":r,"au-slider-horizontal":L,"au-slider-with-labels":a(()=>q()||F()||x()&&_()),disabled:H}})),ct=w(()=>({classNames:{"au-slider-label-vertical":r,"au-slider-label-vertical-min":r,"au-slider-label":L,"au-slider-label-min":L,"au-slider-rtl":d,invisible:a(()=>!ke())},attributes:{"aria-hidden":R("true")}})),ut=w(()=>({classNames:{"au-slider-label-vertical":r,"au-slider-label-vertical-max":r,"au-slider-label":L,"au-slider-label-max":L,"au-slider-rtl":d,invisible:a(()=>!Me())},attributes:{"aria-hidden":R("true")}})),dt=ht((e,t)=>{const i=()=>{C.delete(t.item.id)},s=n=>{C.set(n.item.id,e)};return s(t),{update:s,destroy:i}}),Ve=(e,t)=>{e.preventDefault();const i=t!==void 0?C.get(t):e.target,s=n=>{n.preventDefault();const l=r()?n.clientY:n.clientX;i==null||i.focus(),Y!==l&&(Y=l,j(l,t))};I()&&(B.set({}),i==null||i.focus(),document.addEventListener("mousemove",s),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",s)},{once:!0}))},ze=(e,t)=>{const i=t!==void 0?C.get(t):e.target,s=n=>{n.preventDefault();const l=r()?n.touches[0].clientY:n.touches[0].clientX;i==null||i.focus(),Y!==l&&(Y=l,j(l,t))};I()&&(B.set({}),i==null||i.focus(),document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("touchend",()=>{document.removeEventListener("touchmove",s),document.removeEventListener("touchcancel",s)},{once:!0}),document.addEventListener("touchcancel",()=>{document.removeEventListener("touchmove",s),document.removeEventListener("touchend",s)},{once:!0}))},Pe=w(e=>({events:{keydown:t=>{const i=e().item.id,{key:s}=t,n=d(),l=f(),D=M(),y=V(),z=r();if(I()){switch(s){case"ArrowDown":ie(i,$,l,ae(z,n,!0));break;case"ArrowLeft":ie(i,$,l,ae(z,n,!1));break;case"ArrowUp":ie(i,$,l,-1*ae(z,n,!0));break;case"ArrowRight":ie(i,$,l,-1*ae(z,n,!1));break;case"Home":$.update(g=>(g=[...g],g[i]=D,g));break;case"End":$.update(g=>(g=[...g],g[i]=y,g));break;case"PageUp":break;case"PageDown":break;default:return}t.preventDefault()}},mousedown:t=>{t.button===0&&Ve(t,e().item.id)},touchstart:t=>{ze(t,e().item.id)}}}));return{...gt({min$:M,max$:V,stepSize$:f,values$:$,sortedValues$:G,sortedHandles$:et,minValueLabelDisplay$:ke,maxValueLabelDisplay$:Me,combinedLabelDisplay$:le,interactive$:I,combinedLabelPositionLeft$:re,combinedLabelPositionTop$:oe,progressDisplayOptions$:st,handleDisplayOptions$:A,showValueLabels$:at,showMinMaxLabels$:F,showTicks$:_,rtl$:d,ticks$:lt,...X}),patch:He,api:{},directives:{sliderDirective:N(Ae,Ge,ot),containerDirective:rt,progressDisplayDirective:w(e=>({styles:{left:a(()=>p(e().option.left)),right:a(()=>p(e().option.right)),top:a(()=>p(e().option.top)),bottom:a(()=>p(e().option.bottom)),width:a(()=>p(e().option.width)),height:a(()=>p(e().option.height))},classNames:{"au-slider-progress":E}})),clickableAreaDirective:w(()=>({events:{mousedown:e=>{if(e.button!==0)return;const t=r()?e.clientY:e.clientX,i=ce(ue(t));j(t,i),Ve(e,i)},touchstart:e=>{const t=r()?e.touches[0].clientY:e.touches[0].clientX,i=ce(ue(t));j(t,i),ze(e,i)}},classNames:{"au-slider-clickable-area":L,"au-slider-clickable-area-vertical":r,"au-slider-clickable-area-with-ticks":a(()=>_()&&fe()===0)}})),handleEventsDirective:Pe,handleDirective:N(dt,Pe,w(e=>({attributes:{role:R("slider"),"aria-valuemin":M,"aria-valuemax":V,"aria-valuenow":a(()=>e().item.value),"aria-valuetext":a(()=>e().item.ariaValueText),"aria-label":a(()=>e().item.ariaLabel),"aria-labelledBy":a(()=>e().item.ariaLabelledBy),"aria-orientation":a(()=>r()?"vertical":void 0),"aria-disabled":a(()=>H()?"true":void 0),disabled:H,"aria-readonly":a(()=>ve()?"true":void 0)},styles:{left:a(()=>p(A()[e().item.id].left)),top:a(()=>p(A()[e().item.id].top))},classNames:{"au-slider-handle":E,"au-slider-handle-vertical":r,"au-slider-handle-horizontal":L}}))),minLabelDirective:N(qe,ct),maxLabelDirective:N(Xe,ut),combinedHandleLabelDisplayDirective:N(Ce,w(()=>({classNames:{"au-slider-label-vertical":r,"au-slider-label-vertical-now":r,"au-slider-label":L,"au-slider-label-now":L},styles:{left:a(()=>p(re())),top:a(()=>p(oe()))},attributes:{"aria-hidden":R("true")}}))),handleLabelDisplayDirective:N(Ue,w(e=>({classNames:{"au-slider-label-vertical":r,"au-slider-label-vertical-now":r,"au-slider-label":L,"au-slider-label-now":L},styles:{left:a(()=>p(A()[e().index].left)),top:a(()=>p(A()[e().index].top))},attributes:{"aria-hidden":R("true")}}))),tickDirective:w(e=>({classNames:{"au-slider-tick":E,"au-slider-tick-horizontal":L,"au-slider-tick-vertical":r},styles:{left:a(()=>r()?null:p(e().tick.position)),top:a(()=>r()?p(e().tick.position):null)},events:{click:t=>{j(r()?t.clientY:t.clientX)}},attributes:{"aria-hidden":R("true")}})),tickLabelDirective:w(e=>({classNames:{"au-slider-tick-label":E,"au-slider-tick-label-vertical":r,"au-slider-tick-label-now":a(()=>G().some(t=>t===e().tick.value))},styles:{left:a(()=>r()?null:p(e().tick.position)),top:a(()=>r()?p(e().tick.position):null)},attributes:{"aria-hidden":R("true")}}))}}});export{Bt as c};
