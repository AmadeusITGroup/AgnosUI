import{r as f,j as C}from"./App-uWCEDvX1.js";import{f as m,i as l,g as d,h as x}from"./directive-CKEccryv-BrWl76X8.js";import{u as y}from"./widget-DaA-pe23-DDgilb67.js";import{a as v}from"./stores-B90XF8Sy-CHGO_oWT.js";const c=(t,e,i=1/0)=>{if(e!==void 0)if(typeof e=="object"&&e&&i>=1){t||(t={});for(const o of Object.keys(e))Object.prototype.hasOwnProperty.call(e,o)&&(o==="__proto__"||o==="constructor"||(t[o]=c(t[o],e[o],i-1)))}else return e;return t},h=(t,e=l)=>{const i=m({}),o=e===l?t:d(()=>e(c({},t==null?void 0:t(),2)));return x(d(()=>c(c({},o==null?void 0:o(),2),i(),2)),{...i,own$:i,adaptedParent$:o,parent$:t})},j=(t=f.createContext(void 0))=>{const e=(n,u)=>{const s=f.useContext(t),r=v(u);return f.useMemo(()=>d(()=>({...r(),...n?s==null?void 0:s()[n]:void 0})),[r,n,s])};return{widgetsConfigContext:t,useWidgetContext:e,useWidgetWithConfig:(n,u,s,r)=>y(n,u,{config:e(s,r)}),WidgetsDefaultConfig:({children:n,adaptParentConfig:u,...s})=>{const r=f.useContext(t),g=f.useRef(!1);g.current=!1;const W=f.useMemo(()=>{const a=h(r,u);return a.set(s),g.current=!0,a},[r,u]);return f.useEffect(()=>{g.current||W.set(s)},[s]),C.jsx(t.Provider,{value:W,children:n})}}},{widgetsConfigContext:w,WidgetsDefaultConfig:E,useWidgetContext:O,useWidgetWithConfig:R}=j();export{R as u,j as w};
